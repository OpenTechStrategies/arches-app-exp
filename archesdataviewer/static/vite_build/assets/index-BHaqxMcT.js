(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Oa(t,n){const r=new Set(t.split(","));return o=>r.has(o)}const at={},Gi=[],sn=()=>{},wd=()=>!1,Us=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ia=t=>t.startsWith("onUpdate:"),gt=Object.assign,ka=(t,n)=>{const r=t.indexOf(n);r>-1&&t.splice(r,1)},bd=Object.prototype.hasOwnProperty,Ke=(t,n)=>bd.call(t,n),Ee=Array.isArray,Ji=t=>qs(t)==="[object Map]",Au=t=>qs(t)==="[object Set]",Me=t=>typeof t=="function",vt=t=>typeof t=="string",Mi=t=>typeof t=="symbol",ct=t=>t!==null&&typeof t=="object",Ru=t=>(ct(t)||Me(t))&&Me(t.then)&&Me(t.catch),Mu=Object.prototype.toString,qs=t=>Mu.call(t),Pd=t=>qs(t).slice(8,-1),Nu=t=>qs(t)==="[object Object]",Aa=t=>vt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Sr=Oa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ks=t=>{const n=Object.create(null);return r=>n[r]||(n[r]=t(r))},$d=/-(\w)/g,nr=Ks(t=>t.replace($d,(n,r)=>r?r.toUpperCase():"")),Sd=/\B([A-Z])/g,rr=Ks(t=>t.replace(Sd,"-$1").toLowerCase()),Du=Ks(t=>t.charAt(0).toUpperCase()+t.slice(1)),Fo=Ks(t=>t?`on${Du(t)}`:""),ai=(t,n)=>!Object.is(t,n),Cs=(t,n)=>{for(let r=0;r<t.length;r++)t[r](n)},zu=(t,n,r,o=!1)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,writable:o,value:r})},ra=t=>{const n=parseFloat(t);return isNaN(n)?t:n},Ed=t=>{const n=vt(t)?Number(t):NaN;return isNaN(n)?t:n};let Ec;const ju=()=>Ec||(Ec=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ra(t){if(Ee(t)){const n={};for(let r=0;r<t.length;r++){const o=t[r],a=vt(o)?xd(o):Ra(o);if(a)for(const c in a)n[c]=a[c]}return n}else if(vt(t)||ct(t))return t}const Td=/;(?![^(]*\))/g,Cd=/:([^]+)/,Ld=/\/\*[^]*?\*\//g;function xd(t){const n={};return t.replace(Ld,"").split(Td).forEach(r=>{if(r){const o=r.split(Cd);o.length>1&&(n[o[0].trim()]=o[1].trim())}}),n}function vn(t){let n="";if(vt(t))n=t;else if(Ee(t))for(let r=0;r<t.length;r++){const o=vn(t[r]);o&&(n+=o+" ")}else if(ct(t))for(const r in t)t[r]&&(n+=r+" ");return n.trim()}const Od="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Id=Oa(Od);function Bu(t){return!!t||t===""}const qt=t=>vt(t)?t:t==null?"":Ee(t)||ct(t)&&(t.toString===Mu||!Me(t.toString))?JSON.stringify(t,Fu,2):String(t),Fu=(t,n)=>n&&n.__v_isRef?Fu(t,n.value):Ji(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((r,[o,a],c)=>(r[Zo(o,c)+" =>"]=a,r),{})}:Au(n)?{[`Set(${n.size})`]:[...n.values()].map(r=>Zo(r))}:Mi(n)?Zo(n):ct(n)&&!Ee(n)&&!Nu(n)?String(n):n,Zo=(t,n="")=>{var r;return Mi(t)?`Symbol(${(r=t.description)!=null?r:n})`:t};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ut;class Zu{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ut,!n&&Ut&&(this.index=(Ut.scopes||(Ut.scopes=[])).push(this)-1)}get active(){return this._active}run(n){if(this._active){const r=Ut;try{return Ut=this,n()}finally{Ut=r}}}on(){Ut=this}off(){Ut=this.parent}stop(n){if(this._active){let r,o;for(r=0,o=this.effects.length;r<o;r++)this.effects[r].stop();for(r=0,o=this.cleanups.length;r<o;r++)this.cleanups[r]();if(this.scopes)for(r=0,o=this.scopes.length;r<o;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!n){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function Vu(t){return new Zu(t)}function kd(t,n=Ut){n&&n.active&&n.effects.push(t)}function Hu(){return Ut}function Ad(t){Ut&&Ut.cleanups.push(t)}let xi;class Ma{constructor(n,r,o,a){this.fn=n,this.trigger=r,this.scheduler=o,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,kd(this,a)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,ci();for(let n=0;n<this._depsLength;n++){const r=this.deps[n];if(r.computed&&(Rd(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),ui()}return this._dirtyLevel>=4}set dirty(n){this._dirtyLevel=n?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let n=si,r=xi;try{return si=!0,xi=this,this._runnings++,Tc(this),this.fn()}finally{Cc(this),this._runnings--,xi=r,si=n}}stop(){this.active&&(Tc(this),Cc(this),this.onStop&&this.onStop(),this.active=!1)}}function Rd(t){return t.value}function Tc(t){t._trackId++,t._depsLength=0}function Cc(t){if(t.deps.length>t._depsLength){for(let n=t._depsLength;n<t.deps.length;n++)Uu(t.deps[n],t);t.deps.length=t._depsLength}}function Uu(t,n){const r=t.get(n);r!==void 0&&n._trackId!==r&&(t.delete(n),t.size===0&&t.cleanup())}let si=!0,sa=0;const qu=[];function ci(){qu.push(si),si=!1}function ui(){const t=qu.pop();si=t===void 0?!0:t}function Na(){sa++}function Da(){for(sa--;!sa&&oa.length;)oa.shift()()}function Ku(t,n,r){if(n.get(t)!==t._trackId){n.set(t,t._trackId);const o=t.deps[t._depsLength];o!==n?(o&&Uu(o,t),t.deps[t._depsLength++]=n):t._depsLength++}}const oa=[];function Wu(t,n,r){Na();for(const o of t.keys()){let a;o._dirtyLevel<n&&(a??(a=t.get(o)===o._trackId))&&(o._shouldSchedule||(o._shouldSchedule=o._dirtyLevel===0),o._dirtyLevel=n),o._shouldSchedule&&(a??(a=t.get(o)===o._trackId))&&(o.trigger(),(!o._runnings||o.allowRecurse)&&o._dirtyLevel!==2&&(o._shouldSchedule=!1,o.scheduler&&oa.push(o.scheduler)))}Da()}const Gu=(t,n)=>{const r=new Map;return r.cleanup=t,r.computed=n,r},Ms=new WeakMap,Oi=Symbol(""),aa=Symbol("");function Ht(t,n,r){if(si&&xi){let o=Ms.get(t);o||Ms.set(t,o=new Map);let a=o.get(r);a||o.set(r,a=Gu(()=>o.delete(r))),Ku(xi,a)}}function Fn(t,n,r,o,a,c){const u=Ms.get(t);if(!u)return;let f=[];if(n==="clear")f=[...u.values()];else if(r==="length"&&Ee(t)){const d=Number(o);u.forEach((p,_)=>{(_==="length"||!Mi(_)&&_>=d)&&f.push(p)})}else switch(r!==void 0&&f.push(u.get(r)),n){case"add":Ee(t)?Aa(r)&&f.push(u.get("length")):(f.push(u.get(Oi)),Ji(t)&&f.push(u.get(aa)));break;case"delete":Ee(t)||(f.push(u.get(Oi)),Ji(t)&&f.push(u.get(aa)));break;case"set":Ji(t)&&f.push(u.get(Oi));break}Na();for(const d of f)d&&Wu(d,4);Da()}function Md(t,n){const r=Ms.get(t);return r&&r.get(n)}const Nd=Oa("__proto__,__v_isRef,__isVue"),Ju=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Mi)),Lc=Dd();function Dd(){const t={};return["includes","indexOf","lastIndexOf"].forEach(n=>{t[n]=function(...r){const o=We(this);for(let c=0,u=this.length;c<u;c++)Ht(o,"get",c+"");const a=o[n](...r);return a===-1||a===!1?o[n](...r.map(We)):a}}),["push","pop","shift","unshift","splice"].forEach(n=>{t[n]=function(...r){ci(),Na();const o=We(this)[n].apply(this,r);return Da(),ui(),o}}),t}function zd(t){Mi(t)||(t=String(t));const n=We(this);return Ht(n,"has",t),n.hasOwnProperty(t)}class Yu{constructor(n=!1,r=!1){this._isReadonly=n,this._isShallow=r}get(n,r,o){const a=this._isReadonly,c=this._isShallow;if(r==="__v_isReactive")return!a;if(r==="__v_isReadonly")return a;if(r==="__v_isShallow")return c;if(r==="__v_raw")return o===(a?c?Yd:tf:c?ef:Qu).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(o)?n:void 0;const u=Ee(n);if(!a){if(u&&Ke(Lc,r))return Reflect.get(Lc,r,o);if(r==="hasOwnProperty")return zd}const f=Reflect.get(n,r,o);return(Mi(r)?Ju.has(r):Nd(r))||(a||Ht(n,"get",r),c)?f:Pt(f)?u&&Aa(r)?f:f.value:ct(f)?a?nf(f):Gs(f):f}}class Xu extends Yu{constructor(n=!1){super(!1,n)}set(n,r,o,a){let c=n[r];if(!this._isShallow){const d=Mr(c);if(!Ns(o)&&!Mr(o)&&(c=We(c),o=We(o)),!Ee(n)&&Pt(c)&&!Pt(o))return d?!1:(c.value=o,!0)}const u=Ee(n)&&Aa(r)?Number(r)<n.length:Ke(n,r),f=Reflect.set(n,r,o,a);return n===We(a)&&(u?ai(o,c)&&Fn(n,"set",r,o):Fn(n,"add",r,o)),f}deleteProperty(n,r){const o=Ke(n,r);n[r];const a=Reflect.deleteProperty(n,r);return a&&o&&Fn(n,"delete",r,void 0),a}has(n,r){const o=Reflect.has(n,r);return(!Mi(r)||!Ju.has(r))&&Ht(n,"has",r),o}ownKeys(n){return Ht(n,"iterate",Ee(n)?"length":Oi),Reflect.ownKeys(n)}}class jd extends Yu{constructor(n=!1){super(!0,n)}set(n,r){return!0}deleteProperty(n,r){return!0}}const Bd=new Xu,Fd=new jd,Zd=new Xu(!0);const za=t=>t,Ws=t=>Reflect.getPrototypeOf(t);function ps(t,n,r=!1,o=!1){t=t.__v_raw;const a=We(t),c=We(n);r||(ai(n,c)&&Ht(a,"get",n),Ht(a,"get",c));const{has:u}=Ws(a),f=o?za:r?Za:Nr;if(u.call(a,n))return f(t.get(n));if(u.call(a,c))return f(t.get(c));t!==a&&t.get(n)}function ms(t,n=!1){const r=this.__v_raw,o=We(r),a=We(t);return n||(ai(t,a)&&Ht(o,"has",t),Ht(o,"has",a)),t===a?r.has(t):r.has(t)||r.has(a)}function _s(t,n=!1){return t=t.__v_raw,!n&&Ht(We(t),"iterate",Oi),Reflect.get(t,"size",t)}function xc(t){t=We(t);const n=We(this);return Ws(n).has.call(n,t)||(n.add(t),Fn(n,"add",t,t)),this}function Oc(t,n){n=We(n);const r=We(this),{has:o,get:a}=Ws(r);let c=o.call(r,t);c||(t=We(t),c=o.call(r,t));const u=a.call(r,t);return r.set(t,n),c?ai(n,u)&&Fn(r,"set",t,n):Fn(r,"add",t,n),this}function Ic(t){const n=We(this),{has:r,get:o}=Ws(n);let a=r.call(n,t);a||(t=We(t),a=r.call(n,t)),o&&o.call(n,t);const c=n.delete(t);return a&&Fn(n,"delete",t,void 0),c}function kc(){const t=We(this),n=t.size!==0,r=t.clear();return n&&Fn(t,"clear",void 0,void 0),r}function gs(t,n){return function(o,a){const c=this,u=c.__v_raw,f=We(u),d=n?za:t?Za:Nr;return!t&&Ht(f,"iterate",Oi),u.forEach((p,_)=>o.call(a,d(p),d(_),c))}}function vs(t,n,r){return function(...o){const a=this.__v_raw,c=We(a),u=Ji(c),f=t==="entries"||t===Symbol.iterator&&u,d=t==="keys"&&u,p=a[t](...o),_=r?za:n?Za:Nr;return!n&&Ht(c,"iterate",d?aa:Oi),{next(){const{value:w,done:$}=p.next();return $?{value:w,done:$}:{value:f?[_(w[0]),_(w[1])]:_(w),done:$}},[Symbol.iterator](){return this}}}}function Wn(t){return function(...n){return t==="delete"?!1:t==="clear"?void 0:this}}function Vd(){const t={get(c){return ps(this,c)},get size(){return _s(this)},has:ms,add:xc,set:Oc,delete:Ic,clear:kc,forEach:gs(!1,!1)},n={get(c){return ps(this,c,!1,!0)},get size(){return _s(this)},has:ms,add:xc,set:Oc,delete:Ic,clear:kc,forEach:gs(!1,!0)},r={get(c){return ps(this,c,!0)},get size(){return _s(this,!0)},has(c){return ms.call(this,c,!0)},add:Wn("add"),set:Wn("set"),delete:Wn("delete"),clear:Wn("clear"),forEach:gs(!0,!1)},o={get(c){return ps(this,c,!0,!0)},get size(){return _s(this,!0)},has(c){return ms.call(this,c,!0)},add:Wn("add"),set:Wn("set"),delete:Wn("delete"),clear:Wn("clear"),forEach:gs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(c=>{t[c]=vs(c,!1,!1),r[c]=vs(c,!0,!1),n[c]=vs(c,!1,!0),o[c]=vs(c,!0,!0)}),[t,r,n,o]}const[Hd,Ud,qd,Kd]=Vd();function ja(t,n){const r=n?t?Kd:qd:t?Ud:Hd;return(o,a,c)=>a==="__v_isReactive"?!t:a==="__v_isReadonly"?t:a==="__v_raw"?o:Reflect.get(Ke(r,a)&&a in o?r:o,a,c)}const Wd={get:ja(!1,!1)},Gd={get:ja(!1,!0)},Jd={get:ja(!0,!1)};const Qu=new WeakMap,ef=new WeakMap,tf=new WeakMap,Yd=new WeakMap;function Xd(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Qd(t){return t.__v_skip||!Object.isExtensible(t)?0:Xd(Pd(t))}function Gs(t){return Mr(t)?t:Ba(t,!1,Bd,Wd,Qu)}function ep(t){return Ba(t,!1,Zd,Gd,ef)}function nf(t){return Ba(t,!0,Fd,Jd,tf)}function Ba(t,n,r,o,a){if(!ct(t)||t.__v_raw&&!(n&&t.__v_isReactive))return t;const c=a.get(t);if(c)return c;const u=Qd(t);if(u===0)return t;const f=new Proxy(t,u===2?o:r);return a.set(t,f),f}function Ii(t){return Mr(t)?Ii(t.__v_raw):!!(t&&t.__v_isReactive)}function Mr(t){return!!(t&&t.__v_isReadonly)}function Ns(t){return!!(t&&t.__v_isShallow)}function rf(t){return t?!!t.__v_raw:!1}function We(t){const n=t&&t.__v_raw;return n?We(n):t}function Fa(t){return Object.isExtensible(t)&&zu(t,"__v_skip",!0),t}const Nr=t=>ct(t)?Gs(t):t,Za=t=>ct(t)?nf(t):t;class sf{constructor(n,r,o,a){this.getter=n,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Ma(()=>n(this._value),()=>Ls(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=o}get value(){const n=We(this);return(!n._cacheable||n.effect.dirty)&&ai(n._value,n._value=n.effect.run())&&Ls(n,4),of(n),n.effect._dirtyLevel>=2&&Ls(n,2),n._value}set value(n){this._setter(n)}get _dirty(){return this.effect.dirty}set _dirty(n){this.effect.dirty=n}}function tp(t,n,r=!1){let o,a;const c=Me(t);return c?(o=t,a=sn):(o=t.get,a=t.set),new sf(o,a,c||!a,r)}function of(t){var n;si&&xi&&(t=We(t),Ku(xi,(n=t.dep)!=null?n:t.dep=Gu(()=>t.dep=void 0,t instanceof sf?t:void 0)))}function Ls(t,n=4,r){t=We(t);const o=t.dep;o&&Wu(o,n)}function Pt(t){return!!(t&&t.__v_isRef===!0)}function Et(t){return np(t,!1)}function np(t,n){return Pt(t)?t:new ip(t,n)}class ip{constructor(n,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?n:We(n),this._value=r?n:Nr(n)}get value(){return of(this),this._value}set value(n){const r=this.__v_isShallow||Ns(n)||Mr(n);n=r?n:We(n),ai(n,this._rawValue)&&(this._rawValue=n,this._value=r?n:Nr(n),Ls(this,4))}}function Pe(t){return Pt(t)?t.value:t}const rp={get:(t,n,r)=>Pe(Reflect.get(t,n,r)),set:(t,n,r,o)=>{const a=t[n];return Pt(a)&&!Pt(r)?(a.value=r,!0):Reflect.set(t,n,r,o)}};function af(t){return Ii(t)?t:new Proxy(t,rp)}function sp(t){const n=Ee(t)?new Array(t.length):{};for(const r in t)n[r]=ap(t,r);return n}class op{constructor(n,r,o){this._object=n,this._key=r,this._defaultValue=o,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return Md(We(this._object),this._key)}}function ap(t,n,r){const o=t[n];return Pt(o)?o:new op(t,n,r)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function oi(t,n,r,o){try{return o?t(...o):t()}catch(a){Js(a,n,r)}}function on(t,n,r,o){if(Me(t)){const a=oi(t,n,r,o);return a&&Ru(a)&&a.catch(c=>{Js(c,n,r)}),a}if(Ee(t)){const a=[];for(let c=0;c<t.length;c++)a.push(on(t[c],n,r,o));return a}}function Js(t,n,r,o=!0){const a=n?n.vnode:null;if(n){let c=n.parent;const u=n.proxy,f=`https://vuejs.org/error-reference/#runtime-${r}`;for(;c;){const p=c.ec;if(p){for(let _=0;_<p.length;_++)if(p[_](t,u,f)===!1)return}c=c.parent}const d=n.appContext.config.errorHandler;if(d){ci(),oi(d,null,10,[t,u,f]),ui();return}}lp(t,r,a,o)}function lp(t,n,r,o=!0){console.error(t)}let Dr=!1,la=!1;const Mt=[];let Ln=0;const Yi=[];let ei=null,Si=0;const lf=Promise.resolve();let Va=null;function cf(t){const n=Va||lf;return t?n.then(this?t.bind(this):t):n}function cp(t){let n=Ln+1,r=Mt.length;for(;n<r;){const o=n+r>>>1,a=Mt[o],c=zr(a);c<t||c===t&&a.pre?n=o+1:r=o}return n}function Ha(t){(!Mt.length||!Mt.includes(t,Dr&&t.allowRecurse?Ln+1:Ln))&&(t.id==null?Mt.push(t):Mt.splice(cp(t.id),0,t),uf())}function uf(){!Dr&&!la&&(la=!0,Va=lf.then(hf))}function up(t){const n=Mt.indexOf(t);n>Ln&&Mt.splice(n,1)}function fp(t){Ee(t)?Yi.push(...t):(!ei||!ei.includes(t,t.allowRecurse?Si+1:Si))&&Yi.push(t),uf()}function Ac(t,n,r=Dr?Ln+1:0){for(;r<Mt.length;r++){const o=Mt[r];if(o&&o.pre){if(t&&o.id!==t.uid)continue;Mt.splice(r,1),r--,o()}}}function ff(t){if(Yi.length){const n=[...new Set(Yi)].sort((r,o)=>zr(r)-zr(o));if(Yi.length=0,ei){ei.push(...n);return}for(ei=n,Si=0;Si<ei.length;Si++)ei[Si]();ei=null,Si=0}}const zr=t=>t.id==null?1/0:t.id,hp=(t,n)=>{const r=zr(t)-zr(n);if(r===0){if(t.pre&&!n.pre)return-1;if(n.pre&&!t.pre)return 1}return r};function hf(t){la=!1,Dr=!0,Mt.sort(hp);try{for(Ln=0;Ln<Mt.length;Ln++){const n=Mt[Ln];n&&n.active!==!1&&oi(n,null,14)}}finally{Ln=0,Mt.length=0,ff(),Dr=!1,Va=null,(Mt.length||Yi.length)&&hf()}}function dp(t,n,...r){if(t.isUnmounted)return;const o=t.vnode.props||at;let a=r;const c=n.startsWith("update:"),u=c&&n.slice(7);if(u&&u in o){const _=`${u==="modelValue"?"model":u}Modifiers`,{number:w,trim:$}=o[_]||at;$&&(a=r.map(x=>vt(x)?x.trim():x)),w&&(a=r.map(ra))}let f,d=o[f=Fo(n)]||o[f=Fo(nr(n))];!d&&c&&(d=o[f=Fo(rr(n))]),d&&on(d,t,6,a);const p=o[f+"Once"];if(p){if(!t.emitted)t.emitted={};else if(t.emitted[f])return;t.emitted[f]=!0,on(p,t,6,a)}}function df(t,n,r=!1){const o=n.emitsCache,a=o.get(t);if(a!==void 0)return a;const c=t.emits;let u={},f=!1;if(!Me(t)){const d=p=>{const _=df(p,n,!0);_&&(f=!0,gt(u,_))};!r&&n.mixins.length&&n.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}return!c&&!f?(ct(t)&&o.set(t,null),null):(Ee(c)?c.forEach(d=>u[d]=null):gt(u,c),ct(t)&&o.set(t,u),u)}function Ys(t,n){return!t||!Us(n)?!1:(n=n.slice(2).replace(/Once$/,""),Ke(t,n[0].toLowerCase()+n.slice(1))||Ke(t,rr(n))||Ke(t,n))}let bt=null,Xs=null;function Ds(t){const n=bt;return bt=t,Xs=t&&t.type.__scopeId||null,n}function Ua(t){Xs=t}function qa(){Xs=null}function Kt(t,n=bt,r){if(!n||t._n)return t;const o=(...a)=>{o._d&&Hc(-1);const c=Ds(n);let u;try{u=t(...a)}finally{Ds(c),o._d&&Hc(1)}return u};return o._n=!0,o._c=!0,o._d=!0,o}function Vo(t){const{type:n,vnode:r,proxy:o,withProxy:a,propsOptions:[c],slots:u,attrs:f,emit:d,render:p,renderCache:_,props:w,data:$,setupState:x,ctx:O,inheritAttrs:C}=t,A=Ds(t);let T,B;try{if(r.shapeFlag&4){const J=a||o,Y=J;T=Cn(p.call(Y,J,_,w,x,$,O)),B=f}else{const J=n;T=Cn(J.length>1?J(w,{attrs:f,slots:u,emit:d}):J(w,null)),B=n.props?f:pp(f)}}catch(J){xr.length=0,Js(J,t,1),T=Tt(Wt)}let U=T;if(B&&C!==!1){const J=Object.keys(B),{shapeFlag:Y}=U;J.length&&Y&7&&(c&&J.some(Ia)&&(B=mp(B,c)),U=li(U,B,!1,!0))}return r.dirs&&(U=li(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(r.dirs):r.dirs),r.transition&&(U.transition=r.transition),T=U,Ds(A),T}const pp=t=>{let n;for(const r in t)(r==="class"||r==="style"||Us(r))&&((n||(n={}))[r]=t[r]);return n},mp=(t,n)=>{const r={};for(const o in t)(!Ia(o)||!(o.slice(9)in n))&&(r[o]=t[o]);return r};function _p(t,n,r){const{props:o,children:a,component:c}=t,{props:u,children:f,patchFlag:d}=n,p=c.emitsOptions;if(n.dirs||n.transition)return!0;if(r&&d>=0){if(d&1024)return!0;if(d&16)return o?Rc(o,u,p):!!u;if(d&8){const _=n.dynamicProps;for(let w=0;w<_.length;w++){const $=_[w];if(u[$]!==o[$]&&!Ys(p,$))return!0}}}else return(a||f)&&(!f||!f.$stable)?!0:o===u?!1:o?u?Rc(o,u,p):!0:!!u;return!1}function Rc(t,n,r){const o=Object.keys(n);if(o.length!==Object.keys(t).length)return!0;for(let a=0;a<o.length;a++){const c=o[a];if(n[c]!==t[c]&&!Ys(r,c))return!0}return!1}function gp({vnode:t,parent:n},r){for(;n;){const o=n.subTree;if(o.suspense&&o.suspense.activeBranch===t&&(o.el=t.el),o===t)(t=n.vnode).el=r,n=n.parent;else break}}const vp=Symbol.for("v-ndc"),yp=t=>t.__isSuspense;function wp(t,n){n&&n.pendingBranch?Ee(t)?n.effects.push(...t):n.effects.push(t):fp(t)}const bp=Symbol.for("v-scx"),Pp=()=>Lr(bp),ys={};function Xi(t,n,r){return pf(t,n,r)}function pf(t,n,{immediate:r,deep:o,flush:a,once:c,onTrack:u,onTrigger:f}=at){if(n&&c){const ce=n;n=(...ye)=>{ce(...ye),Y()}}const d=It,p=ce=>o===!0?ce:Li(ce,o===!1?1:void 0);let _,w=!1,$=!1;if(Pt(t)?(_=()=>t.value,w=Ns(t)):Ii(t)?(_=()=>p(t),w=!0):Ee(t)?($=!0,w=t.some(ce=>Ii(ce)||Ns(ce)),_=()=>t.map(ce=>{if(Pt(ce))return ce.value;if(Ii(ce))return p(ce);if(Me(ce))return oi(ce,d,2)})):Me(t)?n?_=()=>oi(t,d,2):_=()=>(x&&x(),on(t,d,3,[O])):_=sn,n&&o){const ce=_;_=()=>Li(ce())}let x,O=ce=>{x=U.onStop=()=>{oi(ce,d,4),x=U.onStop=void 0}},C;if(no)if(O=sn,n?r&&on(n,d,3,[_(),$?[]:void 0,O]):_(),a==="sync"){const ce=Pp();C=ce.__watcherHandles||(ce.__watcherHandles=[])}else return sn;let A=$?new Array(t.length).fill(ys):ys;const T=()=>{if(!(!U.active||!U.dirty))if(n){const ce=U.run();(o||w||($?ce.some((ye,oe)=>ai(ye,A[oe])):ai(ce,A)))&&(x&&x(),on(n,d,3,[ce,A===ys?void 0:$&&A[0]===ys?[]:A,O]),A=ce)}else U.run()};T.allowRecurse=!!n;let B;a==="sync"?B=T:a==="post"?B=()=>Ft(T,d&&d.suspense):(T.pre=!0,d&&(T.id=d.uid),B=()=>Ha(T));const U=new Ma(_,sn,B),J=Hu(),Y=()=>{U.stop(),J&&ka(J.effects,U)};return n?r?T():A=U.run():a==="post"?Ft(U.run.bind(U),d&&d.suspense):U.run(),C&&C.push(Y),Y}function $p(t,n,r){const o=this.proxy,a=vt(t)?t.includes(".")?mf(o,t):()=>o[t]:t.bind(o,o);let c;Me(n)?c=n:(c=n.handler,r=n);const u=Zr(this),f=pf(a,c.bind(o),r);return u(),f}function mf(t,n){const r=n.split(".");return()=>{let o=t;for(let a=0;a<r.length&&o;a++)o=o[r[a]];return o}}function Li(t,n=1/0,r){if(n<=0||!ct(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),n--,Pt(t))Li(t.value,n,r);else if(Ee(t))for(let o=0;o<t.length;o++)Li(t[o],n,r);else if(Au(t)||Ji(t))t.forEach(o=>{Li(o,n,r)});else if(Nu(t))for(const o in t)Li(t[o],n,r);return t}function Sp(t,n){if(bt===null)return t;const r=io(bt)||bt.proxy,o=t.dirs||(t.dirs=[]);for(let a=0;a<n.length;a++){let[c,u,f,d=at]=n[a];c&&(Me(c)&&(c={mounted:c,updated:c}),c.deep&&Li(u),o.push({dir:c,instance:r,value:u,oldValue:void 0,arg:f,modifiers:d}))}return t}function vi(t,n,r,o){const a=t.dirs,c=n&&n.dirs;for(let u=0;u<a.length;u++){const f=a[u];c&&(f.oldValue=c[u].value);let d=f.dir[o];d&&(ci(),on(d,r,8,[t.el,f,t,n]),ui())}}const ti=Symbol("_leaveCb"),ws=Symbol("_enterCb");function Ep(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ka(()=>{t.isMounted=!0}),wf(()=>{t.isUnmounting=!0}),t}const nn=[Function,Array],_f={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:nn,onEnter:nn,onAfterEnter:nn,onEnterCancelled:nn,onBeforeLeave:nn,onLeave:nn,onAfterLeave:nn,onLeaveCancelled:nn,onBeforeAppear:nn,onAppear:nn,onAfterAppear:nn,onAppearCancelled:nn},Tp={name:"BaseTransition",props:_f,setup(t,{slots:n}){const r=fm(),o=Ep();return()=>{const a=n.default&&vf(n.default(),!0);if(!a||!a.length)return;let c=a[0];if(a.length>1){for(const $ of a)if($.type!==Wt){c=$;break}}const u=We(t),{mode:f}=u;if(o.isLeaving)return Ho(c);const d=Mc(c);if(!d)return Ho(c);const p=ca(d,u,o,r);ua(d,p);const _=r.subTree,w=_&&Mc(_);if(w&&w.type!==Wt&&!Ei(d,w)){const $=ca(w,u,o,r);if(ua(w,$),f==="out-in"&&d.type!==Wt)return o.isLeaving=!0,$.afterLeave=()=>{o.isLeaving=!1,r.update.active!==!1&&(r.effect.dirty=!0,r.update())},Ho(c);f==="in-out"&&d.type!==Wt&&($.delayLeave=(x,O,C)=>{const A=gf(o,w);A[String(w.key)]=w,x[ti]=()=>{O(),x[ti]=void 0,delete p.delayedLeave},p.delayedLeave=C})}return c}}},Cp=Tp;function gf(t,n){const{leavingVNodes:r}=t;let o=r.get(n.type);return o||(o=Object.create(null),r.set(n.type,o)),o}function ca(t,n,r,o){const{appear:a,mode:c,persisted:u=!1,onBeforeEnter:f,onEnter:d,onAfterEnter:p,onEnterCancelled:_,onBeforeLeave:w,onLeave:$,onAfterLeave:x,onLeaveCancelled:O,onBeforeAppear:C,onAppear:A,onAfterAppear:T,onAppearCancelled:B}=n,U=String(t.key),J=gf(r,t),Y=(oe,he)=>{oe&&on(oe,o,9,he)},ce=(oe,he)=>{const $e=he[1];Y(oe,he),Ee(oe)?oe.every(we=>we.length<=1)&&$e():oe.length<=1&&$e()},ye={mode:c,persisted:u,beforeEnter(oe){let he=f;if(!r.isMounted)if(a)he=C||f;else return;oe[ti]&&oe[ti](!0);const $e=J[U];$e&&Ei(t,$e)&&$e.el[ti]&&$e.el[ti](),Y(he,[oe])},enter(oe){let he=d,$e=p,we=_;if(!r.isMounted)if(a)he=A||d,$e=T||p,we=B||_;else return;let ne=!1;const Se=oe[ws]=be=>{ne||(ne=!0,be?Y(we,[oe]):Y($e,[oe]),ye.delayedLeave&&ye.delayedLeave(),oe[ws]=void 0)};he?ce(he,[oe,Se]):Se()},leave(oe,he){const $e=String(t.key);if(oe[ws]&&oe[ws](!0),r.isUnmounting)return he();Y(w,[oe]);let we=!1;const ne=oe[ti]=Se=>{we||(we=!0,he(),Se?Y(O,[oe]):Y(x,[oe]),oe[ti]=void 0,J[$e]===t&&delete J[$e])};J[$e]=t,$?ce($,[oe,ne]):ne()},clone(oe){return ca(oe,n,r,o)}};return ye}function Ho(t){if(Qs(t))return t=li(t),t.children=null,t}function Mc(t){if(!Qs(t))return t;const{shapeFlag:n,children:r}=t;if(r){if(n&16)return r[0];if(n&32&&Me(r.default))return r.default()}}function ua(t,n){t.shapeFlag&6&&t.component?ua(t.component.subTree,n):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function vf(t,n=!1,r){let o=[],a=0;for(let c=0;c<t.length;c++){let u=t[c];const f=r==null?u.key:String(r)+String(u.key!=null?u.key:c);u.type===_t?(u.patchFlag&128&&a++,o=o.concat(vf(u.children,n,f))):(n||u.type!==Wt)&&o.push(f!=null?li(u,{key:f}):u)}if(a>1)for(let c=0;c<o.length;c++)o[c].patchFlag=-2;return o}/*! #__NO_SIDE_EFFECTS__ */function an(t,n){return Me(t)?gt({name:t.name},n,{setup:t}):t}const Er=t=>!!t.type.__asyncLoader,Qs=t=>t.type.__isKeepAlive;function Lp(t,n){yf(t,"a",n)}function xp(t,n){yf(t,"da",n)}function yf(t,n,r=It){const o=t.__wdc||(t.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return t()});if(eo(n,o,r),r){let a=r.parent;for(;a&&a.parent;)Qs(a.parent.vnode)&&Op(o,n,r,a),a=a.parent}}function Op(t,n,r,o){const a=eo(n,t,o,!0);bf(()=>{ka(o[n],a)},r)}function eo(t,n,r=It,o=!1){if(r){const a=r[t]||(r[t]=[]),c=n.__weh||(n.__weh=(...u)=>{if(r.isUnmounted)return;ci();const f=Zr(r),d=on(n,r,t,u);return f(),ui(),d});return o?a.unshift(c):a.push(c),c}}const Vn=t=>(n,r=It)=>(!no||t==="sp")&&eo(t,(...o)=>n(...o),r),Ip=Vn("bm"),Ka=Vn("m"),kp=Vn("bu"),Ap=Vn("u"),wf=Vn("bum"),bf=Vn("um"),Rp=Vn("sp"),Mp=Vn("rtg"),Np=Vn("rtc");function Dp(t,n=It){eo("ec",t,n)}function Tr(t,n,r,o){let a;const c=r;if(Ee(t)||vt(t)){a=new Array(t.length);for(let u=0,f=t.length;u<f;u++)a[u]=n(t[u],u,void 0,c)}else if(typeof t=="number"){a=new Array(t);for(let u=0;u<t;u++)a[u]=n(u+1,u,void 0,c)}else if(ct(t))if(t[Symbol.iterator])a=Array.from(t,(u,f)=>n(u,f,void 0,c));else{const u=Object.keys(t);a=new Array(u.length);for(let f=0,d=u.length;f<d;f++){const p=u[f];a[f]=n(t[p],p,f,c)}}else a=[];return a}function Pf(t,n){for(let r=0;r<n.length;r++){const o=n[r];if(Ee(o))for(let a=0;a<o.length;a++)t[o[a].name]=o[a].fn;else o&&(t[o.name]=o.key?(...a)=>{const c=o.fn(...a);return c&&(c.key=o.key),c}:o.fn)}return t}function xn(t,n,r={},o,a){if(bt.isCE||bt.parent&&Er(bt.parent)&&bt.parent.isCE)return n!=="default"&&(r.name=n),Tt("slot",r,o);let c=t[n];c&&c._c&&(c._d=!1),xe();const u=c&&$f(c(r)),f=jt(_t,{key:r.key||u&&u.key||`_${n}`},u||[],u&&t._===1?64:-2);return!a&&f.scopeId&&(f.slotScopeIds=[f.scopeId+"-s"]),c&&c._c&&(c._d=!0),f}function $f(t){return t.some(n=>js(n)?!(n.type===Wt||n.type===_t&&!$f(n.children)):!0)?t:null}const fa=t=>t?zf(t)?io(t)||t.proxy:fa(t.parent):null,Cr=gt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>fa(t.parent),$root:t=>fa(t.root),$emit:t=>t.emit,$options:t=>Wa(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Ha(t.update)}),$nextTick:t=>t.n||(t.n=cf.bind(t.proxy)),$watch:t=>$p.bind(t)}),Uo=(t,n)=>t!==at&&!t.__isScriptSetup&&Ke(t,n),zp={get({_:t},n){if(n==="__v_skip")return!0;const{ctx:r,setupState:o,data:a,props:c,accessCache:u,type:f,appContext:d}=t;let p;if(n[0]!=="$"){const x=u[n];if(x!==void 0)switch(x){case 1:return o[n];case 2:return a[n];case 4:return r[n];case 3:return c[n]}else{if(Uo(o,n))return u[n]=1,o[n];if(a!==at&&Ke(a,n))return u[n]=2,a[n];if((p=t.propsOptions[0])&&Ke(p,n))return u[n]=3,c[n];if(r!==at&&Ke(r,n))return u[n]=4,r[n];ha&&(u[n]=0)}}const _=Cr[n];let w,$;if(_)return n==="$attrs"&&Ht(t.attrs,"get",""),_(t);if((w=f.__cssModules)&&(w=w[n]))return w;if(r!==at&&Ke(r,n))return u[n]=4,r[n];if($=d.config.globalProperties,Ke($,n))return $[n]},set({_:t},n,r){const{data:o,setupState:a,ctx:c}=t;return Uo(a,n)?(a[n]=r,!0):o!==at&&Ke(o,n)?(o[n]=r,!0):Ke(t.props,n)||n[0]==="$"&&n.slice(1)in t?!1:(c[n]=r,!0)},has({_:{data:t,setupState:n,accessCache:r,ctx:o,appContext:a,propsOptions:c}},u){let f;return!!r[u]||t!==at&&Ke(t,u)||Uo(n,u)||(f=c[0])&&Ke(f,u)||Ke(o,u)||Ke(Cr,u)||Ke(a.config.globalProperties,u)},defineProperty(t,n,r){return r.get!=null?t._.accessCache[n]=0:Ke(r,"value")&&this.set(t,n,r.value,null),Reflect.defineProperty(t,n,r)}};function Nc(t){return Ee(t)?t.reduce((n,r)=>(n[r]=null,n),{}):t}let ha=!0;function jp(t){const n=Wa(t),r=t.proxy,o=t.ctx;ha=!1,n.beforeCreate&&Dc(n.beforeCreate,t,"bc");const{data:a,computed:c,methods:u,watch:f,provide:d,inject:p,created:_,beforeMount:w,mounted:$,beforeUpdate:x,updated:O,activated:C,deactivated:A,beforeDestroy:T,beforeUnmount:B,destroyed:U,unmounted:J,render:Y,renderTracked:ce,renderTriggered:ye,errorCaptured:oe,serverPrefetch:he,expose:$e,inheritAttrs:we,components:ne,directives:Se,filters:be}=n;if(p&&Bp(p,o,null),u)for(const De in u){const le=u[De];Me(le)&&(o[De]=le.bind(r))}if(a){const De=a.call(r,r);ct(De)&&(t.data=Gs(De))}if(ha=!0,c)for(const De in c){const le=c[De],yt=Me(le)?le.bind(r,r):Me(le.get)?le.get.bind(r,r):sn,q=!Me(le)&&Me(le.set)?le.set.bind(r):sn,k=Ya({get:yt,set:q});Object.defineProperty(o,De,{enumerable:!0,configurable:!0,get:()=>k.value,set:K=>k.value=K})}if(f)for(const De in f)Sf(f[De],o,r,De);if(d){const De=Me(d)?d.call(r):d;Reflect.ownKeys(De).forEach(le=>{qp(le,De[le])})}_&&Dc(_,t,"c");function ge(De,le){Ee(le)?le.forEach(yt=>De(yt.bind(r))):le&&De(le.bind(r))}if(ge(Ip,w),ge(Ka,$),ge(kp,x),ge(Ap,O),ge(Lp,C),ge(xp,A),ge(Dp,oe),ge(Np,ce),ge(Mp,ye),ge(wf,B),ge(bf,J),ge(Rp,he),Ee($e))if($e.length){const De=t.exposed||(t.exposed={});$e.forEach(le=>{Object.defineProperty(De,le,{get:()=>r[le],set:yt=>r[le]=yt})})}else t.exposed||(t.exposed={});Y&&t.render===sn&&(t.render=Y),we!=null&&(t.inheritAttrs=we),ne&&(t.components=ne),Se&&(t.directives=Se)}function Bp(t,n,r=sn){Ee(t)&&(t=da(t));for(const o in t){const a=t[o];let c;ct(a)?"default"in a?c=Lr(a.from||o,a.default,!0):c=Lr(a.from||o):c=Lr(a),Pt(c)?Object.defineProperty(n,o,{enumerable:!0,configurable:!0,get:()=>c.value,set:u=>c.value=u}):n[o]=c}}function Dc(t,n,r){on(Ee(t)?t.map(o=>o.bind(n.proxy)):t.bind(n.proxy),n,r)}function Sf(t,n,r,o){const a=o.includes(".")?mf(r,o):()=>r[o];if(vt(t)){const c=n[t];Me(c)&&Xi(a,c)}else if(Me(t))Xi(a,t.bind(r));else if(ct(t))if(Ee(t))t.forEach(c=>Sf(c,n,r,o));else{const c=Me(t.handler)?t.handler.bind(r):n[t.handler];Me(c)&&Xi(a,c,t)}}function Wa(t){const n=t.type,{mixins:r,extends:o}=n,{mixins:a,optionsCache:c,config:{optionMergeStrategies:u}}=t.appContext,f=c.get(n);let d;return f?d=f:!a.length&&!r&&!o?d=n:(d={},a.length&&a.forEach(p=>zs(d,p,u,!0)),zs(d,n,u)),ct(n)&&c.set(n,d),d}function zs(t,n,r,o=!1){const{mixins:a,extends:c}=n;c&&zs(t,c,r,!0),a&&a.forEach(u=>zs(t,u,r,!0));for(const u in n)if(!(o&&u==="expose")){const f=Fp[u]||r&&r[u];t[u]=f?f(t[u],n[u]):n[u]}return t}const Fp={data:zc,props:jc,emits:jc,methods:Pr,computed:Pr,beforeCreate:zt,created:zt,beforeMount:zt,mounted:zt,beforeUpdate:zt,updated:zt,beforeDestroy:zt,beforeUnmount:zt,destroyed:zt,unmounted:zt,activated:zt,deactivated:zt,errorCaptured:zt,serverPrefetch:zt,components:Pr,directives:Pr,watch:Vp,provide:zc,inject:Zp};function zc(t,n){return n?t?function(){return gt(Me(t)?t.call(this,this):t,Me(n)?n.call(this,this):n)}:n:t}function Zp(t,n){return Pr(da(t),da(n))}function da(t){if(Ee(t)){const n={};for(let r=0;r<t.length;r++)n[t[r]]=t[r];return n}return t}function zt(t,n){return t?[...new Set([].concat(t,n))]:n}function Pr(t,n){return t?gt(Object.create(null),t,n):n}function jc(t,n){return t?Ee(t)&&Ee(n)?[...new Set([...t,...n])]:gt(Object.create(null),Nc(t),Nc(n??{})):n}function Vp(t,n){if(!t)return n;if(!n)return t;const r=gt(Object.create(null),t);for(const o in n)r[o]=zt(t[o],n[o]);return r}function Ef(){return{app:null,config:{isNativeTag:wd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Hp=0;function Up(t,n){return function(o,a=null){Me(o)||(o=gt({},o)),a!=null&&!ct(a)&&(a=null);const c=Ef(),u=new WeakSet;let f=!1;const d=c.app={_uid:Hp++,_component:o,_props:a,_container:null,_context:c,_instance:null,version:vm,get config(){return c.config},set config(p){},use(p,..._){return u.has(p)||(p&&Me(p.install)?(u.add(p),p.install(d,..._)):Me(p)&&(u.add(p),p(d,..._))),d},mixin(p){return c.mixins.includes(p)||c.mixins.push(p),d},component(p,_){return _?(c.components[p]=_,d):c.components[p]},directive(p,_){return _?(c.directives[p]=_,d):c.directives[p]},mount(p,_,w){if(!f){const $=Tt(o,a);return $.appContext=c,w===!0?w="svg":w===!1&&(w=void 0),_&&n?n($,p):t($,p,w),f=!0,d._container=p,p.__vue_app__=d,io($.component)||$.component.proxy}},unmount(){f&&(t(null,d._container),delete d._container.__vue_app__)},provide(p,_){return c.provides[p]=_,d},runWithContext(p){const _=Qi;Qi=d;try{return p()}finally{Qi=_}}};return d}}let Qi=null;function qp(t,n){if(It){let r=It.provides;const o=It.parent&&It.parent.provides;o===r&&(r=It.provides=Object.create(o)),r[t]=n}}function Lr(t,n,r=!1){const o=It||bt;if(o||Qi){const a=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:Qi._context.provides;if(a&&t in a)return a[t];if(arguments.length>1)return r&&Me(n)?n.call(o&&o.proxy):n}}function Kp(){return!!(It||bt||Qi)}const Tf={},Cf=()=>Object.create(Tf),Lf=t=>Object.getPrototypeOf(t)===Tf;function Wp(t,n,r,o=!1){const a={},c=Cf();t.propsDefaults=Object.create(null),xf(t,n,a,c);for(const u in t.propsOptions[0])u in a||(a[u]=void 0);r?t.props=o?a:ep(a):t.type.props?t.props=a:t.props=c,t.attrs=c}function Gp(t,n,r,o){const{props:a,attrs:c,vnode:{patchFlag:u}}=t,f=We(a),[d]=t.propsOptions;let p=!1;if((o||u>0)&&!(u&16)){if(u&8){const _=t.vnode.dynamicProps;for(let w=0;w<_.length;w++){let $=_[w];if(Ys(t.emitsOptions,$))continue;const x=n[$];if(d)if(Ke(c,$))x!==c[$]&&(c[$]=x,p=!0);else{const O=nr($);a[O]=pa(d,f,O,x,t,!1)}else x!==c[$]&&(c[$]=x,p=!0)}}}else{xf(t,n,a,c)&&(p=!0);let _;for(const w in f)(!n||!Ke(n,w)&&((_=rr(w))===w||!Ke(n,_)))&&(d?r&&(r[w]!==void 0||r[_]!==void 0)&&(a[w]=pa(d,f,w,void 0,t,!0)):delete a[w]);if(c!==f)for(const w in c)(!n||!Ke(n,w))&&(delete c[w],p=!0)}p&&Fn(t.attrs,"set","")}function xf(t,n,r,o){const[a,c]=t.propsOptions;let u=!1,f;if(n)for(let d in n){if(Sr(d))continue;const p=n[d];let _;a&&Ke(a,_=nr(d))?!c||!c.includes(_)?r[_]=p:(f||(f={}))[_]=p:Ys(t.emitsOptions,d)||(!(d in o)||p!==o[d])&&(o[d]=p,u=!0)}if(c){const d=We(r),p=f||at;for(let _=0;_<c.length;_++){const w=c[_];r[w]=pa(a,d,w,p[w],t,!Ke(p,w))}}return u}function pa(t,n,r,o,a,c){const u=t[r];if(u!=null){const f=Ke(u,"default");if(f&&o===void 0){const d=u.default;if(u.type!==Function&&!u.skipFactory&&Me(d)){const{propsDefaults:p}=a;if(r in p)o=p[r];else{const _=Zr(a);o=p[r]=d.call(null,n),_()}}else o=d}u[0]&&(c&&!f?o=!1:u[1]&&(o===""||o===rr(r))&&(o=!0))}return o}function Of(t,n,r=!1){const o=n.propsCache,a=o.get(t);if(a)return a;const c=t.props,u={},f=[];let d=!1;if(!Me(t)){const _=w=>{d=!0;const[$,x]=Of(w,n,!0);gt(u,$),x&&f.push(...x)};!r&&n.mixins.length&&n.mixins.forEach(_),t.extends&&_(t.extends),t.mixins&&t.mixins.forEach(_)}if(!c&&!d)return ct(t)&&o.set(t,Gi),Gi;if(Ee(c))for(let _=0;_<c.length;_++){const w=nr(c[_]);Bc(w)&&(u[w]=at)}else if(c)for(const _ in c){const w=nr(_);if(Bc(w)){const $=c[_],x=u[w]=Ee($)||Me($)?{type:$}:gt({},$);if(x){const O=Vc(Boolean,x.type),C=Vc(String,x.type);x[0]=O>-1,x[1]=C<0||O<C,(O>-1||Ke(x,"default"))&&f.push(w)}}}const p=[u,f];return ct(t)&&o.set(t,p),p}function Bc(t){return t[0]!=="$"&&!Sr(t)}function Fc(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function Zc(t,n){return Fc(t)===Fc(n)}function Vc(t,n){return Ee(n)?n.findIndex(r=>Zc(r,t)):Me(n)&&Zc(n,t)?0:-1}const If=t=>t[0]==="_"||t==="$stable",Ga=t=>Ee(t)?t.map(Cn):[Cn(t)],Jp=(t,n,r)=>{if(n._n)return n;const o=Kt((...a)=>Ga(n(...a)),r);return o._c=!1,o},kf=(t,n,r)=>{const o=t._ctx;for(const a in t){if(If(a))continue;const c=t[a];if(Me(c))n[a]=Jp(a,c,o);else if(c!=null){const u=Ga(c);n[a]=()=>u}}},Af=(t,n)=>{const r=Ga(n);t.slots.default=()=>r},Yp=(t,n)=>{const r=t.slots=Cf();if(t.vnode.shapeFlag&32){const o=n._;o?(gt(r,n),zu(r,"_",o,!0)):kf(n,r)}else n&&Af(t,n)},Xp=(t,n,r)=>{const{vnode:o,slots:a}=t;let c=!0,u=at;if(o.shapeFlag&32){const f=n._;f?r&&f===1?c=!1:(gt(a,n),!r&&f===1&&delete a._):(c=!n.$stable,kf(n,a)),u=n}else n&&(Af(t,n),u={default:1});if(c)for(const f in a)!If(f)&&u[f]==null&&delete a[f]};function ma(t,n,r,o,a=!1){if(Ee(t)){t.forEach(($,x)=>ma($,n&&(Ee(n)?n[x]:n),r,o,a));return}if(Er(o)&&!a)return;const c=o.shapeFlag&4?io(o.component)||o.component.proxy:o.el,u=a?null:c,{i:f,r:d}=t,p=n&&n.r,_=f.refs===at?f.refs={}:f.refs,w=f.setupState;if(p!=null&&p!==d&&(vt(p)?(_[p]=null,Ke(w,p)&&(w[p]=null)):Pt(p)&&(p.value=null)),Me(d))oi(d,f,12,[u,_]);else{const $=vt(d),x=Pt(d);if($||x){const O=()=>{if(t.f){const C=$?Ke(w,d)?w[d]:_[d]:d.value;a?Ee(C)&&ka(C,c):Ee(C)?C.includes(c)||C.push(c):$?(_[d]=[c],Ke(w,d)&&(w[d]=_[d])):(d.value=[c],t.k&&(_[t.k]=d.value))}else $?(_[d]=u,Ke(w,d)&&(w[d]=u)):x&&(d.value=u,t.k&&(_[t.k]=u))};u?(O.id=-1,Ft(O,r)):O()}}}const Ft=wp;function Qp(t){return em(t)}function em(t,n){const r=ju();r.__VUE__=!0;const{insert:o,remove:a,patchProp:c,createElement:u,createText:f,createComment:d,setText:p,setElementText:_,parentNode:w,nextSibling:$,setScopeId:x=sn,insertStaticContent:O}=t,C=(g,b,R,F=null,W=null,ee=null,re=void 0,X=null,te=!!b.dynamicChildren)=>{if(g===b)return;g&&!Ei(g,b)&&(F=se(g),K(g,W,ee,!0),g=null),b.patchFlag===-2&&(te=!1,b.dynamicChildren=null);const{type:G,ref:ie,shapeFlag:pe}=b;switch(G){case to:A(g,b,R,F);break;case Wt:T(g,b,R,F);break;case Ko:g==null&&B(b,R,F,re);break;case _t:ne(g,b,R,F,W,ee,re,X,te);break;default:pe&1?Y(g,b,R,F,W,ee,re,X,te):pe&6?Se(g,b,R,F,W,ee,re,X,te):(pe&64||pe&128)&&G.process(g,b,R,F,W,ee,re,X,te,Ce)}ie!=null&&W&&ma(ie,g&&g.ref,ee,b||g,!b)},A=(g,b,R,F)=>{if(g==null)o(b.el=f(b.children),R,F);else{const W=b.el=g.el;b.children!==g.children&&p(W,b.children)}},T=(g,b,R,F)=>{g==null?o(b.el=d(b.children||""),R,F):b.el=g.el},B=(g,b,R,F)=>{[g.el,g.anchor]=O(g.children,b,R,F,g.el,g.anchor)},U=({el:g,anchor:b},R,F)=>{let W;for(;g&&g!==b;)W=$(g),o(g,R,F),g=W;o(b,R,F)},J=({el:g,anchor:b})=>{let R;for(;g&&g!==b;)R=$(g),a(g),g=R;a(b)},Y=(g,b,R,F,W,ee,re,X,te)=>{b.type==="svg"?re="svg":b.type==="math"&&(re="mathml"),g==null?ce(b,R,F,W,ee,re,X,te):he(g,b,W,ee,re,X,te)},ce=(g,b,R,F,W,ee,re,X)=>{let te,G;const{props:ie,shapeFlag:pe,transition:de,dirs:ve}=g;if(te=g.el=u(g.type,ee,ie&&ie.is,ie),pe&8?_(te,g.children):pe&16&&oe(g.children,te,null,F,W,qo(g,ee),re,X),ve&&vi(g,null,F,"created"),ye(te,g,g.scopeId,re,F),ie){for(const He in ie)He!=="value"&&!Sr(He)&&c(te,He,null,ie[He],ee,g.children,F,W,N);"value"in ie&&c(te,"value",null,ie.value,ee),(G=ie.onVnodeBeforeMount)&&Tn(G,F,g)}ve&&vi(g,null,F,"beforeMount");const Ie=tm(W,de);Ie&&de.beforeEnter(te),o(te,b,R),((G=ie&&ie.onVnodeMounted)||Ie||ve)&&Ft(()=>{G&&Tn(G,F,g),Ie&&de.enter(te),ve&&vi(g,null,F,"mounted")},W)},ye=(g,b,R,F,W)=>{if(R&&x(g,R),F)for(let ee=0;ee<F.length;ee++)x(g,F[ee]);if(W){let ee=W.subTree;if(b===ee){const re=W.vnode;ye(g,re,re.scopeId,re.slotScopeIds,W.parent)}}},oe=(g,b,R,F,W,ee,re,X,te=0)=>{for(let G=te;G<g.length;G++){const ie=g[G]=X?ni(g[G]):Cn(g[G]);C(null,ie,b,R,F,W,ee,re,X)}},he=(g,b,R,F,W,ee,re)=>{const X=b.el=g.el;let{patchFlag:te,dynamicChildren:G,dirs:ie}=b;te|=g.patchFlag&16;const pe=g.props||at,de=b.props||at;let ve;if(R&&yi(R,!1),(ve=de.onVnodeBeforeUpdate)&&Tn(ve,R,b,g),ie&&vi(b,g,R,"beforeUpdate"),R&&yi(R,!0),G?$e(g.dynamicChildren,G,X,R,F,qo(b,W),ee):re||le(g,b,X,null,R,F,qo(b,W),ee,!1),te>0){if(te&16)we(X,b,pe,de,R,F,W);else if(te&2&&pe.class!==de.class&&c(X,"class",null,de.class,W),te&4&&c(X,"style",pe.style,de.style,W),te&8){const Ie=b.dynamicProps;for(let He=0;He<Ie.length;He++){const ze=Ie[He],Ye=pe[ze],Ct=de[ze];(Ct!==Ye||ze==="value")&&c(X,ze,Ye,Ct,W,g.children,R,F,N)}}te&1&&g.children!==b.children&&_(X,b.children)}else!re&&G==null&&we(X,b,pe,de,R,F,W);((ve=de.onVnodeUpdated)||ie)&&Ft(()=>{ve&&Tn(ve,R,b,g),ie&&vi(b,g,R,"updated")},F)},$e=(g,b,R,F,W,ee,re)=>{for(let X=0;X<b.length;X++){const te=g[X],G=b[X],ie=te.el&&(te.type===_t||!Ei(te,G)||te.shapeFlag&70)?w(te.el):R;C(te,G,ie,null,F,W,ee,re,!0)}},we=(g,b,R,F,W,ee,re)=>{if(R!==F){if(R!==at)for(const X in R)!Sr(X)&&!(X in F)&&c(g,X,R[X],null,re,b.children,W,ee,N);for(const X in F){if(Sr(X))continue;const te=F[X],G=R[X];te!==G&&X!=="value"&&c(g,X,G,te,re,b.children,W,ee,N)}"value"in F&&c(g,"value",R.value,F.value,re)}},ne=(g,b,R,F,W,ee,re,X,te)=>{const G=b.el=g?g.el:f(""),ie=b.anchor=g?g.anchor:f("");let{patchFlag:pe,dynamicChildren:de,slotScopeIds:ve}=b;ve&&(X=X?X.concat(ve):ve),g==null?(o(G,R,F),o(ie,R,F),oe(b.children||[],R,ie,W,ee,re,X,te)):pe>0&&pe&64&&de&&g.dynamicChildren?($e(g.dynamicChildren,de,R,W,ee,re,X),(b.key!=null||W&&b===W.subTree)&&Rf(g,b,!0)):le(g,b,R,ie,W,ee,re,X,te)},Se=(g,b,R,F,W,ee,re,X,te)=>{b.slotScopeIds=X,g==null?b.shapeFlag&512?W.ctx.activate(b,R,F,re,te):be(b,R,F,W,ee,re,te):ot(g,b,te)},be=(g,b,R,F,W,ee,re)=>{const X=g.component=um(g,F,W);if(Qs(g)&&(X.ctx.renderer=Ce),hm(X),X.asyncDep){if(W&&W.registerDep(X,ge),!g.el){const te=X.subTree=Tt(Wt);T(null,te,b,R)}}else ge(X,g,b,R,W,ee,re)},ot=(g,b,R)=>{const F=b.component=g.component;if(_p(g,b,R))if(F.asyncDep&&!F.asyncResolved){De(F,b,R);return}else F.next=b,up(F.update),F.effect.dirty=!0,F.update();else b.el=g.el,F.vnode=b},ge=(g,b,R,F,W,ee,re)=>{const X=()=>{if(g.isMounted){let{next:ie,bu:pe,u:de,parent:ve,vnode:Ie}=g;{const ln=Mf(g);if(ln){ie&&(ie.el=Ie.el,De(g,ie,re)),ln.asyncDep.then(()=>{g.isUnmounted||X()});return}}let He=ie,ze;yi(g,!1),ie?(ie.el=Ie.el,De(g,ie,re)):ie=Ie,pe&&Cs(pe),(ze=ie.props&&ie.props.onVnodeBeforeUpdate)&&Tn(ze,ve,ie,Ie),yi(g,!0);const Ye=Vo(g),Ct=g.subTree;g.subTree=Ye,C(Ct,Ye,w(Ct.el),se(Ct),g,W,ee),ie.el=Ye.el,He===null&&gp(g,Ye.el),de&&Ft(de,W),(ze=ie.props&&ie.props.onVnodeUpdated)&&Ft(()=>Tn(ze,ve,ie,Ie),W)}else{let ie;const{el:pe,props:de}=b,{bm:ve,m:Ie,parent:He}=g,ze=Er(b);if(yi(g,!1),ve&&Cs(ve),!ze&&(ie=de&&de.onVnodeBeforeMount)&&Tn(ie,He,b),yi(g,!0),pe&&z){const Ye=()=>{g.subTree=Vo(g),z(pe,g.subTree,g,W,null)};ze?b.type.__asyncLoader().then(()=>!g.isUnmounted&&Ye()):Ye()}else{const Ye=g.subTree=Vo(g);C(null,Ye,R,F,g,W,ee),b.el=Ye.el}if(Ie&&Ft(Ie,W),!ze&&(ie=de&&de.onVnodeMounted)){const Ye=b;Ft(()=>Tn(ie,He,Ye),W)}(b.shapeFlag&256||He&&Er(He.vnode)&&He.vnode.shapeFlag&256)&&g.a&&Ft(g.a,W),g.isMounted=!0,b=R=F=null}},te=g.effect=new Ma(X,sn,()=>Ha(G),g.scope),G=g.update=()=>{te.dirty&&te.run()};G.id=g.uid,yi(g,!0),G()},De=(g,b,R)=>{b.component=g;const F=g.vnode.props;g.vnode=b,g.next=null,Gp(g,b.props,F,R),Xp(g,b.children,R),ci(),Ac(g),ui()},le=(g,b,R,F,W,ee,re,X,te=!1)=>{const G=g&&g.children,ie=g?g.shapeFlag:0,pe=b.children,{patchFlag:de,shapeFlag:ve}=b;if(de>0){if(de&128){q(G,pe,R,F,W,ee,re,X,te);return}else if(de&256){yt(G,pe,R,F,W,ee,re,X,te);return}}ve&8?(ie&16&&N(G,W,ee),pe!==G&&_(R,pe)):ie&16?ve&16?q(G,pe,R,F,W,ee,re,X,te):N(G,W,ee,!0):(ie&8&&_(R,""),ve&16&&oe(pe,R,F,W,ee,re,X,te))},yt=(g,b,R,F,W,ee,re,X,te)=>{g=g||Gi,b=b||Gi;const G=g.length,ie=b.length,pe=Math.min(G,ie);let de;for(de=0;de<pe;de++){const ve=b[de]=te?ni(b[de]):Cn(b[de]);C(g[de],ve,R,null,W,ee,re,X,te)}G>ie?N(g,W,ee,!0,!1,pe):oe(b,R,F,W,ee,re,X,te,pe)},q=(g,b,R,F,W,ee,re,X,te)=>{let G=0;const ie=b.length;let pe=g.length-1,de=ie-1;for(;G<=pe&&G<=de;){const ve=g[G],Ie=b[G]=te?ni(b[G]):Cn(b[G]);if(Ei(ve,Ie))C(ve,Ie,R,null,W,ee,re,X,te);else break;G++}for(;G<=pe&&G<=de;){const ve=g[pe],Ie=b[de]=te?ni(b[de]):Cn(b[de]);if(Ei(ve,Ie))C(ve,Ie,R,null,W,ee,re,X,te);else break;pe--,de--}if(G>pe){if(G<=de){const ve=de+1,Ie=ve<ie?b[ve].el:F;for(;G<=de;)C(null,b[G]=te?ni(b[G]):Cn(b[G]),R,Ie,W,ee,re,X,te),G++}}else if(G>de)for(;G<=pe;)K(g[G],W,ee,!0),G++;else{const ve=G,Ie=G,He=new Map;for(G=Ie;G<=de;G++){const $t=b[G]=te?ni(b[G]):Cn(b[G]);$t.key!=null&&He.set($t.key,G)}let ze,Ye=0;const Ct=de-Ie+1;let ln=!1,cn=0;const Gt=new Array(Ct);for(G=0;G<Ct;G++)Gt[G]=0;for(G=ve;G<=pe;G++){const $t=g[G];if(Ye>=Ct){K($t,W,ee,!0);continue}let et;if($t.key!=null)et=He.get($t.key);else for(ze=Ie;ze<=de;ze++)if(Gt[ze-Ie]===0&&Ei($t,b[ze])){et=ze;break}et===void 0?K($t,W,ee,!0):(Gt[et-Ie]=G+1,et>=cn?cn=et:ln=!0,C($t,b[et],R,null,W,ee,re,X,te),Ye++)}const hi=ln?nm(Gt):Gi;for(ze=hi.length-1,G=Ct-1;G>=0;G--){const $t=Ie+G,et=b[$t],Ni=$t+1<ie?b[$t+1].el:F;Gt[G]===0?C(null,et,R,Ni,W,ee,re,X,te):ln&&(ze<0||G!==hi[ze]?k(et,R,Ni,2):ze--)}}},k=(g,b,R,F,W=null)=>{const{el:ee,type:re,transition:X,children:te,shapeFlag:G}=g;if(G&6){k(g.component.subTree,b,R,F);return}if(G&128){g.suspense.move(b,R,F);return}if(G&64){re.move(g,b,R,Ce);return}if(re===_t){o(ee,b,R);for(let pe=0;pe<te.length;pe++)k(te[pe],b,R,F);o(g.anchor,b,R);return}if(re===Ko){U(g,b,R);return}if(F!==2&&G&1&&X)if(F===0)X.beforeEnter(ee),o(ee,b,R),Ft(()=>X.enter(ee),W);else{const{leave:pe,delayLeave:de,afterLeave:ve}=X,Ie=()=>o(ee,b,R),He=()=>{pe(ee,()=>{Ie(),ve&&ve()})};de?de(ee,Ie,He):He()}else o(ee,b,R)},K=(g,b,R,F=!1,W=!1)=>{const{type:ee,props:re,ref:X,children:te,dynamicChildren:G,shapeFlag:ie,patchFlag:pe,dirs:de}=g;if(X!=null&&ma(X,null,R,g,!0),ie&256){b.ctx.deactivate(g);return}const ve=ie&1&&de,Ie=!Er(g);let He;if(Ie&&(He=re&&re.onVnodeBeforeUnmount)&&Tn(He,b,g),ie&6)P(g.component,R,F);else{if(ie&128){g.suspense.unmount(R,F);return}ve&&vi(g,null,b,"beforeUnmount"),ie&64?g.type.remove(g,b,R,W,Ce,F):G&&(ee!==_t||pe>0&&pe&64)?N(G,b,R,!1,!0):(ee===_t&&pe&384||!W&&ie&16)&&N(te,b,R),F&&D(g)}(Ie&&(He=re&&re.onVnodeUnmounted)||ve)&&Ft(()=>{He&&Tn(He,b,g),ve&&vi(g,null,b,"unmounted")},R)},D=g=>{const{type:b,el:R,anchor:F,transition:W}=g;if(b===_t){y(R,F);return}if(b===Ko){J(g);return}const ee=()=>{a(R),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(g.shapeFlag&1&&W&&!W.persisted){const{leave:re,delayLeave:X}=W,te=()=>re(R,ee);X?X(g.el,ee,te):te()}else ee()},y=(g,b)=>{let R;for(;g!==b;)R=$(g),a(g),g=R;a(b)},P=(g,b,R)=>{const{bum:F,scope:W,update:ee,subTree:re,um:X}=g;F&&Cs(F),W.stop(),ee&&(ee.active=!1,K(re,g,b,R)),X&&Ft(X,b),Ft(()=>{g.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},N=(g,b,R,F=!1,W=!1,ee=0)=>{for(let re=ee;re<g.length;re++)K(g[re],b,R,F,W)},se=g=>g.shapeFlag&6?se(g.component.subTree):g.shapeFlag&128?g.suspense.next():$(g.anchor||g.el);let ae=!1;const ke=(g,b,R)=>{g==null?b._vnode&&K(b._vnode,null,null,!0):C(b._vnode||null,g,b,null,null,null,R),ae||(ae=!0,Ac(),ff(),ae=!1),b._vnode=g},Ce={p:C,um:K,m:k,r:D,mt:be,mc:oe,pc:le,pbc:$e,n:se,o:t};let M,z;return{render:ke,hydrate:M,createApp:Up(ke,M)}}function qo({type:t,props:n},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:r}function yi({effect:t,update:n},r){t.allowRecurse=n.allowRecurse=r}function tm(t,n){return(!t||t&&!t.pendingBranch)&&n&&!n.persisted}function Rf(t,n,r=!1){const o=t.children,a=n.children;if(Ee(o)&&Ee(a))for(let c=0;c<o.length;c++){const u=o[c];let f=a[c];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=a[c]=ni(a[c]),f.el=u.el),r||Rf(u,f)),f.type===to&&(f.el=u.el)}}function nm(t){const n=t.slice(),r=[0];let o,a,c,u,f;const d=t.length;for(o=0;o<d;o++){const p=t[o];if(p!==0){if(a=r[r.length-1],t[a]<p){n[o]=a,r.push(o);continue}for(c=0,u=r.length-1;c<u;)f=c+u>>1,t[r[f]]<p?c=f+1:u=f;p<t[r[c]]&&(c>0&&(n[o]=r[c-1]),r[c]=o)}}for(c=r.length,u=r[c-1];c-- >0;)r[c]=u,u=n[u];return r}function Mf(t){const n=t.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:Mf(n)}const im=t=>t.__isTeleport,_t=Symbol.for("v-fgt"),to=Symbol.for("v-txt"),Wt=Symbol.for("v-cmt"),Ko=Symbol.for("v-stc"),xr=[];let wn=null;function xe(t=!1){xr.push(wn=t?null:[])}function rm(){xr.pop(),wn=xr[xr.length-1]||null}let jr=1;function Hc(t){jr+=t}function Nf(t){return t.dynamicChildren=jr>0?wn||Gi:null,rm(),jr>0&&wn&&wn.push(t),t}function Je(t,n,r,o,a,c){return Nf(Le(t,n,r,o,a,c,!0))}function jt(t,n,r,o,a){return Nf(Tt(t,n,r,o,a,!0))}function js(t){return t?t.__v_isVNode===!0:!1}function Ei(t,n){return t.type===n.type&&t.key===n.key}const Df=({key:t})=>t??null,xs=({ref:t,ref_key:n,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?vt(t)||Pt(t)||Me(t)?{i:bt,r:t,k:n,f:!!r}:t:null);function Le(t,n=null,r=null,o=0,a=null,c=t===_t?0:1,u=!1,f=!1){const d={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&Df(n),ref:n&&xs(n),scopeId:Xs,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:o,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:bt};return f?(Ja(d,r),c&128&&t.normalize(d)):r&&(d.shapeFlag|=vt(r)?8:16),jr>0&&!u&&wn&&(d.patchFlag>0||c&6)&&d.patchFlag!==32&&wn.push(d),d}const Tt=sm;function sm(t,n=null,r=null,o=0,a=null,c=!1){if((!t||t===vp)&&(t=Wt),js(t)){const f=li(t,n,!0);return r&&Ja(f,r),jr>0&&!c&&wn&&(f.shapeFlag&6?wn[wn.indexOf(t)]=f:wn.push(f)),f.patchFlag|=-2,f}if(_m(t)&&(t=t.__vccOpts),n){n=om(n);let{class:f,style:d}=n;f&&!vt(f)&&(n.class=vn(f)),ct(d)&&(rf(d)&&!Ee(d)&&(d=gt({},d)),n.style=Ra(d))}const u=vt(t)?1:yp(t)?128:im(t)?64:ct(t)?4:Me(t)?2:0;return Le(t,n,r,o,a,u,c,!0)}function om(t){return t?rf(t)||Lf(t)?gt({},t):t:null}function li(t,n,r=!1,o=!1){const{props:a,ref:c,patchFlag:u,children:f,transition:d}=t,p=n?am(a||{},n):a,_={__v_isVNode:!0,__v_skip:!0,type:t.type,props:p,key:p&&Df(p),ref:n&&n.ref?r&&c?Ee(c)?c.concat(xs(n)):[c,xs(n)]:xs(n):c,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:f,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==_t?u===-1?16:u|16:u,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:d,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&li(t.ssContent),ssFallback:t.ssFallback&&li(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return d&&o&&(_.transition=d.clone(_)),_}function ki(t=" ",n=0){return Tt(to,null,t,n)}function Nt(t="",n=!1){return n?(xe(),jt(Wt,null,t)):Tt(Wt,null,t)}function Cn(t){return t==null||typeof t=="boolean"?Tt(Wt):Ee(t)?Tt(_t,null,t.slice()):typeof t=="object"?ni(t):Tt(to,null,String(t))}function ni(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:li(t)}function Ja(t,n){let r=0;const{shapeFlag:o}=t;if(n==null)n=null;else if(Ee(n))r=16;else if(typeof n=="object")if(o&65){const a=n.default;a&&(a._c&&(a._d=!1),Ja(t,a()),a._c&&(a._d=!0));return}else{r=32;const a=n._;!a&&!Lf(n)?n._ctx=bt:a===3&&bt&&(bt.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else Me(n)?(n={default:n,_ctx:bt},r=32):(n=String(n),o&64?(r=16,n=[ki(n)]):r=8);t.children=n,t.shapeFlag|=r}function am(...t){const n={};for(let r=0;r<t.length;r++){const o=t[r];for(const a in o)if(a==="class")n.class!==o.class&&(n.class=vn([n.class,o.class]));else if(a==="style")n.style=Ra([n.style,o.style]);else if(Us(a)){const c=n[a],u=o[a];u&&c!==u&&!(Ee(c)&&c.includes(u))&&(n[a]=c?[].concat(c,u):u)}else a!==""&&(n[a]=o[a])}return n}function Tn(t,n,r,o=null){on(t,n,7,[r,o])}const lm=Ef();let cm=0;function um(t,n,r){const o=t.type,a=(n?n.appContext:t.appContext)||lm,c={uid:cm++,vnode:t,type:o,parent:n,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new Zu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Of(o,a),emitsOptions:df(o,a),emit:null,emitted:null,propsDefaults:at,inheritAttrs:o.inheritAttrs,ctx:at,data:at,props:at,attrs:at,slots:at,refs:at,setupState:at,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return c.ctx={_:c},c.root=n?n.root:c,c.emit=dp.bind(null,c),t.ce&&t.ce(c),c}let It=null;const fm=()=>It||bt;let Bs,_a;{const t=ju(),n=(r,o)=>{let a;return(a=t[r])||(a=t[r]=[]),a.push(o),c=>{a.length>1?a.forEach(u=>u(c)):a[0](c)}};Bs=n("__VUE_INSTANCE_SETTERS__",r=>It=r),_a=n("__VUE_SSR_SETTERS__",r=>no=r)}const Zr=t=>{const n=It;return Bs(t),t.scope.on(),()=>{t.scope.off(),Bs(n)}},Uc=()=>{It&&It.scope.off(),Bs(null)};function zf(t){return t.vnode.shapeFlag&4}let no=!1;function hm(t,n=!1){n&&_a(n);const{props:r,children:o}=t.vnode,a=zf(t);Wp(t,r,a,n),Yp(t,o);const c=a?dm(t,n):void 0;return n&&_a(!1),c}function dm(t,n){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,zp);const{setup:o}=r;if(o){const a=t.setupContext=o.length>1?mm(t):null,c=Zr(t);ci();const u=oi(o,t,0,[t.props,a]);if(ui(),c(),Ru(u)){if(u.then(Uc,Uc),n)return u.then(f=>{qc(t,f,n)}).catch(f=>{Js(f,t,0)});t.asyncDep=u}else qc(t,u,n)}else jf(t,n)}function qc(t,n,r){Me(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:ct(n)&&(t.setupState=af(n)),jf(t,r)}let Kc;function jf(t,n,r){const o=t.type;if(!t.render){if(!n&&Kc&&!o.render){const a=o.template||Wa(t).template;if(a){const{isCustomElement:c,compilerOptions:u}=t.appContext.config,{delimiters:f,compilerOptions:d}=o,p=gt(gt({isCustomElement:c,delimiters:f},u),d);o.render=Kc(a,p)}}t.render=o.render||sn}{const a=Zr(t);ci();try{jp(t)}finally{ui(),a()}}}const pm={get(t,n){return Ht(t,"get",""),t[n]}};function mm(t){const n=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,pm),slots:t.slots,emit:t.emit,expose:n}}function io(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(af(Fa(t.exposed)),{get(n,r){if(r in n)return n[r];if(r in Cr)return Cr[r](t)},has(n,r){return r in n||r in Cr}}))}function _m(t){return Me(t)&&"__vccOpts"in t}const Ya=(t,n)=>tp(t,n,no);function gm(t,n,r){const o=arguments.length;return o===2?ct(n)&&!Ee(n)?js(n)?Tt(t,null,[n]):Tt(t,n):Tt(t,null,n):(o>3?r=Array.prototype.slice.call(arguments,2):o===3&&js(r)&&(r=[r]),Tt(t,n,r))}const vm="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ym="http://www.w3.org/2000/svg",wm="http://www.w3.org/1998/Math/MathML",ii=typeof document<"u"?document:null,Wc=ii&&ii.createElement("template"),bm={insert:(t,n,r)=>{n.insertBefore(t,r||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,r,o)=>{const a=n==="svg"?ii.createElementNS(ym,t):n==="mathml"?ii.createElementNS(wm,t):ii.createElement(t,r?{is:r}:void 0);return t==="select"&&o&&o.multiple!=null&&a.setAttribute("multiple",o.multiple),a},createText:t=>ii.createTextNode(t),createComment:t=>ii.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ii.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,r,o,a,c){const u=r?r.previousSibling:n.lastChild;if(a&&(a===c||a.nextSibling))for(;n.insertBefore(a.cloneNode(!0),r),!(a===c||!(a=a.nextSibling)););else{Wc.innerHTML=o==="svg"?`<svg>${t}</svg>`:o==="mathml"?`<math>${t}</math>`:t;const f=Wc.content;if(o==="svg"||o==="mathml"){const d=f.firstChild;for(;d.firstChild;)f.appendChild(d.firstChild);f.removeChild(d)}n.insertBefore(f,r)}return[u?u.nextSibling:n.firstChild,r?r.previousSibling:n.lastChild]}},Gn="transition",yr="animation",Br=Symbol("_vtc"),ro=(t,{slots:n})=>gm(Cp,Pm(t),n);ro.displayName="Transition";const Bf={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};ro.props=gt({},_f,Bf);const wi=(t,n=[])=>{Ee(t)?t.forEach(r=>r(...n)):t&&t(...n)},Gc=t=>t?Ee(t)?t.some(n=>n.length>1):t.length>1:!1;function Pm(t){const n={};for(const ne in t)ne in Bf||(n[ne]=t[ne]);if(t.css===!1)return n;const{name:r="v",type:o,duration:a,enterFromClass:c=`${r}-enter-from`,enterActiveClass:u=`${r}-enter-active`,enterToClass:f=`${r}-enter-to`,appearFromClass:d=c,appearActiveClass:p=u,appearToClass:_=f,leaveFromClass:w=`${r}-leave-from`,leaveActiveClass:$=`${r}-leave-active`,leaveToClass:x=`${r}-leave-to`}=t,O=$m(a),C=O&&O[0],A=O&&O[1],{onBeforeEnter:T,onEnter:B,onEnterCancelled:U,onLeave:J,onLeaveCancelled:Y,onBeforeAppear:ce=T,onAppear:ye=B,onAppearCancelled:oe=U}=n,he=(ne,Se,be)=>{bi(ne,Se?_:f),bi(ne,Se?p:u),be&&be()},$e=(ne,Se)=>{ne._isLeaving=!1,bi(ne,w),bi(ne,x),bi(ne,$),Se&&Se()},we=ne=>(Se,be)=>{const ot=ne?ye:B,ge=()=>he(Se,ne,be);wi(ot,[Se,ge]),Jc(()=>{bi(Se,ne?d:c),Jn(Se,ne?_:f),Gc(ot)||Yc(Se,o,C,ge)})};return gt(n,{onBeforeEnter(ne){wi(T,[ne]),Jn(ne,c),Jn(ne,u)},onBeforeAppear(ne){wi(ce,[ne]),Jn(ne,d),Jn(ne,p)},onEnter:we(!1),onAppear:we(!0),onLeave(ne,Se){ne._isLeaving=!0;const be=()=>$e(ne,Se);Jn(ne,w),Jn(ne,$),Tm(),Jc(()=>{ne._isLeaving&&(bi(ne,w),Jn(ne,x),Gc(J)||Yc(ne,o,A,be))}),wi(J,[ne,be])},onEnterCancelled(ne){he(ne,!1),wi(U,[ne])},onAppearCancelled(ne){he(ne,!0),wi(oe,[ne])},onLeaveCancelled(ne){$e(ne),wi(Y,[ne])}})}function $m(t){if(t==null)return null;if(ct(t))return[Wo(t.enter),Wo(t.leave)];{const n=Wo(t);return[n,n]}}function Wo(t){return Ed(t)}function Jn(t,n){n.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[Br]||(t[Br]=new Set)).add(n)}function bi(t,n){n.split(/\s+/).forEach(o=>o&&t.classList.remove(o));const r=t[Br];r&&(r.delete(n),r.size||(t[Br]=void 0))}function Jc(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Sm=0;function Yc(t,n,r,o){const a=t._endId=++Sm,c=()=>{a===t._endId&&o()};if(r)return setTimeout(c,r);const{type:u,timeout:f,propCount:d}=Em(t,n);if(!u)return o();const p=u+"end";let _=0;const w=()=>{t.removeEventListener(p,$),c()},$=x=>{x.target===t&&++_>=d&&w()};setTimeout(()=>{_<d&&w()},f+1),t.addEventListener(p,$)}function Em(t,n){const r=window.getComputedStyle(t),o=O=>(r[O]||"").split(", "),a=o(`${Gn}Delay`),c=o(`${Gn}Duration`),u=Xc(a,c),f=o(`${yr}Delay`),d=o(`${yr}Duration`),p=Xc(f,d);let _=null,w=0,$=0;n===Gn?u>0&&(_=Gn,w=u,$=c.length):n===yr?p>0&&(_=yr,w=p,$=d.length):(w=Math.max(u,p),_=w>0?u>p?Gn:yr:null,$=_?_===Gn?c.length:d.length:0);const x=_===Gn&&/\b(transform|all)(,|$)/.test(o(`${Gn}Property`).toString());return{type:_,timeout:w,propCount:$,hasTransform:x}}function Xc(t,n){for(;t.length<n.length;)t=t.concat(t);return Math.max(...n.map((r,o)=>Qc(r)+Qc(t[o])))}function Qc(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Tm(){return document.body.offsetHeight}function Cm(t,n,r){const o=t[Br];o&&(n=(n?[n,...o]:[...o]).join(" ")),n==null?t.removeAttribute("class"):r?t.setAttribute("class",n):t.className=n}const eu=Symbol("_vod"),Lm=Symbol("_vsh"),xm=Symbol(""),Om=/(^|;)\s*display\s*:/;function Im(t,n,r){const o=t.style,a=vt(r);let c=!1;if(r&&!a){if(n)if(vt(n))for(const u of n.split(";")){const f=u.slice(0,u.indexOf(":")).trim();r[f]==null&&Os(o,f,"")}else for(const u in n)r[u]==null&&Os(o,u,"");for(const u in r)u==="display"&&(c=!0),Os(o,u,r[u])}else if(a){if(n!==r){const u=o[xm];u&&(r+=";"+u),o.cssText=r,c=Om.test(r)}}else n&&t.removeAttribute("style");eu in t&&(t[eu]=c?o.display:"",t[Lm]&&(o.display="none"))}const tu=/\s*!important$/;function Os(t,n,r){if(Ee(r))r.forEach(o=>Os(t,n,o));else if(r==null&&(r=""),n.startsWith("--"))t.setProperty(n,r);else{const o=km(t,n);tu.test(r)?t.setProperty(rr(o),r.replace(tu,""),"important"):t[o]=r}}const nu=["Webkit","Moz","ms"],Go={};function km(t,n){const r=Go[n];if(r)return r;let o=nr(n);if(o!=="filter"&&o in t)return Go[n]=o;o=Du(o);for(let a=0;a<nu.length;a++){const c=nu[a]+o;if(c in t)return Go[n]=c}return n}const iu="http://www.w3.org/1999/xlink";function Am(t,n,r,o,a){if(o&&n.startsWith("xlink:"))r==null?t.removeAttributeNS(iu,n.slice(6,n.length)):t.setAttributeNS(iu,n,r);else{const c=Id(n);r==null||c&&!Bu(r)?t.removeAttribute(n):t.setAttribute(n,c?"":r)}}function Rm(t,n,r,o,a,c,u){if(n==="innerHTML"||n==="textContent"){o&&u(o,a,c),t[n]=r??"";return}const f=t.tagName;if(n==="value"&&f!=="PROGRESS"&&!f.includes("-")){const p=f==="OPTION"?t.getAttribute("value")||"":t.value,_=r??"";(p!==_||!("_value"in t))&&(t.value=_),r==null&&t.removeAttribute(n),t._value=r;return}let d=!1;if(r===""||r==null){const p=typeof t[n];p==="boolean"?r=Bu(r):r==null&&p==="string"?(r="",d=!0):p==="number"&&(r=0,d=!0)}try{t[n]=r}catch{}d&&t.removeAttribute(n)}function Ki(t,n,r,o){t.addEventListener(n,r,o)}function Mm(t,n,r,o){t.removeEventListener(n,r,o)}const ru=Symbol("_vei");function Nm(t,n,r,o,a=null){const c=t[ru]||(t[ru]={}),u=c[n];if(o&&u)u.value=o;else{const[f,d]=Dm(n);if(o){const p=c[n]=Bm(o,a);Ki(t,f,p,d)}else u&&(Mm(t,f,u,d),c[n]=void 0)}}const su=/(?:Once|Passive|Capture)$/;function Dm(t){let n;if(su.test(t)){n={};let o;for(;o=t.match(su);)t=t.slice(0,t.length-o[0].length),n[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):rr(t.slice(2)),n]}let Jo=0;const zm=Promise.resolve(),jm=()=>Jo||(zm.then(()=>Jo=0),Jo=Date.now());function Bm(t,n){const r=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=r.attached)return;on(Fm(o,r.value),n,5,[o])};return r.value=t,r.attached=jm(),r}function Fm(t,n){if(Ee(n)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},n.map(o=>a=>!a._stopped&&o&&o(a))}else return n}const ou=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Zm=(t,n,r,o,a,c,u,f,d)=>{const p=a==="svg";n==="class"?Cm(t,o,p):n==="style"?Im(t,r,o):Us(n)?Ia(n)||Nm(t,n,r,o,u):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):Vm(t,n,o,p))?Rm(t,n,o,c,u,f,d):(n==="true-value"?t._trueValue=o:n==="false-value"&&(t._falseValue=o),Am(t,n,o,p))};function Vm(t,n,r,o){if(o)return!!(n==="innerHTML"||n==="textContent"||n in t&&ou(n)&&Me(r));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){const a=t.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return ou(n)&&vt(r)?!1:n in t}const au=t=>{const n=t.props["onUpdate:modelValue"]||!1;return Ee(n)?r=>Cs(n,r):n};function Hm(t){t.target.composing=!0}function lu(t){const n=t.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const Yo=Symbol("_assign"),Um={created(t,{modifiers:{lazy:n,trim:r,number:o}},a){t[Yo]=au(a);const c=o||a.props&&a.props.type==="number";Ki(t,n?"change":"input",u=>{if(u.target.composing)return;let f=t.value;r&&(f=f.trim()),c&&(f=ra(f)),t[Yo](f)}),r&&Ki(t,"change",()=>{t.value=t.value.trim()}),n||(Ki(t,"compositionstart",Hm),Ki(t,"compositionend",lu),Ki(t,"change",lu))},mounted(t,{value:n}){t.value=n??""},beforeUpdate(t,{value:n,modifiers:{lazy:r,trim:o,number:a}},c){if(t[Yo]=au(c),t.composing)return;const u=(a||t.type==="number")&&!/^0\d/.test(t.value)?ra(t.value):t.value,f=n??"";u!==f&&(document.activeElement===t&&t.type!=="range"&&(r||o&&t.value.trim()===f)||(t.value=f))}},qm=gt({patchProp:Zm},bm);let cu;function Km(){return cu||(cu=Qp(qm))}const Wm=(...t)=>{const n=Km().createApp(...t),{mount:r}=n;return n.mount=o=>{const a=Jm(o);if(!a)return;const c=n._component;!Me(c)&&!c.render&&!c.template&&(c.template=a.innerHTML),a.innerHTML="";const u=r(a,!1,Gm(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),u},n};function Gm(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Jm(t){return vt(t)?document.querySelector(t):t}var Ym=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Ff;const so=t=>Ff=t,Zf=Symbol();function ga(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Or;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Or||(Or={}));function Xm(){const t=Vu(!0),n=t.run(()=>Et({}));let r=[],o=[];const a=Fa({install(c){so(a),a._a=c,c.provide(Zf,a),c.config.globalProperties.$pinia=a,o.forEach(u=>r.push(u)),o=[]},use(c){return!this._a&&!Ym?o.push(c):r.push(c),this},_p:r,_a:null,_e:t,_s:new Map,state:n});return a}const Vf=()=>{};function uu(t,n,r,o=Vf){t.push(n);const a=()=>{const c=t.indexOf(n);c>-1&&(t.splice(c,1),o())};return!r&&Hu()&&Ad(a),a}function Ui(t,...n){t.slice().forEach(r=>{r(...n)})}const Qm=t=>t();function va(t,n){t instanceof Map&&n instanceof Map&&n.forEach((r,o)=>t.set(o,r)),t instanceof Set&&n instanceof Set&&n.forEach(t.add,t);for(const r in n){if(!n.hasOwnProperty(r))continue;const o=n[r],a=t[r];ga(a)&&ga(o)&&t.hasOwnProperty(r)&&!Pt(o)&&!Ii(o)?t[r]=va(a,o):t[r]=o}return t}const e_=Symbol();function t_(t){return!ga(t)||!t.hasOwnProperty(e_)}const{assign:Qn}=Object;function n_(t){return!!(Pt(t)&&t.effect)}function i_(t,n,r,o){const{state:a,actions:c,getters:u}=n,f=r.state.value[t];let d;function p(){f||(r.state.value[t]=a?a():{});const _=sp(r.state.value[t]);return Qn(_,c,Object.keys(u||{}).reduce((w,$)=>(w[$]=Fa(Ya(()=>{so(r);const x=r._s.get(t);return u[$].call(x,x)})),w),{}))}return d=Hf(t,p,n,r,o,!0),d}function Hf(t,n,r={},o,a,c){let u;const f=Qn({actions:{}},r),d={deep:!0};let p,_,w=[],$=[],x;const O=o.state.value[t];!c&&!O&&(o.state.value[t]={}),Et({});let C;function A(oe){let he;p=_=!1,typeof oe=="function"?(oe(o.state.value[t]),he={type:Or.patchFunction,storeId:t,events:x}):(va(o.state.value[t],oe),he={type:Or.patchObject,payload:oe,storeId:t,events:x});const $e=C=Symbol();cf().then(()=>{C===$e&&(p=!0)}),_=!0,Ui(w,he,o.state.value[t])}const T=c?function(){const{state:he}=r,$e=he?he():{};this.$patch(we=>{Qn(we,$e)})}:Vf;function B(){u.stop(),w=[],$=[],o._s.delete(t)}function U(oe,he){return function(){so(o);const $e=Array.from(arguments),we=[],ne=[];function Se(ge){we.push(ge)}function be(ge){ne.push(ge)}Ui($,{args:$e,name:oe,store:Y,after:Se,onError:be});let ot;try{ot=he.apply(this&&this.$id===t?this:Y,$e)}catch(ge){throw Ui(ne,ge),ge}return ot instanceof Promise?ot.then(ge=>(Ui(we,ge),ge)).catch(ge=>(Ui(ne,ge),Promise.reject(ge))):(Ui(we,ot),ot)}}const J={_p:o,$id:t,$onAction:uu.bind(null,$),$patch:A,$reset:T,$subscribe(oe,he={}){const $e=uu(w,oe,he.detached,()=>we()),we=u.run(()=>Xi(()=>o.state.value[t],ne=>{(he.flush==="sync"?_:p)&&oe({storeId:t,type:Or.direct,events:x},ne)},Qn({},d,he)));return $e},$dispose:B},Y=Gs(J);o._s.set(t,Y);const ye=(o._a&&o._a.runWithContext||Qm)(()=>o._e.run(()=>(u=Vu()).run(n)));for(const oe in ye){const he=ye[oe];if(Pt(he)&&!n_(he)||Ii(he))c||(O&&t_(he)&&(Pt(he)?he.value=O[oe]:va(he,O[oe])),o.state.value[t][oe]=he);else if(typeof he=="function"){const $e=U(oe,he);ye[oe]=$e,f.actions[oe]=he}}return Qn(Y,ye),Qn(We(Y),ye),Object.defineProperty(Y,"$state",{get:()=>o.state.value[t],set:oe=>{A(he=>{Qn(he,oe)})}}),o._p.forEach(oe=>{Qn(Y,u.run(()=>oe({store:Y,app:o._a,pinia:o,options:f})))}),O&&c&&r.hydrate&&r.hydrate(Y.$state,O),p=!0,_=!0,Y}function r_(t,n,r){let o,a;const c=typeof n=="function";o=t,a=c?r:n;function u(f,d){const p=Kp();return f=f||(p?Lr(Zf,null):null),f&&so(f),f=Ff,f._s.has(o)||(c?Hf(o,n,a,f):i_(o,a,f)),f._s.get(o)}return u.$id=o,u}const fi=r_("resource",()=>({resourceId:Et(void 0)})),s_=["src"],o_=["src"],a_={class:"search-result-metadata"},l_={class:"search-result-resource-type"},c_={class:"search-result-title"},u_={key:0,class:"search-result-resource-description"},f_=an({__name:"SearchListItem",props:{resourceName:{},resourceId:{},resourceDescription:{},resourceType:{},imageTileData:{}},setup(t){const n=fi(),r=t,o=!0,a=r.imageTileData?"http://localhost:8002"+r.imageTileData[0].url:void 0,c=u=>{n.$patch({resourceId:u})};return(u,f)=>(xe(),Je("div",{class:"search-result",onClick:f[0]||(f[0]=d=>c(r.resourceId))},[Pe(a)?(xe(),Je("img",{key:0,class:"search-result-image",loading:"lazy",src:Pe(a),alt:"thumbnail image"},null,8,s_)):(xe(),Je("img",{key:1,class:"search-result-image",src:Pe(o)?"/archesdataviewer/noimage.png":"/noimage.png",alt:"no image available",loading:"lazy"},null,8,o_)),Le("div",a_,[Le("div",l_,qt(r.resourceType??"Resource"),1),Le("div",c_,qt(r.resourceName),1),r.resourceDescription&&r.resourceDescription!=="Undefined"?(xe(),Je("div",u_,qt(r.resourceDescription),1)):Nt("",!0)])]))}}),In=(t,n)=>{const r=t.__vccOpts||t;for(const[o,a]of n)r[o]=a;return r},h_=In(f_,[["__scopeId","data-v-a515ebd3"]]);var Uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ya={exports:{}},Kf={},jn={},Pi={},Vr={},Ze={},Fr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class n{}t._CodeOrName=n,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends n{constructor(B){if(super(),!t.IDENTIFIER.test(B))throw new Error("CodeGen: name must be a valid identifier");this.str=B}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class o extends n{constructor(B){super(),this._items=typeof B=="string"?[B]:B}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const B=this._items[0];return B===""||B==='""'}get str(){var B;return(B=this._str)!==null&&B!==void 0?B:this._str=this._items.reduce((U,J)=>`${U}${J}`,"")}get names(){var B;return(B=this._names)!==null&&B!==void 0?B:this._names=this._items.reduce((U,J)=>(J instanceof r&&(U[J.str]=(U[J.str]||0)+1),U),{})}}t._Code=o,t.nil=new o("");function a(T,...B){const U=[T[0]];let J=0;for(;J<B.length;)f(U,B[J]),U.push(T[++J]);return new o(U)}t._=a;const c=new o("+");function u(T,...B){const U=[x(T[0])];let J=0;for(;J<B.length;)U.push(c),f(U,B[J]),U.push(c,x(T[++J]));return d(U),new o(U)}t.str=u;function f(T,B){B instanceof o?T.push(...B._items):B instanceof r?T.push(B):T.push(w(B))}t.addCodeArg=f;function d(T){let B=1;for(;B<T.length-1;){if(T[B]===c){const U=p(T[B-1],T[B+1]);if(U!==void 0){T.splice(B-1,3,U);continue}T[B++]="+"}B++}}function p(T,B){if(B==='""')return T;if(T==='""')return B;if(typeof T=="string")return B instanceof r||T[T.length-1]!=='"'?void 0:typeof B!="string"?`${T.slice(0,-1)}${B}"`:B[0]==='"'?T.slice(0,-1)+B.slice(1):void 0;if(typeof B=="string"&&B[0]==='"'&&!(T instanceof r))return`"${T}${B.slice(1)}`}function _(T,B){return B.emptyStr()?T:T.emptyStr()?B:u`${T}${B}`}t.strConcat=_;function w(T){return typeof T=="number"||typeof T=="boolean"||T===null?T:x(Array.isArray(T)?T.join(","):T)}function $(T){return new o(x(T))}t.stringify=$;function x(T){return JSON.stringify(T).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=x;function O(T){return typeof T=="string"&&t.IDENTIFIER.test(T)?new o(`.${T}`):a`[${T}]`}t.getProperty=O;function C(T){if(typeof T=="string"&&t.IDENTIFIER.test(T))return new o(`${T}`);throw new Error(`CodeGen: invalid export name: ${T}, use explicit $id name mapping`)}t.getEsmExportName=C;function A(T){return new o(T.toString())}t.regexpCode=A})(Fr);var wa={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const n=Fr;class r extends Error{constructor(p){super(`CodeGen: "code" for ${p} not defined`),this.value=p.value}}var o;(function(d){d[d.Started=0]="Started",d[d.Completed=1]="Completed"})(o||(t.UsedValueState=o={})),t.varKinds={const:new n.Name("const"),let:new n.Name("let"),var:new n.Name("var")};class a{constructor({prefixes:p,parent:_}={}){this._names={},this._prefixes=p,this._parent=_}toName(p){return p instanceof n.Name?p:this.name(p)}name(p){return new n.Name(this._newName(p))}_newName(p){const _=this._names[p]||this._nameGroup(p);return`${p}${_.index++}`}_nameGroup(p){var _,w;if(!((w=(_=this._parent)===null||_===void 0?void 0:_._prefixes)===null||w===void 0)&&w.has(p)||this._prefixes&&!this._prefixes.has(p))throw new Error(`CodeGen: prefix "${p}" is not allowed in this scope`);return this._names[p]={prefix:p,index:0}}}t.Scope=a;class c extends n.Name{constructor(p,_){super(_),this.prefix=p}setValue(p,{property:_,itemIndex:w}){this.value=p,this.scopePath=(0,n._)`.${new n.Name(_)}[${w}]`}}t.ValueScopeName=c;const u=(0,n._)`\n`;class f extends a{constructor(p){super(p),this._values={},this._scope=p.scope,this.opts={...p,_n:p.lines?u:n.nil}}get(){return this._scope}name(p){return new c(p,this._newName(p))}value(p,_){var w;if(_.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const $=this.toName(p),{prefix:x}=$,O=(w=_.key)!==null&&w!==void 0?w:_.ref;let C=this._values[x];if(C){const B=C.get(O);if(B)return B}else C=this._values[x]=new Map;C.set(O,$);const A=this._scope[x]||(this._scope[x]=[]),T=A.length;return A[T]=_.ref,$.setValue(_,{property:x,itemIndex:T}),$}getValue(p,_){const w=this._values[p];if(w)return w.get(_)}scopeRefs(p,_=this._values){return this._reduceValues(_,w=>{if(w.scopePath===void 0)throw new Error(`CodeGen: name "${w}" has no value`);return(0,n._)`${p}${w.scopePath}`})}scopeCode(p=this._values,_,w){return this._reduceValues(p,$=>{if($.value===void 0)throw new Error(`CodeGen: name "${$}" has no value`);return $.value.code},_,w)}_reduceValues(p,_,w={},$){let x=n.nil;for(const O in p){const C=p[O];if(!C)continue;const A=w[O]=w[O]||new Map;C.forEach(T=>{if(A.has(T))return;A.set(T,o.Started);let B=_(T);if(B){const U=this.opts.es5?t.varKinds.var:t.varKinds.const;x=(0,n._)`${x}${U} ${T} = ${B};${this.opts._n}`}else if(B=$==null?void 0:$(T))x=(0,n._)`${x}${B}${this.opts._n}`;else throw new r(T);A.set(T,o.Completed)})}return x}}t.ValueScope=f})(wa);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const n=Fr,r=wa;var o=Fr;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return o.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return o.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return o.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}});var a=wa;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),t.operators={GT:new n._Code(">"),GTE:new n._Code(">="),LT:new n._Code("<"),LTE:new n._Code("<="),EQ:new n._Code("==="),NEQ:new n._Code("!=="),NOT:new n._Code("!"),OR:new n._Code("||"),AND:new n._Code("&&"),ADD:new n._Code("+")};class c{optimizeNodes(){return this}optimizeNames(y,P){return this}}class u extends c{constructor(y,P,N){super(),this.varKind=y,this.name=P,this.rhs=N}render({es5:y,_n:P}){const N=y?r.varKinds.var:this.varKind,se=this.rhs===void 0?"":` = ${this.rhs}`;return`${N} ${this.name}${se};`+P}optimizeNames(y,P){if(y[this.name.str])return this.rhs&&(this.rhs=be(this.rhs,y,P)),this}get names(){return this.rhs instanceof n._CodeOrName?this.rhs.names:{}}}class f extends c{constructor(y,P,N){super(),this.lhs=y,this.rhs=P,this.sideEffects=N}render({_n:y}){return`${this.lhs} = ${this.rhs};`+y}optimizeNames(y,P){if(!(this.lhs instanceof n.Name&&!y[this.lhs.str]&&!this.sideEffects))return this.rhs=be(this.rhs,y,P),this}get names(){const y=this.lhs instanceof n.Name?{}:{...this.lhs.names};return Se(y,this.rhs)}}class d extends f{constructor(y,P,N,se){super(y,N,se),this.op=P}render({_n:y}){return`${this.lhs} ${this.op}= ${this.rhs};`+y}}class p extends c{constructor(y){super(),this.label=y,this.names={}}render({_n:y}){return`${this.label}:`+y}}class _ extends c{constructor(y){super(),this.label=y,this.names={}}render({_n:y}){return`break${this.label?` ${this.label}`:""};`+y}}class w extends c{constructor(y){super(),this.error=y}render({_n:y}){return`throw ${this.error};`+y}get names(){return this.error.names}}class $ extends c{constructor(y){super(),this.code=y}render({_n:y}){return`${this.code};`+y}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(y,P){return this.code=be(this.code,y,P),this}get names(){return this.code instanceof n._CodeOrName?this.code.names:{}}}class x extends c{constructor(y=[]){super(),this.nodes=y}render(y){return this.nodes.reduce((P,N)=>P+N.render(y),"")}optimizeNodes(){const{nodes:y}=this;let P=y.length;for(;P--;){const N=y[P].optimizeNodes();Array.isArray(N)?y.splice(P,1,...N):N?y[P]=N:y.splice(P,1)}return y.length>0?this:void 0}optimizeNames(y,P){const{nodes:N}=this;let se=N.length;for(;se--;){const ae=N[se];ae.optimizeNames(y,P)||(ot(y,ae.names),N.splice(se,1))}return N.length>0?this:void 0}get names(){return this.nodes.reduce((y,P)=>ne(y,P.names),{})}}class O extends x{render(y){return"{"+y._n+super.render(y)+"}"+y._n}}class C extends x{}class A extends O{}A.kind="else";class T extends O{constructor(y,P){super(P),this.condition=y}render(y){let P=`if(${this.condition})`+super.render(y);return this.else&&(P+="else "+this.else.render(y)),P}optimizeNodes(){super.optimizeNodes();const y=this.condition;if(y===!0)return this.nodes;let P=this.else;if(P){const N=P.optimizeNodes();P=this.else=Array.isArray(N)?new A(N):N}if(P)return y===!1?P instanceof T?P:P.nodes:this.nodes.length?this:new T(ge(y),P instanceof T?[P]:P.nodes);if(!(y===!1||!this.nodes.length))return this}optimizeNames(y,P){var N;if(this.else=(N=this.else)===null||N===void 0?void 0:N.optimizeNames(y,P),!!(super.optimizeNames(y,P)||this.else))return this.condition=be(this.condition,y,P),this}get names(){const y=super.names;return Se(y,this.condition),this.else&&ne(y,this.else.names),y}}T.kind="if";class B extends O{}B.kind="for";class U extends B{constructor(y){super(),this.iteration=y}render(y){return`for(${this.iteration})`+super.render(y)}optimizeNames(y,P){if(super.optimizeNames(y,P))return this.iteration=be(this.iteration,y,P),this}get names(){return ne(super.names,this.iteration.names)}}class J extends B{constructor(y,P,N,se){super(),this.varKind=y,this.name=P,this.from=N,this.to=se}render(y){const P=y.es5?r.varKinds.var:this.varKind,{name:N,from:se,to:ae}=this;return`for(${P} ${N}=${se}; ${N}<${ae}; ${N}++)`+super.render(y)}get names(){const y=Se(super.names,this.from);return Se(y,this.to)}}class Y extends B{constructor(y,P,N,se){super(),this.loop=y,this.varKind=P,this.name=N,this.iterable=se}render(y){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(y)}optimizeNames(y,P){if(super.optimizeNames(y,P))return this.iterable=be(this.iterable,y,P),this}get names(){return ne(super.names,this.iterable.names)}}class ce extends O{constructor(y,P,N){super(),this.name=y,this.args=P,this.async=N}render(y){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(y)}}ce.kind="func";class ye extends x{render(y){return"return "+super.render(y)}}ye.kind="return";class oe extends O{render(y){let P="try"+super.render(y);return this.catch&&(P+=this.catch.render(y)),this.finally&&(P+=this.finally.render(y)),P}optimizeNodes(){var y,P;return super.optimizeNodes(),(y=this.catch)===null||y===void 0||y.optimizeNodes(),(P=this.finally)===null||P===void 0||P.optimizeNodes(),this}optimizeNames(y,P){var N,se;return super.optimizeNames(y,P),(N=this.catch)===null||N===void 0||N.optimizeNames(y,P),(se=this.finally)===null||se===void 0||se.optimizeNames(y,P),this}get names(){const y=super.names;return this.catch&&ne(y,this.catch.names),this.finally&&ne(y,this.finally.names),y}}class he extends O{constructor(y){super(),this.error=y}render(y){return`catch(${this.error})`+super.render(y)}}he.kind="catch";class $e extends O{render(y){return"finally"+super.render(y)}}$e.kind="finally";class we{constructor(y,P={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...P,_n:P.lines?`
`:""},this._extScope=y,this._scope=new r.Scope({parent:y}),this._nodes=[new C]}toString(){return this._root.render(this.opts)}name(y){return this._scope.name(y)}scopeName(y){return this._extScope.name(y)}scopeValue(y,P){const N=this._extScope.value(y,P);return(this._values[N.prefix]||(this._values[N.prefix]=new Set)).add(N),N}getScopeValue(y,P){return this._extScope.getValue(y,P)}scopeRefs(y){return this._extScope.scopeRefs(y,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(y,P,N,se){const ae=this._scope.toName(P);return N!==void 0&&se&&(this._constants[ae.str]=N),this._leafNode(new u(y,ae,N)),ae}const(y,P,N){return this._def(r.varKinds.const,y,P,N)}let(y,P,N){return this._def(r.varKinds.let,y,P,N)}var(y,P,N){return this._def(r.varKinds.var,y,P,N)}assign(y,P,N){return this._leafNode(new f(y,P,N))}add(y,P){return this._leafNode(new d(y,t.operators.ADD,P))}code(y){return typeof y=="function"?y():y!==n.nil&&this._leafNode(new $(y)),this}object(...y){const P=["{"];for(const[N,se]of y)P.length>1&&P.push(","),P.push(N),(N!==se||this.opts.es5)&&(P.push(":"),(0,n.addCodeArg)(P,se));return P.push("}"),new n._Code(P)}if(y,P,N){if(this._blockNode(new T(y)),P&&N)this.code(P).else().code(N).endIf();else if(P)this.code(P).endIf();else if(N)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(y){return this._elseNode(new T(y))}else(){return this._elseNode(new A)}endIf(){return this._endBlockNode(T,A)}_for(y,P){return this._blockNode(y),P&&this.code(P).endFor(),this}for(y,P){return this._for(new U(y),P)}forRange(y,P,N,se,ae=this.opts.es5?r.varKinds.var:r.varKinds.let){const ke=this._scope.toName(y);return this._for(new J(ae,ke,P,N),()=>se(ke))}forOf(y,P,N,se=r.varKinds.const){const ae=this._scope.toName(y);if(this.opts.es5){const ke=P instanceof n.Name?P:this.var("_arr",P);return this.forRange("_i",0,(0,n._)`${ke}.length`,Ce=>{this.var(ae,(0,n._)`${ke}[${Ce}]`),N(ae)})}return this._for(new Y("of",se,ae,P),()=>N(ae))}forIn(y,P,N,se=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(y,(0,n._)`Object.keys(${P})`,N);const ae=this._scope.toName(y);return this._for(new Y("in",se,ae,P),()=>N(ae))}endFor(){return this._endBlockNode(B)}label(y){return this._leafNode(new p(y))}break(y){return this._leafNode(new _(y))}return(y){const P=new ye;if(this._blockNode(P),this.code(y),P.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(ye)}try(y,P,N){if(!P&&!N)throw new Error('CodeGen: "try" without "catch" and "finally"');const se=new oe;if(this._blockNode(se),this.code(y),P){const ae=this.name("e");this._currNode=se.catch=new he(ae),P(ae)}return N&&(this._currNode=se.finally=new $e,this.code(N)),this._endBlockNode(he,$e)}throw(y){return this._leafNode(new w(y))}block(y,P){return this._blockStarts.push(this._nodes.length),y&&this.code(y).endBlock(P),this}endBlock(y){const P=this._blockStarts.pop();if(P===void 0)throw new Error("CodeGen: not in self-balancing block");const N=this._nodes.length-P;if(N<0||y!==void 0&&N!==y)throw new Error(`CodeGen: wrong number of nodes: ${N} vs ${y} expected`);return this._nodes.length=P,this}func(y,P=n.nil,N,se){return this._blockNode(new ce(y,P,N)),se&&this.code(se).endFunc(),this}endFunc(){return this._endBlockNode(ce)}optimize(y=1){for(;y-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(y){return this._currNode.nodes.push(y),this}_blockNode(y){this._currNode.nodes.push(y),this._nodes.push(y)}_endBlockNode(y,P){const N=this._currNode;if(N instanceof y||P&&N instanceof P)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${P?`${y.kind}/${P.kind}`:y.kind}"`)}_elseNode(y){const P=this._currNode;if(!(P instanceof T))throw new Error('CodeGen: "else" without "if"');return this._currNode=P.else=y,this}get _root(){return this._nodes[0]}get _currNode(){const y=this._nodes;return y[y.length-1]}set _currNode(y){const P=this._nodes;P[P.length-1]=y}}t.CodeGen=we;function ne(D,y){for(const P in y)D[P]=(D[P]||0)+(y[P]||0);return D}function Se(D,y){return y instanceof n._CodeOrName?ne(D,y.names):D}function be(D,y,P){if(D instanceof n.Name)return N(D);if(!se(D))return D;return new n._Code(D._items.reduce((ae,ke)=>(ke instanceof n.Name&&(ke=N(ke)),ke instanceof n._Code?ae.push(...ke._items):ae.push(ke),ae),[]));function N(ae){const ke=P[ae.str];return ke===void 0||y[ae.str]!==1?ae:(delete y[ae.str],ke)}function se(ae){return ae instanceof n._Code&&ae._items.some(ke=>ke instanceof n.Name&&y[ke.str]===1&&P[ke.str]!==void 0)}}function ot(D,y){for(const P in y)D[P]=(D[P]||0)-(y[P]||0)}function ge(D){return typeof D=="boolean"||typeof D=="number"||D===null?!D:(0,n._)`!${K(D)}`}t.not=ge;const De=k(t.operators.AND);function le(...D){return D.reduce(De)}t.and=le;const yt=k(t.operators.OR);function q(...D){return D.reduce(yt)}t.or=q;function k(D){return(y,P)=>y===n.nil?P:P===n.nil?y:(0,n._)`${K(y)} ${D} ${K(P)}`}function K(D){return D instanceof n.Name?D:(0,n._)`(${D})`}})(Ze);var fe={};Object.defineProperty(fe,"__esModule",{value:!0});fe.checkStrictMode=fe.getErrorPath=fe.Type=fe.useFunc=fe.setEvaluated=fe.evaluatedPropsToName=fe.mergeEvaluated=fe.eachItem=fe.unescapeJsonPointer=fe.escapeJsonPointer=fe.escapeFragment=fe.unescapeFragment=fe.schemaRefOrVal=fe.schemaHasRulesButRef=fe.schemaHasRules=fe.checkUnknownRules=fe.alwaysValidSchema=fe.toHash=void 0;const it=Ze,d_=Fr;function p_(t){const n={};for(const r of t)n[r]=!0;return n}fe.toHash=p_;function m_(t,n){return typeof n=="boolean"?n:Object.keys(n).length===0?!0:(Wf(t,n),!Gf(n,t.self.RULES.all))}fe.alwaysValidSchema=m_;function Wf(t,n=t.schema){const{opts:r,self:o}=t;if(!r.strictSchema||typeof n=="boolean")return;const a=o.RULES.keywords;for(const c in n)a[c]||Xf(t,`unknown keyword: "${c}"`)}fe.checkUnknownRules=Wf;function Gf(t,n){if(typeof t=="boolean")return!t;for(const r in t)if(n[r])return!0;return!1}fe.schemaHasRules=Gf;function __(t,n){if(typeof t=="boolean")return!t;for(const r in t)if(r!=="$ref"&&n.all[r])return!0;return!1}fe.schemaHasRulesButRef=__;function g_({topSchemaRef:t,schemaPath:n},r,o,a){if(!a){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,it._)`${r}`}return(0,it._)`${t}${n}${(0,it.getProperty)(o)}`}fe.schemaRefOrVal=g_;function v_(t){return Jf(decodeURIComponent(t))}fe.unescapeFragment=v_;function y_(t){return encodeURIComponent(Xa(t))}fe.escapeFragment=y_;function Xa(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}fe.escapeJsonPointer=Xa;function Jf(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}fe.unescapeJsonPointer=Jf;function w_(t,n){if(Array.isArray(t))for(const r of t)n(r);else n(t)}fe.eachItem=w_;function fu({mergeNames:t,mergeToName:n,mergeValues:r,resultToName:o}){return(a,c,u,f)=>{const d=u===void 0?c:u instanceof it.Name?(c instanceof it.Name?t(a,c,u):n(a,c,u),u):c instanceof it.Name?(n(a,u,c),c):r(c,u);return f===it.Name&&!(d instanceof it.Name)?o(a,d):d}}fe.mergeEvaluated={props:fu({mergeNames:(t,n,r)=>t.if((0,it._)`${r} !== true && ${n} !== undefined`,()=>{t.if((0,it._)`${n} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,it._)`${r} || {}`).code((0,it._)`Object.assign(${r}, ${n})`))}),mergeToName:(t,n,r)=>t.if((0,it._)`${r} !== true`,()=>{n===!0?t.assign(r,!0):(t.assign(r,(0,it._)`${r} || {}`),Qa(t,r,n))}),mergeValues:(t,n)=>t===!0?!0:{...t,...n},resultToName:Yf}),items:fu({mergeNames:(t,n,r)=>t.if((0,it._)`${r} !== true && ${n} !== undefined`,()=>t.assign(r,(0,it._)`${n} === true ? true : ${r} > ${n} ? ${r} : ${n}`)),mergeToName:(t,n,r)=>t.if((0,it._)`${r} !== true`,()=>t.assign(r,n===!0?!0:(0,it._)`${r} > ${n} ? ${r} : ${n}`)),mergeValues:(t,n)=>t===!0?!0:Math.max(t,n),resultToName:(t,n)=>t.var("items",n)})};function Yf(t,n){if(n===!0)return t.var("props",!0);const r=t.var("props",(0,it._)`{}`);return n!==void 0&&Qa(t,r,n),r}fe.evaluatedPropsToName=Yf;function Qa(t,n,r){Object.keys(r).forEach(o=>t.assign((0,it._)`${n}${(0,it.getProperty)(o)}`,!0))}fe.setEvaluated=Qa;const hu={};function b_(t,n){return t.scopeValue("func",{ref:n,code:hu[n.code]||(hu[n.code]=new d_._Code(n.code))})}fe.useFunc=b_;var ba;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(ba||(fe.Type=ba={}));function P_(t,n,r){if(t instanceof it.Name){const o=n===ba.Num;return r?o?(0,it._)`"[" + ${t} + "]"`:(0,it._)`"['" + ${t} + "']"`:o?(0,it._)`"/" + ${t}`:(0,it._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,it.getProperty)(t).toString():"/"+Xa(t)}fe.getErrorPath=P_;function Xf(t,n,r=t.opts.strictSchema){if(r){if(n=`strict mode: ${n}`,r===!0)throw new Error(n);t.self.logger.warn(n)}}fe.checkStrictMode=Xf;var kn={};Object.defineProperty(kn,"__esModule",{value:!0});const Rt=Ze,$_={data:new Rt.Name("data"),valCxt:new Rt.Name("valCxt"),instancePath:new Rt.Name("instancePath"),parentData:new Rt.Name("parentData"),parentDataProperty:new Rt.Name("parentDataProperty"),rootData:new Rt.Name("rootData"),dynamicAnchors:new Rt.Name("dynamicAnchors"),vErrors:new Rt.Name("vErrors"),errors:new Rt.Name("errors"),this:new Rt.Name("this"),self:new Rt.Name("self"),scope:new Rt.Name("scope"),json:new Rt.Name("json"),jsonPos:new Rt.Name("jsonPos"),jsonLen:new Rt.Name("jsonLen"),jsonPart:new Rt.Name("jsonPart")};kn.default=$_;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const n=Ze,r=fe,o=kn;t.keywordError={message:({keyword:A})=>(0,n.str)`must pass "${A}" keyword validation`},t.keyword$DataError={message:({keyword:A,schemaType:T})=>T?(0,n.str)`"${A}" keyword must be ${T} ($data)`:(0,n.str)`"${A}" keyword is invalid ($data)`};function a(A,T=t.keywordError,B,U){const{it:J}=A,{gen:Y,compositeRule:ce,allErrors:ye}=J,oe=w(A,T,B);U??(ce||ye)?d(Y,oe):p(J,(0,n._)`[${oe}]`)}t.reportError=a;function c(A,T=t.keywordError,B){const{it:U}=A,{gen:J,compositeRule:Y,allErrors:ce}=U,ye=w(A,T,B);d(J,ye),Y||ce||p(U,o.default.vErrors)}t.reportExtraError=c;function u(A,T){A.assign(o.default.errors,T),A.if((0,n._)`${o.default.vErrors} !== null`,()=>A.if(T,()=>A.assign((0,n._)`${o.default.vErrors}.length`,T),()=>A.assign(o.default.vErrors,null)))}t.resetErrorsCount=u;function f({gen:A,keyword:T,schemaValue:B,data:U,errsCount:J,it:Y}){if(J===void 0)throw new Error("ajv implementation error");const ce=A.name("err");A.forRange("i",J,o.default.errors,ye=>{A.const(ce,(0,n._)`${o.default.vErrors}[${ye}]`),A.if((0,n._)`${ce}.instancePath === undefined`,()=>A.assign((0,n._)`${ce}.instancePath`,(0,n.strConcat)(o.default.instancePath,Y.errorPath))),A.assign((0,n._)`${ce}.schemaPath`,(0,n.str)`${Y.errSchemaPath}/${T}`),Y.opts.verbose&&(A.assign((0,n._)`${ce}.schema`,B),A.assign((0,n._)`${ce}.data`,U))})}t.extendErrors=f;function d(A,T){const B=A.const("err",T);A.if((0,n._)`${o.default.vErrors} === null`,()=>A.assign(o.default.vErrors,(0,n._)`[${B}]`),(0,n._)`${o.default.vErrors}.push(${B})`),A.code((0,n._)`${o.default.errors}++`)}function p(A,T){const{gen:B,validateName:U,schemaEnv:J}=A;J.$async?B.throw((0,n._)`new ${A.ValidationError}(${T})`):(B.assign((0,n._)`${U}.errors`,T),B.return(!1))}const _={keyword:new n.Name("keyword"),schemaPath:new n.Name("schemaPath"),params:new n.Name("params"),propertyName:new n.Name("propertyName"),message:new n.Name("message"),schema:new n.Name("schema"),parentSchema:new n.Name("parentSchema")};function w(A,T,B){const{createErrors:U}=A.it;return U===!1?(0,n._)`{}`:$(A,T,B)}function $(A,T,B={}){const{gen:U,it:J}=A,Y=[x(J,B),O(A,B)];return C(A,T,Y),U.object(...Y)}function x({errorPath:A},{instancePath:T}){const B=T?(0,n.str)`${A}${(0,r.getErrorPath)(T,r.Type.Str)}`:A;return[o.default.instancePath,(0,n.strConcat)(o.default.instancePath,B)]}function O({keyword:A,it:{errSchemaPath:T}},{schemaPath:B,parentSchema:U}){let J=U?T:(0,n.str)`${T}/${A}`;return B&&(J=(0,n.str)`${J}${(0,r.getErrorPath)(B,r.Type.Str)}`),[_.schemaPath,J]}function C(A,{params:T,message:B},U){const{keyword:J,data:Y,schemaValue:ce,it:ye}=A,{opts:oe,propertyName:he,topSchemaRef:$e,schemaPath:we}=ye;U.push([_.keyword,J],[_.params,typeof T=="function"?T(A):T||(0,n._)`{}`]),oe.messages&&U.push([_.message,typeof B=="function"?B(A):B]),oe.verbose&&U.push([_.schema,ce],[_.parentSchema,(0,n._)`${$e}${we}`],[o.default.data,Y]),he&&U.push([_.propertyName,he])}})(Vr);var du;function S_(){if(du)return Pi;du=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.boolOrEmptySchema=Pi.topBoolOrEmptySchema=void 0;const t=Vr,n=Ze,r=kn,o={message:"boolean schema is false"};function a(f){const{gen:d,schema:p,validateName:_}=f;p===!1?u(f,!1):typeof p=="object"&&p.$async===!0?d.return(r.default.data):(d.assign((0,n._)`${_}.errors`,null),d.return(!0))}Pi.topBoolOrEmptySchema=a;function c(f,d){const{gen:p,schema:_}=f;_===!1?(p.var(d,!1),u(f)):p.var(d,!0)}Pi.boolOrEmptySchema=c;function u(f,d){const{gen:p,data:_}=f,w={gen:p,keyword:"false schema",data:_,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:f};(0,t.reportError)(w,o,void 0,d)}return Pi}var wt={},Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.getRules=Ai.isJSONType=void 0;const E_=["string","number","integer","boolean","null","object","array"],T_=new Set(E_);function C_(t){return typeof t=="string"&&T_.has(t)}Ai.isJSONType=C_;function L_(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Ai.getRules=L_;var Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.shouldUseRule=Zn.shouldUseGroup=Zn.schemaHasRulesForType=void 0;function x_({schema:t,self:n},r){const o=n.RULES.types[r];return o&&o!==!0&&Qf(t,o)}Zn.schemaHasRulesForType=x_;function Qf(t,n){return n.rules.some(r=>eh(t,r))}Zn.shouldUseGroup=Qf;function eh(t,n){var r;return t[n.keyword]!==void 0||((r=n.definition.implements)===null||r===void 0?void 0:r.some(o=>t[o]!==void 0))}Zn.shouldUseRule=eh;Object.defineProperty(wt,"__esModule",{value:!0});wt.reportTypeError=wt.checkDataTypes=wt.checkDataType=wt.coerceAndCheckDataType=wt.getJSONTypes=wt.getSchemaTypes=wt.DataType=void 0;const O_=Ai,I_=Zn,k_=Vr,Ne=Ze,th=fe;var er;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(er||(wt.DataType=er={}));function A_(t){const n=nh(t.type);if(n.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!n.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&n.push("null")}return n}wt.getSchemaTypes=A_;function nh(t){const n=Array.isArray(t)?t:t?[t]:[];if(n.every(O_.isJSONType))return n;throw new Error("type must be JSONType or JSONType[]: "+n.join(","))}wt.getJSONTypes=nh;function R_(t,n){const{gen:r,data:o,opts:a}=t,c=M_(n,a.coerceTypes),u=n.length>0&&!(c.length===0&&n.length===1&&(0,I_.schemaHasRulesForType)(t,n[0]));if(u){const f=el(n,o,a.strictNumbers,er.Wrong);r.if(f,()=>{c.length?N_(t,n,c):tl(t)})}return u}wt.coerceAndCheckDataType=R_;const ih=new Set(["string","number","integer","boolean","null"]);function M_(t,n){return n?t.filter(r=>ih.has(r)||n==="array"&&r==="array"):[]}function N_(t,n,r){const{gen:o,data:a,opts:c}=t,u=o.let("dataType",(0,Ne._)`typeof ${a}`),f=o.let("coerced",(0,Ne._)`undefined`);c.coerceTypes==="array"&&o.if((0,Ne._)`${u} == 'object' && Array.isArray(${a}) && ${a}.length == 1`,()=>o.assign(a,(0,Ne._)`${a}[0]`).assign(u,(0,Ne._)`typeof ${a}`).if(el(n,a,c.strictNumbers),()=>o.assign(f,a))),o.if((0,Ne._)`${f} !== undefined`);for(const p of r)(ih.has(p)||p==="array"&&c.coerceTypes==="array")&&d(p);o.else(),tl(t),o.endIf(),o.if((0,Ne._)`${f} !== undefined`,()=>{o.assign(a,f),D_(t,f)});function d(p){switch(p){case"string":o.elseIf((0,Ne._)`${u} == "number" || ${u} == "boolean"`).assign(f,(0,Ne._)`"" + ${a}`).elseIf((0,Ne._)`${a} === null`).assign(f,(0,Ne._)`""`);return;case"number":o.elseIf((0,Ne._)`${u} == "boolean" || ${a} === null
              || (${u} == "string" && ${a} && ${a} == +${a})`).assign(f,(0,Ne._)`+${a}`);return;case"integer":o.elseIf((0,Ne._)`${u} === "boolean" || ${a} === null
              || (${u} === "string" && ${a} && ${a} == +${a} && !(${a} % 1))`).assign(f,(0,Ne._)`+${a}`);return;case"boolean":o.elseIf((0,Ne._)`${a} === "false" || ${a} === 0 || ${a} === null`).assign(f,!1).elseIf((0,Ne._)`${a} === "true" || ${a} === 1`).assign(f,!0);return;case"null":o.elseIf((0,Ne._)`${a} === "" || ${a} === 0 || ${a} === false`),o.assign(f,null);return;case"array":o.elseIf((0,Ne._)`${u} === "string" || ${u} === "number"
              || ${u} === "boolean" || ${a} === null`).assign(f,(0,Ne._)`[${a}]`)}}}function D_({gen:t,parentData:n,parentDataProperty:r},o){t.if((0,Ne._)`${n} !== undefined`,()=>t.assign((0,Ne._)`${n}[${r}]`,o))}function Pa(t,n,r,o=er.Correct){const a=o===er.Correct?Ne.operators.EQ:Ne.operators.NEQ;let c;switch(t){case"null":return(0,Ne._)`${n} ${a} null`;case"array":c=(0,Ne._)`Array.isArray(${n})`;break;case"object":c=(0,Ne._)`${n} && typeof ${n} == "object" && !Array.isArray(${n})`;break;case"integer":c=u((0,Ne._)`!(${n} % 1) && !isNaN(${n})`);break;case"number":c=u();break;default:return(0,Ne._)`typeof ${n} ${a} ${t}`}return o===er.Correct?c:(0,Ne.not)(c);function u(f=Ne.nil){return(0,Ne.and)((0,Ne._)`typeof ${n} == "number"`,f,r?(0,Ne._)`isFinite(${n})`:Ne.nil)}}wt.checkDataType=Pa;function el(t,n,r,o){if(t.length===1)return Pa(t[0],n,r,o);let a;const c=(0,th.toHash)(t);if(c.array&&c.object){const u=(0,Ne._)`typeof ${n} != "object"`;a=c.null?u:(0,Ne._)`!${n} || ${u}`,delete c.null,delete c.array,delete c.object}else a=Ne.nil;c.number&&delete c.integer;for(const u in c)a=(0,Ne.and)(a,Pa(u,n,r,o));return a}wt.checkDataTypes=el;const z_={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:n})=>typeof t=="string"?(0,Ne._)`{type: ${t}}`:(0,Ne._)`{type: ${n}}`};function tl(t){const n=j_(t);(0,k_.reportError)(n,z_)}wt.reportTypeError=tl;function j_(t){const{gen:n,data:r,schema:o}=t,a=(0,th.schemaRefOrVal)(t,o,"type");return{gen:n,keyword:"type",data:r,schema:o.type,schemaCode:a,schemaValue:a,parentSchema:o,params:{},it:t}}var wr={},pu;function B_(){if(pu)return wr;pu=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.assignDefaults=void 0;const t=Ze,n=fe;function r(a,c){const{properties:u,items:f}=a.schema;if(c==="object"&&u)for(const d in u)o(a,d,u[d].default);else c==="array"&&Array.isArray(f)&&f.forEach((d,p)=>o(a,p,d.default))}wr.assignDefaults=r;function o(a,c,u){const{gen:f,compositeRule:d,data:p,opts:_}=a;if(u===void 0)return;const w=(0,t._)`${p}${(0,t.getProperty)(c)}`;if(d){(0,n.checkStrictMode)(a,`default is ignored for: ${w}`);return}let $=(0,t._)`${w} === undefined`;_.useDefaults==="empty"&&($=(0,t._)`${$} || ${w} === null || ${w} === ""`),f.if($,(0,t._)`${w} = ${(0,t.stringify)(u)}`)}return wr}var mn={},Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.validateUnion=Fe.validateArray=Fe.usePattern=Fe.callValidateCode=Fe.schemaProperties=Fe.allSchemaProperties=Fe.noPropertyInData=Fe.propertyInData=Fe.isOwnProperty=Fe.hasPropFunc=Fe.reportMissingProp=Fe.checkMissingProp=Fe.checkReportMissingProp=void 0;const lt=Ze,nl=fe,Yn=kn,F_=fe;function Z_(t,n){const{gen:r,data:o,it:a}=t;r.if(rl(r,o,n,a.opts.ownProperties),()=>{t.setParams({missingProperty:(0,lt._)`${n}`},!0),t.error()})}Fe.checkReportMissingProp=Z_;function V_({gen:t,data:n,it:{opts:r}},o,a){return(0,lt.or)(...o.map(c=>(0,lt.and)(rl(t,n,c,r.ownProperties),(0,lt._)`${a} = ${c}`)))}Fe.checkMissingProp=V_;function H_(t,n){t.setParams({missingProperty:n},!0),t.error()}Fe.reportMissingProp=H_;function rh(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,lt._)`Object.prototype.hasOwnProperty`})}Fe.hasPropFunc=rh;function il(t,n,r){return(0,lt._)`${rh(t)}.call(${n}, ${r})`}Fe.isOwnProperty=il;function U_(t,n,r,o){const a=(0,lt._)`${n}${(0,lt.getProperty)(r)} !== undefined`;return o?(0,lt._)`${a} && ${il(t,n,r)}`:a}Fe.propertyInData=U_;function rl(t,n,r,o){const a=(0,lt._)`${n}${(0,lt.getProperty)(r)} === undefined`;return o?(0,lt.or)(a,(0,lt.not)(il(t,n,r))):a}Fe.noPropertyInData=rl;function sh(t){return t?Object.keys(t).filter(n=>n!=="__proto__"):[]}Fe.allSchemaProperties=sh;function q_(t,n){return sh(n).filter(r=>!(0,nl.alwaysValidSchema)(t,n[r]))}Fe.schemaProperties=q_;function K_({schemaCode:t,data:n,it:{gen:r,topSchemaRef:o,schemaPath:a,errorPath:c},it:u},f,d,p){const _=p?(0,lt._)`${t}, ${n}, ${o}${a}`:n,w=[[Yn.default.instancePath,(0,lt.strConcat)(Yn.default.instancePath,c)],[Yn.default.parentData,u.parentData],[Yn.default.parentDataProperty,u.parentDataProperty],[Yn.default.rootData,Yn.default.rootData]];u.opts.dynamicRef&&w.push([Yn.default.dynamicAnchors,Yn.default.dynamicAnchors]);const $=(0,lt._)`${_}, ${r.object(...w)}`;return d!==lt.nil?(0,lt._)`${f}.call(${d}, ${$})`:(0,lt._)`${f}(${$})`}Fe.callValidateCode=K_;const W_=(0,lt._)`new RegExp`;function G_({gen:t,it:{opts:n}},r){const o=n.unicodeRegExp?"u":"",{regExp:a}=n.code,c=a(r,o);return t.scopeValue("pattern",{key:c.toString(),ref:c,code:(0,lt._)`${a.code==="new RegExp"?W_:(0,F_.useFunc)(t,a)}(${r}, ${o})`})}Fe.usePattern=G_;function J_(t){const{gen:n,data:r,keyword:o,it:a}=t,c=n.name("valid");if(a.allErrors){const f=n.let("valid",!0);return u(()=>n.assign(f,!1)),f}return n.var(c,!0),u(()=>n.break()),c;function u(f){const d=n.const("len",(0,lt._)`${r}.length`);n.forRange("i",0,d,p=>{t.subschema({keyword:o,dataProp:p,dataPropType:nl.Type.Num},c),n.if((0,lt.not)(c),f)})}}Fe.validateArray=J_;function Y_(t){const{gen:n,schema:r,keyword:o,it:a}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(d=>(0,nl.alwaysValidSchema)(a,d))&&!a.opts.unevaluated)return;const u=n.let("valid",!1),f=n.name("_valid");n.block(()=>r.forEach((d,p)=>{const _=t.subschema({keyword:o,schemaProp:p,compositeRule:!0},f);n.assign(u,(0,lt._)`${u} || ${f}`),t.mergeValidEvaluated(_,f)||n.if((0,lt.not)(u))})),t.result(u,()=>t.reset(),()=>t.error(!0))}Fe.validateUnion=Y_;var mu;function X_(){if(mu)return mn;mu=1,Object.defineProperty(mn,"__esModule",{value:!0}),mn.validateKeywordUsage=mn.validSchemaType=mn.funcKeywordCode=mn.macroKeywordCode=void 0;const t=Ze,n=kn,r=Fe,o=Vr;function a($,x){const{gen:O,keyword:C,schema:A,parentSchema:T,it:B}=$,U=x.macro.call(B.self,A,T,B),J=p(O,C,U);B.opts.validateSchema!==!1&&B.self.validateSchema(U,!0);const Y=O.name("valid");$.subschema({schema:U,schemaPath:t.nil,errSchemaPath:`${B.errSchemaPath}/${C}`,topSchemaRef:J,compositeRule:!0},Y),$.pass(Y,()=>$.error(!0))}mn.macroKeywordCode=a;function c($,x){var O;const{gen:C,keyword:A,schema:T,parentSchema:B,$data:U,it:J}=$;d(J,x);const Y=!U&&x.compile?x.compile.call(J.self,T,B,J):x.validate,ce=p(C,A,Y),ye=C.let("valid");$.block$data(ye,oe),$.ok((O=x.valid)!==null&&O!==void 0?O:ye);function oe(){if(x.errors===!1)we(),x.modifying&&u($),ne(()=>$.error());else{const Se=x.async?he():$e();x.modifying&&u($),ne(()=>f($,Se))}}function he(){const Se=C.let("ruleErrs",null);return C.try(()=>we((0,t._)`await `),be=>C.assign(ye,!1).if((0,t._)`${be} instanceof ${J.ValidationError}`,()=>C.assign(Se,(0,t._)`${be}.errors`),()=>C.throw(be))),Se}function $e(){const Se=(0,t._)`${ce}.errors`;return C.assign(Se,null),we(t.nil),Se}function we(Se=x.async?(0,t._)`await `:t.nil){const be=J.opts.passContext?n.default.this:n.default.self,ot=!("compile"in x&&!U||x.schema===!1);C.assign(ye,(0,t._)`${Se}${(0,r.callValidateCode)($,ce,be,ot)}`,x.modifying)}function ne(Se){var be;C.if((0,t.not)((be=x.valid)!==null&&be!==void 0?be:ye),Se)}}mn.funcKeywordCode=c;function u($){const{gen:x,data:O,it:C}=$;x.if(C.parentData,()=>x.assign(O,(0,t._)`${C.parentData}[${C.parentDataProperty}]`))}function f($,x){const{gen:O}=$;O.if((0,t._)`Array.isArray(${x})`,()=>{O.assign(n.default.vErrors,(0,t._)`${n.default.vErrors} === null ? ${x} : ${n.default.vErrors}.concat(${x})`).assign(n.default.errors,(0,t._)`${n.default.vErrors}.length`),(0,o.extendErrors)($)},()=>$.error())}function d({schemaEnv:$},x){if(x.async&&!$.$async)throw new Error("async keyword in sync schema")}function p($,x,O){if(O===void 0)throw new Error(`keyword "${x}" failed to compile`);return $.scopeValue("keyword",typeof O=="function"?{ref:O}:{ref:O,code:(0,t.stringify)(O)})}function _($,x,O=!1){return!x.length||x.some(C=>C==="array"?Array.isArray($):C==="object"?$&&typeof $=="object"&&!Array.isArray($):typeof $==C||O&&typeof $>"u")}mn.validSchemaType=_;function w({schema:$,opts:x,self:O,errSchemaPath:C},A,T){if(Array.isArray(A.keyword)?!A.keyword.includes(T):A.keyword!==T)throw new Error("ajv implementation error");const B=A.dependencies;if(B!=null&&B.some(U=>!Object.prototype.hasOwnProperty.call($,U)))throw new Error(`parent schema must have dependencies of ${T}: ${B.join(",")}`);if(A.validateSchema&&!A.validateSchema($[T])){const J=`keyword "${T}" value is invalid at path "${C}": `+O.errorsText(A.validateSchema.errors);if(x.validateSchema==="log")O.logger.error(J);else throw new Error(J)}}return mn.validateKeywordUsage=w,mn}var Bn={},_u;function Q_(){if(_u)return Bn;_u=1,Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.extendSubschemaMode=Bn.extendSubschemaData=Bn.getSubschema=void 0;const t=Ze,n=fe;function r(c,{keyword:u,schemaProp:f,schema:d,schemaPath:p,errSchemaPath:_,topSchemaRef:w}){if(u!==void 0&&d!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(u!==void 0){const $=c.schema[u];return f===void 0?{schema:$,schemaPath:(0,t._)`${c.schemaPath}${(0,t.getProperty)(u)}`,errSchemaPath:`${c.errSchemaPath}/${u}`}:{schema:$[f],schemaPath:(0,t._)`${c.schemaPath}${(0,t.getProperty)(u)}${(0,t.getProperty)(f)}`,errSchemaPath:`${c.errSchemaPath}/${u}/${(0,n.escapeFragment)(f)}`}}if(d!==void 0){if(p===void 0||_===void 0||w===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:d,schemaPath:p,topSchemaRef:w,errSchemaPath:_}}throw new Error('either "keyword" or "schema" must be passed')}Bn.getSubschema=r;function o(c,u,{dataProp:f,dataPropType:d,data:p,dataTypes:_,propertyName:w}){if(p!==void 0&&f!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:$}=u;if(f!==void 0){const{errorPath:O,dataPathArr:C,opts:A}=u,T=$.let("data",(0,t._)`${u.data}${(0,t.getProperty)(f)}`,!0);x(T),c.errorPath=(0,t.str)`${O}${(0,n.getErrorPath)(f,d,A.jsPropertySyntax)}`,c.parentDataProperty=(0,t._)`${f}`,c.dataPathArr=[...C,c.parentDataProperty]}if(p!==void 0){const O=p instanceof t.Name?p:$.let("data",p,!0);x(O),w!==void 0&&(c.propertyName=w)}_&&(c.dataTypes=_);function x(O){c.data=O,c.dataLevel=u.dataLevel+1,c.dataTypes=[],u.definedProperties=new Set,c.parentData=u.data,c.dataNames=[...u.dataNames,O]}}Bn.extendSubschemaData=o;function a(c,{jtdDiscriminator:u,jtdMetadata:f,compositeRule:d,createErrors:p,allErrors:_}){d!==void 0&&(c.compositeRule=d),p!==void 0&&(c.createErrors=p),_!==void 0&&(c.allErrors=_),c.jtdDiscriminator=u,c.jtdMetadata=f}return Bn.extendSubschemaMode=a,Bn}var Ot={},oh=function t(n,r){if(n===r)return!0;if(n&&r&&typeof n=="object"&&typeof r=="object"){if(n.constructor!==r.constructor)return!1;var o,a,c;if(Array.isArray(n)){if(o=n.length,o!=r.length)return!1;for(a=o;a--!==0;)if(!t(n[a],r[a]))return!1;return!0}if(n.constructor===RegExp)return n.source===r.source&&n.flags===r.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===r.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===r.toString();if(c=Object.keys(n),o=c.length,o!==Object.keys(r).length)return!1;for(a=o;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,c[a]))return!1;for(a=o;a--!==0;){var u=c[a];if(!t(n[u],r[u]))return!1}return!0}return n!==n&&r!==r},ah={exports:{}},ri=ah.exports=function(t,n,r){typeof n=="function"&&(r=n,n={}),r=n.cb||r;var o=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};Is(n,o,a,t,"",t)};ri.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};ri.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};ri.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};ri.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Is(t,n,r,o,a,c,u,f,d,p){if(o&&typeof o=="object"&&!Array.isArray(o)){n(o,a,c,u,f,d,p);for(var _ in o){var w=o[_];if(Array.isArray(w)){if(_ in ri.arrayKeywords)for(var $=0;$<w.length;$++)Is(t,n,r,w[$],a+"/"+_+"/"+$,c,a,_,o,$)}else if(_ in ri.propsKeywords){if(w&&typeof w=="object")for(var x in w)Is(t,n,r,w[x],a+"/"+_+"/"+eg(x),c,a,_,o,x)}else(_ in ri.keywords||t.allKeys&&!(_ in ri.skipKeywords))&&Is(t,n,r,w,a+"/"+_,c,a,_,o)}r(o,a,c,u,f,d,p)}}function eg(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var tg=ah.exports;Object.defineProperty(Ot,"__esModule",{value:!0});Ot.getSchemaRefs=Ot.resolveUrl=Ot.normalizeId=Ot._getFullPath=Ot.getFullPath=Ot.inlineRef=void 0;const ng=fe,ig=oh,rg=tg,sg=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function og(t,n=!0){return typeof t=="boolean"?!0:n===!0?!$a(t):n?lh(t)<=n:!1}Ot.inlineRef=og;const ag=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function $a(t){for(const n in t){if(ag.has(n))return!0;const r=t[n];if(Array.isArray(r)&&r.some($a)||typeof r=="object"&&$a(r))return!0}return!1}function lh(t){let n=0;for(const r in t){if(r==="$ref")return 1/0;if(n++,!sg.has(r)&&(typeof t[r]=="object"&&(0,ng.eachItem)(t[r],o=>n+=lh(o)),n===1/0))return 1/0}return n}function ch(t,n="",r){r!==!1&&(n=tr(n));const o=t.parse(n);return uh(t,o)}Ot.getFullPath=ch;function uh(t,n){return t.serialize(n).split("#")[0]+"#"}Ot._getFullPath=uh;const lg=/#\/?$/;function tr(t){return t?t.replace(lg,""):""}Ot.normalizeId=tr;function cg(t,n,r){return r=tr(r),t.resolve(n,r)}Ot.resolveUrl=cg;const ug=/^[a-z_][-a-z0-9._]*$/i;function fg(t,n){if(typeof t=="boolean")return{};const{schemaId:r,uriResolver:o}=this.opts,a=tr(t[r]||n),c={"":a},u=ch(o,a,!1),f={},d=new Set;return rg(t,{allKeys:!0},(w,$,x,O)=>{if(O===void 0)return;const C=u+$;let A=c[O];typeof w[r]=="string"&&(A=T.call(this,w[r])),B.call(this,w.$anchor),B.call(this,w.$dynamicAnchor),c[$]=A;function T(U){const J=this.opts.uriResolver.resolve;if(U=tr(A?J(A,U):U),d.has(U))throw _(U);d.add(U);let Y=this.refs[U];return typeof Y=="string"&&(Y=this.refs[Y]),typeof Y=="object"?p(w,Y.schema,U):U!==tr(C)&&(U[0]==="#"?(p(w,f[U],U),f[U]=w):this.refs[U]=C),U}function B(U){if(typeof U=="string"){if(!ug.test(U))throw new Error(`invalid anchor "${U}"`);T.call(this,`#${U}`)}}}),f;function p(w,$,x){if($!==void 0&&!ig(w,$))throw _(x)}function _(w){return new Error(`reference "${w}" resolves to more than one schema`)}}Ot.getSchemaRefs=fg;var gu;function oo(){if(gu)return jn;gu=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.getData=jn.KeywordCxt=jn.validateFunctionCode=void 0;const t=S_(),n=wt,r=Zn,o=wt,a=B_(),c=X_(),u=Q_(),f=Ze,d=kn,p=Ot,_=fe,w=Vr;function $(M){if(Y(M)&&(ye(M),J(M))){A(M);return}x(M,()=>(0,t.topBoolOrEmptySchema)(M))}jn.validateFunctionCode=$;function x({gen:M,validateName:z,schema:g,schemaEnv:b,opts:R},F){R.code.es5?M.func(z,(0,f._)`${d.default.data}, ${d.default.valCxt}`,b.$async,()=>{M.code((0,f._)`"use strict"; ${B(g,R)}`),C(M,R),M.code(F)}):M.func(z,(0,f._)`${d.default.data}, ${O(R)}`,b.$async,()=>M.code(B(g,R)).code(F))}function O(M){return(0,f._)`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${M.dynamicRef?(0,f._)`, ${d.default.dynamicAnchors}={}`:f.nil}}={}`}function C(M,z){M.if(d.default.valCxt,()=>{M.var(d.default.instancePath,(0,f._)`${d.default.valCxt}.${d.default.instancePath}`),M.var(d.default.parentData,(0,f._)`${d.default.valCxt}.${d.default.parentData}`),M.var(d.default.parentDataProperty,(0,f._)`${d.default.valCxt}.${d.default.parentDataProperty}`),M.var(d.default.rootData,(0,f._)`${d.default.valCxt}.${d.default.rootData}`),z.dynamicRef&&M.var(d.default.dynamicAnchors,(0,f._)`${d.default.valCxt}.${d.default.dynamicAnchors}`)},()=>{M.var(d.default.instancePath,(0,f._)`""`),M.var(d.default.parentData,(0,f._)`undefined`),M.var(d.default.parentDataProperty,(0,f._)`undefined`),M.var(d.default.rootData,d.default.data),z.dynamicRef&&M.var(d.default.dynamicAnchors,(0,f._)`{}`)})}function A(M){const{schema:z,opts:g,gen:b}=M;x(M,()=>{g.$comment&&z.$comment&&Se(M),$e(M),b.let(d.default.vErrors,null),b.let(d.default.errors,0),g.unevaluated&&T(M),oe(M),be(M)})}function T(M){const{gen:z,validateName:g}=M;M.evaluated=z.const("evaluated",(0,f._)`${g}.evaluated`),z.if((0,f._)`${M.evaluated}.dynamicProps`,()=>z.assign((0,f._)`${M.evaluated}.props`,(0,f._)`undefined`)),z.if((0,f._)`${M.evaluated}.dynamicItems`,()=>z.assign((0,f._)`${M.evaluated}.items`,(0,f._)`undefined`))}function B(M,z){const g=typeof M=="object"&&M[z.schemaId];return g&&(z.code.source||z.code.process)?(0,f._)`/*# sourceURL=${g} */`:f.nil}function U(M,z){if(Y(M)&&(ye(M),J(M))){ce(M,z);return}(0,t.boolOrEmptySchema)(M,z)}function J({schema:M,self:z}){if(typeof M=="boolean")return!M;for(const g in M)if(z.RULES.all[g])return!0;return!1}function Y(M){return typeof M.schema!="boolean"}function ce(M,z){const{schema:g,gen:b,opts:R}=M;R.$comment&&g.$comment&&Se(M),we(M),ne(M);const F=b.const("_errs",d.default.errors);oe(M,F),b.var(z,(0,f._)`${F} === ${d.default.errors}`)}function ye(M){(0,_.checkUnknownRules)(M),he(M)}function oe(M,z){if(M.opts.jtd)return ge(M,[],!1,z);const g=(0,n.getSchemaTypes)(M.schema),b=(0,n.coerceAndCheckDataType)(M,g);ge(M,g,!b,z)}function he(M){const{schema:z,errSchemaPath:g,opts:b,self:R}=M;z.$ref&&b.ignoreKeywordsWithRef&&(0,_.schemaHasRulesButRef)(z,R.RULES)&&R.logger.warn(`$ref: keywords ignored in schema at path "${g}"`)}function $e(M){const{schema:z,opts:g}=M;z.default!==void 0&&g.useDefaults&&g.strictSchema&&(0,_.checkStrictMode)(M,"default is ignored in the schema root")}function we(M){const z=M.schema[M.opts.schemaId];z&&(M.baseId=(0,p.resolveUrl)(M.opts.uriResolver,M.baseId,z))}function ne(M){if(M.schema.$async&&!M.schemaEnv.$async)throw new Error("async schema in sync schema")}function Se({gen:M,schemaEnv:z,schema:g,errSchemaPath:b,opts:R}){const F=g.$comment;if(R.$comment===!0)M.code((0,f._)`${d.default.self}.logger.log(${F})`);else if(typeof R.$comment=="function"){const W=(0,f.str)`${b}/$comment`,ee=M.scopeValue("root",{ref:z.root});M.code((0,f._)`${d.default.self}.opts.$comment(${F}, ${W}, ${ee}.schema)`)}}function be(M){const{gen:z,schemaEnv:g,validateName:b,ValidationError:R,opts:F}=M;g.$async?z.if((0,f._)`${d.default.errors} === 0`,()=>z.return(d.default.data),()=>z.throw((0,f._)`new ${R}(${d.default.vErrors})`)):(z.assign((0,f._)`${b}.errors`,d.default.vErrors),F.unevaluated&&ot(M),z.return((0,f._)`${d.default.errors} === 0`))}function ot({gen:M,evaluated:z,props:g,items:b}){g instanceof f.Name&&M.assign((0,f._)`${z}.props`,g),b instanceof f.Name&&M.assign((0,f._)`${z}.items`,b)}function ge(M,z,g,b){const{gen:R,schema:F,data:W,allErrors:ee,opts:re,self:X}=M,{RULES:te}=X;if(F.$ref&&(re.ignoreKeywordsWithRef||!(0,_.schemaHasRulesButRef)(F,te))){R.block(()=>se(M,"$ref",te.all.$ref.definition));return}re.jtd||le(M,z),R.block(()=>{for(const ie of te.rules)G(ie);G(te.post)});function G(ie){(0,r.shouldUseGroup)(F,ie)&&(ie.type?(R.if((0,o.checkDataType)(ie.type,W,re.strictNumbers)),De(M,ie),z.length===1&&z[0]===ie.type&&g&&(R.else(),(0,o.reportTypeError)(M)),R.endIf()):De(M,ie),ee||R.if((0,f._)`${d.default.errors} === ${b||0}`))}}function De(M,z){const{gen:g,schema:b,opts:{useDefaults:R}}=M;R&&(0,a.assignDefaults)(M,z.type),g.block(()=>{for(const F of z.rules)(0,r.shouldUseRule)(b,F)&&se(M,F.keyword,F.definition,z.type)})}function le(M,z){M.schemaEnv.meta||!M.opts.strictTypes||(yt(M,z),M.opts.allowUnionTypes||q(M,z),k(M,M.dataTypes))}function yt(M,z){if(z.length){if(!M.dataTypes.length){M.dataTypes=z;return}z.forEach(g=>{D(M.dataTypes,g)||P(M,`type "${g}" not allowed by context "${M.dataTypes.join(",")}"`)}),y(M,z)}}function q(M,z){z.length>1&&!(z.length===2&&z.includes("null"))&&P(M,"use allowUnionTypes to allow union type keyword")}function k(M,z){const g=M.self.RULES.all;for(const b in g){const R=g[b];if(typeof R=="object"&&(0,r.shouldUseRule)(M.schema,R)){const{type:F}=R.definition;F.length&&!F.some(W=>K(z,W))&&P(M,`missing type "${F.join(",")}" for keyword "${b}"`)}}}function K(M,z){return M.includes(z)||z==="number"&&M.includes("integer")}function D(M,z){return M.includes(z)||z==="integer"&&M.includes("number")}function y(M,z){const g=[];for(const b of M.dataTypes)D(z,b)?g.push(b):z.includes("integer")&&b==="number"&&g.push("integer");M.dataTypes=g}function P(M,z){const g=M.schemaEnv.baseId+M.errSchemaPath;z+=` at "${g}" (strictTypes)`,(0,_.checkStrictMode)(M,z,M.opts.strictTypes)}class N{constructor(z,g,b){if((0,c.validateKeywordUsage)(z,g,b),this.gen=z.gen,this.allErrors=z.allErrors,this.keyword=b,this.data=z.data,this.schema=z.schema[b],this.$data=g.$data&&z.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,_.schemaRefOrVal)(z,this.schema,b,this.$data),this.schemaType=g.schemaType,this.parentSchema=z.schema,this.params={},this.it=z,this.def=g,this.$data)this.schemaCode=z.gen.const("vSchema",Ce(this.$data,z));else if(this.schemaCode=this.schemaValue,!(0,c.validSchemaType)(this.schema,g.schemaType,g.allowUndefined))throw new Error(`${b} value must be ${JSON.stringify(g.schemaType)}`);("code"in g?g.trackErrors:g.errors!==!1)&&(this.errsCount=z.gen.const("_errs",d.default.errors))}result(z,g,b){this.failResult((0,f.not)(z),g,b)}failResult(z,g,b){this.gen.if(z),b?b():this.error(),g?(this.gen.else(),g(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(z,g){this.failResult((0,f.not)(z),void 0,g)}fail(z){if(z===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(z),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(z){if(!this.$data)return this.fail(z);const{schemaCode:g}=this;this.fail((0,f._)`${g} !== undefined && (${(0,f.or)(this.invalid$data(),z)})`)}error(z,g,b){if(g){this.setParams(g),this._error(z,b),this.setParams({});return}this._error(z,b)}_error(z,g){(z?w.reportExtraError:w.reportError)(this,this.def.error,g)}$dataError(){(0,w.reportError)(this,this.def.$dataError||w.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,w.resetErrorsCount)(this.gen,this.errsCount)}ok(z){this.allErrors||this.gen.if(z)}setParams(z,g){g?Object.assign(this.params,z):this.params=z}block$data(z,g,b=f.nil){this.gen.block(()=>{this.check$data(z,b),g()})}check$data(z=f.nil,g=f.nil){if(!this.$data)return;const{gen:b,schemaCode:R,schemaType:F,def:W}=this;b.if((0,f.or)((0,f._)`${R} === undefined`,g)),z!==f.nil&&b.assign(z,!0),(F.length||W.validateSchema)&&(b.elseIf(this.invalid$data()),this.$dataError(),z!==f.nil&&b.assign(z,!1)),b.else()}invalid$data(){const{gen:z,schemaCode:g,schemaType:b,def:R,it:F}=this;return(0,f.or)(W(),ee());function W(){if(b.length){if(!(g instanceof f.Name))throw new Error("ajv implementation error");const re=Array.isArray(b)?b:[b];return(0,f._)`${(0,o.checkDataTypes)(re,g,F.opts.strictNumbers,o.DataType.Wrong)}`}return f.nil}function ee(){if(R.validateSchema){const re=z.scopeValue("validate$data",{ref:R.validateSchema});return(0,f._)`!${re}(${g})`}return f.nil}}subschema(z,g){const b=(0,u.getSubschema)(this.it,z);(0,u.extendSubschemaData)(b,this.it,z),(0,u.extendSubschemaMode)(b,z);const R={...this.it,...b,items:void 0,props:void 0};return U(R,g),R}mergeEvaluated(z,g){const{it:b,gen:R}=this;b.opts.unevaluated&&(b.props!==!0&&z.props!==void 0&&(b.props=_.mergeEvaluated.props(R,z.props,b.props,g)),b.items!==!0&&z.items!==void 0&&(b.items=_.mergeEvaluated.items(R,z.items,b.items,g)))}mergeValidEvaluated(z,g){const{it:b,gen:R}=this;if(b.opts.unevaluated&&(b.props!==!0||b.items!==!0))return R.if(g,()=>this.mergeEvaluated(z,f.Name)),!0}}jn.KeywordCxt=N;function se(M,z,g,b){const R=new N(M,g,z);"code"in g?g.code(R,b):R.$data&&g.validate?(0,c.funcKeywordCode)(R,g):"macro"in g?(0,c.macroKeywordCode)(R,g):(g.compile||g.validate)&&(0,c.funcKeywordCode)(R,g)}const ae=/^\/(?:[^~]|~0|~1)*$/,ke=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ce(M,{dataLevel:z,dataNames:g,dataPathArr:b}){let R,F;if(M==="")return d.default.rootData;if(M[0]==="/"){if(!ae.test(M))throw new Error(`Invalid JSON-pointer: ${M}`);R=M,F=d.default.rootData}else{const X=ke.exec(M);if(!X)throw new Error(`Invalid JSON-pointer: ${M}`);const te=+X[1];if(R=X[2],R==="#"){if(te>=z)throw new Error(re("property/index",te));return b[z-te]}if(te>z)throw new Error(re("data",te));if(F=g[z-te],!R)return F}let W=F;const ee=R.split("/");for(const X of ee)X&&(F=(0,f._)`${F}${(0,f.getProperty)((0,_.unescapeJsonPointer)(X))}`,W=(0,f._)`${W} && ${F}`);return W;function re(X,te){return`Cannot access ${X} ${te} levels up, current level is ${z}`}}return jn.getData=Ce,jn}var bs={},vu;function sl(){if(vu)return bs;vu=1,Object.defineProperty(bs,"__esModule",{value:!0});class t extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return bs.default=t,bs}var sr={};Object.defineProperty(sr,"__esModule",{value:!0});const Xo=Ot;class hg extends Error{constructor(n,r,o,a){super(a||`can't resolve reference ${o} from id ${r}`),this.missingRef=(0,Xo.resolveUrl)(n,r,o),this.missingSchema=(0,Xo.normalizeId)((0,Xo.getFullPath)(n,this.missingRef))}}sr.default=hg;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.resolveSchema=Vt.getCompilingSchema=Vt.resolveRef=Vt.compileSchema=Vt.SchemaEnv=void 0;const _n=Ze,dg=sl(),$i=kn,yn=Ot,yu=fe,pg=oo();class ao{constructor(n){var r;this.refs={},this.dynamicAnchors={};let o;typeof n.schema=="object"&&(o=n.schema),this.schema=n.schema,this.schemaId=n.schemaId,this.root=n.root||this,this.baseId=(r=n.baseId)!==null&&r!==void 0?r:(0,yn.normalizeId)(o==null?void 0:o[n.schemaId||"$id"]),this.schemaPath=n.schemaPath,this.localRefs=n.localRefs,this.meta=n.meta,this.$async=o==null?void 0:o.$async,this.refs={}}}Vt.SchemaEnv=ao;function ol(t){const n=fh.call(this,t);if(n)return n;const r=(0,yn.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:o,lines:a}=this.opts.code,{ownProperties:c}=this.opts,u=new _n.CodeGen(this.scope,{es5:o,lines:a,ownProperties:c});let f;t.$async&&(f=u.scopeValue("Error",{ref:dg.default,code:(0,_n._)`require("ajv/dist/runtime/validation_error").default`}));const d=u.scopeName("validate");t.validateName=d;const p={gen:u,allErrors:this.opts.allErrors,data:$i.default.data,parentData:$i.default.parentData,parentDataProperty:$i.default.parentDataProperty,dataNames:[$i.default.data],dataPathArr:[_n.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:u.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,_n.stringify)(t.schema)}:{ref:t.schema}),validateName:d,ValidationError:f,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:_n.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,_n._)`""`,opts:this.opts,self:this};let _;try{this._compilations.add(t),(0,pg.validateFunctionCode)(p),u.optimize(this.opts.code.optimize);const w=u.toString();_=`${u.scopeRefs($i.default.scope)}return ${w}`,this.opts.code.process&&(_=this.opts.code.process(_,t));const x=new Function(`${$i.default.self}`,`${$i.default.scope}`,_)(this,this.scope.get());if(this.scope.value(d,{ref:x}),x.errors=null,x.schema=t.schema,x.schemaEnv=t,t.$async&&(x.$async=!0),this.opts.code.source===!0&&(x.source={validateName:d,validateCode:w,scopeValues:u._values}),this.opts.unevaluated){const{props:O,items:C}=p;x.evaluated={props:O instanceof _n.Name?void 0:O,items:C instanceof _n.Name?void 0:C,dynamicProps:O instanceof _n.Name,dynamicItems:C instanceof _n.Name},x.source&&(x.source.evaluated=(0,_n.stringify)(x.evaluated))}return t.validate=x,t}catch(w){throw delete t.validate,delete t.validateName,_&&this.logger.error("Error compiling schema, function code:",_),w}finally{this._compilations.delete(t)}}Vt.compileSchema=ol;function mg(t,n,r){var o;r=(0,yn.resolveUrl)(this.opts.uriResolver,n,r);const a=t.refs[r];if(a)return a;let c=vg.call(this,t,r);if(c===void 0){const u=(o=t.localRefs)===null||o===void 0?void 0:o[r],{schemaId:f}=this.opts;u&&(c=new ao({schema:u,schemaId:f,root:t,baseId:n}))}if(c!==void 0)return t.refs[r]=_g.call(this,c)}Vt.resolveRef=mg;function _g(t){return(0,yn.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:ol.call(this,t)}function fh(t){for(const n of this._compilations)if(gg(n,t))return n}Vt.getCompilingSchema=fh;function gg(t,n){return t.schema===n.schema&&t.root===n.root&&t.baseId===n.baseId}function vg(t,n){let r;for(;typeof(r=this.refs[n])=="string";)n=r;return r||this.schemas[n]||lo.call(this,t,n)}function lo(t,n){const r=this.opts.uriResolver.parse(n),o=(0,yn._getFullPath)(this.opts.uriResolver,r);let a=(0,yn.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&o===a)return Qo.call(this,r,t);const c=(0,yn.normalizeId)(o),u=this.refs[c]||this.schemas[c];if(typeof u=="string"){const f=lo.call(this,t,u);return typeof(f==null?void 0:f.schema)!="object"?void 0:Qo.call(this,r,f)}if(typeof(u==null?void 0:u.schema)=="object"){if(u.validate||ol.call(this,u),c===(0,yn.normalizeId)(n)){const{schema:f}=u,{schemaId:d}=this.opts,p=f[d];return p&&(a=(0,yn.resolveUrl)(this.opts.uriResolver,a,p)),new ao({schema:f,schemaId:d,root:t,baseId:a})}return Qo.call(this,r,u)}}Vt.resolveSchema=lo;const yg=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Qo(t,{baseId:n,schema:r,root:o}){var a;if(((a=t.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const f of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const d=r[(0,yu.unescapeFragment)(f)];if(d===void 0)return;r=d;const p=typeof r=="object"&&r[this.opts.schemaId];!yg.has(f)&&p&&(n=(0,yn.resolveUrl)(this.opts.uriResolver,n,p))}let c;if(typeof r!="boolean"&&r.$ref&&!(0,yu.schemaHasRulesButRef)(r,this.RULES)){const f=(0,yn.resolveUrl)(this.opts.uriResolver,n,r.$ref);c=lo.call(this,o,f)}const{schemaId:u}=this.opts;if(c=c||new ao({schema:r,schemaId:u,root:o,baseId:n}),c.schema!==c.root.schema)return c}const wg="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",bg="Meta-schema for $data reference (JSON AnySchema extension proposal)",Pg="object",$g=["$data"],Sg={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Eg=!1,Tg={$id:wg,description:bg,type:Pg,required:$g,properties:Sg,additionalProperties:Eg};var al={},Sa={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,n){(function(r,o){o(n)})(Uf,function(r){function o(){for(var E=arguments.length,v=Array(E),I=0;I<E;I++)v[I]=arguments[I];if(v.length>1){v[0]=v[0].slice(0,-1);for(var V=v.length-1,Z=1;Z<V;++Z)v[Z]=v[Z].slice(1,-1);return v[V]=v[V].slice(1),v.join("")}else return v[0]}function a(E){return"(?:"+E+")"}function c(E){return E===void 0?"undefined":E===null?"null":Object.prototype.toString.call(E).split(" ").pop().split("]").shift().toLowerCase()}function u(E){return E.toUpperCase()}function f(E){return E!=null?E instanceof Array?E:typeof E.length!="number"||E.split||E.setInterval||E.call?[E]:Array.prototype.slice.call(E):[]}function d(E,v){var I=E;if(v)for(var V in v)I[V]=v[V];return I}function p(E){var v="[A-Za-z]",I="[0-9]",V=o(I,"[A-Fa-f]"),Z=a(a("%[EFef]"+V+"%"+V+V+"%"+V+V)+"|"+a("%[89A-Fa-f]"+V+"%"+V+V)+"|"+a("%"+V+V)),me="[\\:\\/\\?\\#\\[\\]\\@]",_e="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ve=o(me,_e),Ge=E?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ut=E?"[\\uE000-\\uF8FF]":"[]",je=o(v,I,"[\\-\\.\\_\\~]",Ge);a(v+o(v,I,"[\\+\\-\\.]")+"*"),a(a(Z+"|"+o(je,_e,"[\\:]"))+"*");var Qe=a(a("25[0-5]")+"|"+a("2[0-4]"+I)+"|"+a("1"+I+I)+"|"+a("0?[1-9]"+I)+"|0?0?"+I),ft=a(Qe+"\\."+Qe+"\\."+Qe+"\\."+Qe),Oe=a(V+"{1,4}"),tt=a(a(Oe+"\\:"+Oe)+"|"+ft),ht=a(a(Oe+"\\:")+"{6}"+tt),Xe=a("\\:\\:"+a(Oe+"\\:")+"{5}"+tt),bn=a(a(Oe)+"?\\:\\:"+a(Oe+"\\:")+"{4}"+tt),Jt=a(a(a(Oe+"\\:")+"{0,1}"+Oe)+"?\\:\\:"+a(Oe+"\\:")+"{3}"+tt),Yt=a(a(a(Oe+"\\:")+"{0,2}"+Oe)+"?\\:\\:"+a(Oe+"\\:")+"{2}"+tt),Un=a(a(a(Oe+"\\:")+"{0,3}"+Oe)+"?\\:\\:"+Oe+"\\:"+tt),An=a(a(a(Oe+"\\:")+"{0,4}"+Oe)+"?\\:\\:"+tt),kt=a(a(a(Oe+"\\:")+"{0,5}"+Oe)+"?\\:\\:"+Oe),At=a(a(a(Oe+"\\:")+"{0,6}"+Oe)+"?\\:\\:"),Pn=a([ht,Xe,bn,Jt,Yt,Un,An,kt,At].join("|")),Xt=a(a(je+"|"+Z)+"+");a("[vV]"+V+"+\\."+o(je,_e,"[\\:]")+"+"),a(a(Z+"|"+o(je,_e))+"*");var un=a(Z+"|"+o(je,_e,"[\\:\\@]"));return a(a(Z+"|"+o(je,_e,"[\\@]"))+"+"),a(a(un+"|"+o("[\\/\\?]",ut))+"*"),{NOT_SCHEME:new RegExp(o("[^]",v,I,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(o("[^\\%\\:]",je,_e),"g"),NOT_HOST:new RegExp(o("[^\\%\\[\\]\\:]",je,_e),"g"),NOT_PATH:new RegExp(o("[^\\%\\/\\:\\@]",je,_e),"g"),NOT_PATH_NOSCHEME:new RegExp(o("[^\\%\\/\\@]",je,_e),"g"),NOT_QUERY:new RegExp(o("[^\\%]",je,_e,"[\\:\\@\\/\\?]",ut),"g"),NOT_FRAGMENT:new RegExp(o("[^\\%]",je,_e,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(o("[^]",je,_e),"g"),UNRESERVED:new RegExp(je,"g"),OTHER_CHARS:new RegExp(o("[^\\%]",je,Ve),"g"),PCT_ENCODED:new RegExp(Z,"g"),IPV4ADDRESS:new RegExp("^("+ft+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Pn+")"+a(a("\\%25|\\%(?!"+V+"{2})")+"("+Xt+")")+"?\\]?$")}}var _=p(!1),w=p(!0),$=function(){function E(v,I){var V=[],Z=!0,me=!1,_e=void 0;try{for(var Ve=v[Symbol.iterator](),Ge;!(Z=(Ge=Ve.next()).done)&&(V.push(Ge.value),!(I&&V.length===I));Z=!0);}catch(ut){me=!0,_e=ut}finally{try{!Z&&Ve.return&&Ve.return()}finally{if(me)throw _e}}return V}return function(v,I){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return E(v,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=function(E){if(Array.isArray(E)){for(var v=0,I=Array(E.length);v<E.length;v++)I[v]=E[v];return I}else return Array.from(E)},O=2147483647,C=36,A=1,T=26,B=38,U=700,J=72,Y=128,ce="-",ye=/^xn--/,oe=/[^\0-\x7E]/,he=/[\x2E\u3002\uFF0E\uFF61]/g,$e={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},we=C-A,ne=Math.floor,Se=String.fromCharCode;function be(E){throw new RangeError($e[E])}function ot(E,v){for(var I=[],V=E.length;V--;)I[V]=v(E[V]);return I}function ge(E,v){var I=E.split("@"),V="";I.length>1&&(V=I[0]+"@",E=I[1]),E=E.replace(he,".");var Z=E.split("."),me=ot(Z,v).join(".");return V+me}function De(E){for(var v=[],I=0,V=E.length;I<V;){var Z=E.charCodeAt(I++);if(Z>=55296&&Z<=56319&&I<V){var me=E.charCodeAt(I++);(me&64512)==56320?v.push(((Z&1023)<<10)+(me&1023)+65536):(v.push(Z),I--)}else v.push(Z)}return v}var le=function(v){return String.fromCodePoint.apply(String,x(v))},yt=function(v){return v-48<10?v-22:v-65<26?v-65:v-97<26?v-97:C},q=function(v,I){return v+22+75*(v<26)-((I!=0)<<5)},k=function(v,I,V){var Z=0;for(v=V?ne(v/U):v>>1,v+=ne(v/I);v>we*T>>1;Z+=C)v=ne(v/we);return ne(Z+(we+1)*v/(v+B))},K=function(v){var I=[],V=v.length,Z=0,me=Y,_e=J,Ve=v.lastIndexOf(ce);Ve<0&&(Ve=0);for(var Ge=0;Ge<Ve;++Ge)v.charCodeAt(Ge)>=128&&be("not-basic"),I.push(v.charCodeAt(Ge));for(var ut=Ve>0?Ve+1:0;ut<V;){for(var je=Z,Qe=1,ft=C;;ft+=C){ut>=V&&be("invalid-input");var Oe=yt(v.charCodeAt(ut++));(Oe>=C||Oe>ne((O-Z)/Qe))&&be("overflow"),Z+=Oe*Qe;var tt=ft<=_e?A:ft>=_e+T?T:ft-_e;if(Oe<tt)break;var ht=C-tt;Qe>ne(O/ht)&&be("overflow"),Qe*=ht}var Xe=I.length+1;_e=k(Z-je,Xe,je==0),ne(Z/Xe)>O-me&&be("overflow"),me+=ne(Z/Xe),Z%=Xe,I.splice(Z++,0,me)}return String.fromCodePoint.apply(String,I)},D=function(v){var I=[];v=De(v);var V=v.length,Z=Y,me=0,_e=J,Ve=!0,Ge=!1,ut=void 0;try{for(var je=v[Symbol.iterator](),Qe;!(Ve=(Qe=je.next()).done);Ve=!0){var ft=Qe.value;ft<128&&I.push(Se(ft))}}catch(nt){Ge=!0,ut=nt}finally{try{!Ve&&je.return&&je.return()}finally{if(Ge)throw ut}}var Oe=I.length,tt=Oe;for(Oe&&I.push(ce);tt<V;){var ht=O,Xe=!0,bn=!1,Jt=void 0;try{for(var Yt=v[Symbol.iterator](),Un;!(Xe=(Un=Yt.next()).done);Xe=!0){var An=Un.value;An>=Z&&An<ht&&(ht=An)}}catch(nt){bn=!0,Jt=nt}finally{try{!Xe&&Yt.return&&Yt.return()}finally{if(bn)throw Jt}}var kt=tt+1;ht-Z>ne((O-me)/kt)&&be("overflow"),me+=(ht-Z)*kt,Z=ht;var At=!0,Pn=!1,Xt=void 0;try{for(var un=v[Symbol.iterator](),Ue;!(At=(Ue=un.next()).done);At=!0){var rt=Ue.value;if(rt<Z&&++me>O&&be("overflow"),rt==Z){for(var Rn=me,fn=C;;fn+=C){var hn=fn<=_e?A:fn>=_e+T?T:fn-_e;if(Rn<hn)break;var zi=Rn-hn,Ae=C-hn;I.push(Se(q(hn+zi%Ae,0))),Rn=ne(zi/Ae)}I.push(Se(q(Rn,0))),_e=k(me,kt,tt==Oe),me=0,++tt}}}catch(nt){Pn=!0,Xt=nt}finally{try{!At&&un.return&&un.return()}finally{if(Pn)throw Xt}}++me,++Z}return I.join("")},y=function(v){return ge(v,function(I){return ye.test(I)?K(I.slice(4).toLowerCase()):I})},P=function(v){return ge(v,function(I){return oe.test(I)?"xn--"+D(I):I})},N={version:"2.1.0",ucs2:{decode:De,encode:le},decode:K,encode:D,toASCII:P,toUnicode:y},se={};function ae(E){var v=E.charCodeAt(0),I=void 0;return v<16?I="%0"+v.toString(16).toUpperCase():v<128?I="%"+v.toString(16).toUpperCase():v<2048?I="%"+(v>>6|192).toString(16).toUpperCase()+"%"+(v&63|128).toString(16).toUpperCase():I="%"+(v>>12|224).toString(16).toUpperCase()+"%"+(v>>6&63|128).toString(16).toUpperCase()+"%"+(v&63|128).toString(16).toUpperCase(),I}function ke(E){for(var v="",I=0,V=E.length;I<V;){var Z=parseInt(E.substr(I+1,2),16);if(Z<128)v+=String.fromCharCode(Z),I+=3;else if(Z>=194&&Z<224){if(V-I>=6){var me=parseInt(E.substr(I+4,2),16);v+=String.fromCharCode((Z&31)<<6|me&63)}else v+=E.substr(I,6);I+=6}else if(Z>=224){if(V-I>=9){var _e=parseInt(E.substr(I+4,2),16),Ve=parseInt(E.substr(I+7,2),16);v+=String.fromCharCode((Z&15)<<12|(_e&63)<<6|Ve&63)}else v+=E.substr(I,9);I+=9}else v+=E.substr(I,3),I+=3}return v}function Ce(E,v){function I(V){var Z=ke(V);return Z.match(v.UNRESERVED)?Z:V}return E.scheme&&(E.scheme=String(E.scheme).replace(v.PCT_ENCODED,I).toLowerCase().replace(v.NOT_SCHEME,"")),E.userinfo!==void 0&&(E.userinfo=String(E.userinfo).replace(v.PCT_ENCODED,I).replace(v.NOT_USERINFO,ae).replace(v.PCT_ENCODED,u)),E.host!==void 0&&(E.host=String(E.host).replace(v.PCT_ENCODED,I).toLowerCase().replace(v.NOT_HOST,ae).replace(v.PCT_ENCODED,u)),E.path!==void 0&&(E.path=String(E.path).replace(v.PCT_ENCODED,I).replace(E.scheme?v.NOT_PATH:v.NOT_PATH_NOSCHEME,ae).replace(v.PCT_ENCODED,u)),E.query!==void 0&&(E.query=String(E.query).replace(v.PCT_ENCODED,I).replace(v.NOT_QUERY,ae).replace(v.PCT_ENCODED,u)),E.fragment!==void 0&&(E.fragment=String(E.fragment).replace(v.PCT_ENCODED,I).replace(v.NOT_FRAGMENT,ae).replace(v.PCT_ENCODED,u)),E}function M(E){return E.replace(/^0*(.*)/,"$1")||"0"}function z(E,v){var I=E.match(v.IPV4ADDRESS)||[],V=$(I,2),Z=V[1];return Z?Z.split(".").map(M).join("."):E}function g(E,v){var I=E.match(v.IPV6ADDRESS)||[],V=$(I,3),Z=V[1],me=V[2];if(Z){for(var _e=Z.toLowerCase().split("::").reverse(),Ve=$(_e,2),Ge=Ve[0],ut=Ve[1],je=ut?ut.split(":").map(M):[],Qe=Ge.split(":").map(M),ft=v.IPV4ADDRESS.test(Qe[Qe.length-1]),Oe=ft?7:8,tt=Qe.length-Oe,ht=Array(Oe),Xe=0;Xe<Oe;++Xe)ht[Xe]=je[Xe]||Qe[tt+Xe]||"";ft&&(ht[Oe-1]=z(ht[Oe-1],v));var bn=ht.reduce(function(kt,At,Pn){if(!At||At==="0"){var Xt=kt[kt.length-1];Xt&&Xt.index+Xt.length===Pn?Xt.length++:kt.push({index:Pn,length:1})}return kt},[]),Jt=bn.sort(function(kt,At){return At.length-kt.length})[0],Yt=void 0;if(Jt&&Jt.length>1){var Un=ht.slice(0,Jt.index),An=ht.slice(Jt.index+Jt.length);Yt=Un.join(":")+"::"+An.join(":")}else Yt=ht.join(":");return me&&(Yt+="%"+me),Yt}else return E}var b=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,R="".match(/(){0}/)[1]===void 0;function F(E){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I={},V=v.iri!==!1?w:_;v.reference==="suffix"&&(E=(v.scheme?v.scheme+":":"")+"//"+E);var Z=E.match(b);if(Z){R?(I.scheme=Z[1],I.userinfo=Z[3],I.host=Z[4],I.port=parseInt(Z[5],10),I.path=Z[6]||"",I.query=Z[7],I.fragment=Z[8],isNaN(I.port)&&(I.port=Z[5])):(I.scheme=Z[1]||void 0,I.userinfo=E.indexOf("@")!==-1?Z[3]:void 0,I.host=E.indexOf("//")!==-1?Z[4]:void 0,I.port=parseInt(Z[5],10),I.path=Z[6]||"",I.query=E.indexOf("?")!==-1?Z[7]:void 0,I.fragment=E.indexOf("#")!==-1?Z[8]:void 0,isNaN(I.port)&&(I.port=E.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Z[4]:void 0)),I.host&&(I.host=g(z(I.host,V),V)),I.scheme===void 0&&I.userinfo===void 0&&I.host===void 0&&I.port===void 0&&!I.path&&I.query===void 0?I.reference="same-document":I.scheme===void 0?I.reference="relative":I.fragment===void 0?I.reference="absolute":I.reference="uri",v.reference&&v.reference!=="suffix"&&v.reference!==I.reference&&(I.error=I.error||"URI is not a "+v.reference+" reference.");var me=se[(v.scheme||I.scheme||"").toLowerCase()];if(!v.unicodeSupport&&(!me||!me.unicodeSupport)){if(I.host&&(v.domainHost||me&&me.domainHost))try{I.host=N.toASCII(I.host.replace(V.PCT_ENCODED,ke).toLowerCase())}catch(_e){I.error=I.error||"Host's domain name can not be converted to ASCII via punycode: "+_e}Ce(I,_)}else Ce(I,V);me&&me.parse&&me.parse(I,v)}else I.error=I.error||"URI can not be parsed.";return I}function W(E,v){var I=v.iri!==!1?w:_,V=[];return E.userinfo!==void 0&&(V.push(E.userinfo),V.push("@")),E.host!==void 0&&V.push(g(z(String(E.host),I),I).replace(I.IPV6ADDRESS,function(Z,me,_e){return"["+me+(_e?"%25"+_e:"")+"]"})),(typeof E.port=="number"||typeof E.port=="string")&&(V.push(":"),V.push(String(E.port))),V.length?V.join(""):void 0}var ee=/^\.\.?\//,re=/^\/\.(\/|$)/,X=/^\/\.\.(\/|$)/,te=/^\/?(?:.|\n)*?(?=\/|$)/;function G(E){for(var v=[];E.length;)if(E.match(ee))E=E.replace(ee,"");else if(E.match(re))E=E.replace(re,"/");else if(E.match(X))E=E.replace(X,"/"),v.pop();else if(E==="."||E==="..")E="";else{var I=E.match(te);if(I){var V=I[0];E=E.slice(V.length),v.push(V)}else throw new Error("Unexpected dot segment condition")}return v.join("")}function ie(E){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=v.iri?w:_,V=[],Z=se[(v.scheme||E.scheme||"").toLowerCase()];if(Z&&Z.serialize&&Z.serialize(E,v),E.host&&!I.IPV6ADDRESS.test(E.host)){if(v.domainHost||Z&&Z.domainHost)try{E.host=v.iri?N.toUnicode(E.host):N.toASCII(E.host.replace(I.PCT_ENCODED,ke).toLowerCase())}catch(Ve){E.error=E.error||"Host's domain name can not be converted to "+(v.iri?"Unicode":"ASCII")+" via punycode: "+Ve}}Ce(E,I),v.reference!=="suffix"&&E.scheme&&(V.push(E.scheme),V.push(":"));var me=W(E,v);if(me!==void 0&&(v.reference!=="suffix"&&V.push("//"),V.push(me),E.path&&E.path.charAt(0)!=="/"&&V.push("/")),E.path!==void 0){var _e=E.path;!v.absolutePath&&(!Z||!Z.absolutePath)&&(_e=G(_e)),me===void 0&&(_e=_e.replace(/^\/\//,"/%2F")),V.push(_e)}return E.query!==void 0&&(V.push("?"),V.push(E.query)),E.fragment!==void 0&&(V.push("#"),V.push(E.fragment)),V.join("")}function pe(E,v){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},V=arguments[3],Z={};return V||(E=F(ie(E,I),I),v=F(ie(v,I),I)),I=I||{},!I.tolerant&&v.scheme?(Z.scheme=v.scheme,Z.userinfo=v.userinfo,Z.host=v.host,Z.port=v.port,Z.path=G(v.path||""),Z.query=v.query):(v.userinfo!==void 0||v.host!==void 0||v.port!==void 0?(Z.userinfo=v.userinfo,Z.host=v.host,Z.port=v.port,Z.path=G(v.path||""),Z.query=v.query):(v.path?(v.path.charAt(0)==="/"?Z.path=G(v.path):((E.userinfo!==void 0||E.host!==void 0||E.port!==void 0)&&!E.path?Z.path="/"+v.path:E.path?Z.path=E.path.slice(0,E.path.lastIndexOf("/")+1)+v.path:Z.path=v.path,Z.path=G(Z.path)),Z.query=v.query):(Z.path=E.path,v.query!==void 0?Z.query=v.query:Z.query=E.query),Z.userinfo=E.userinfo,Z.host=E.host,Z.port=E.port),Z.scheme=E.scheme),Z.fragment=v.fragment,Z}function de(E,v,I){var V=d({scheme:"null"},I);return ie(pe(F(E,V),F(v,V),V,!0),V)}function ve(E,v){return typeof E=="string"?E=ie(F(E,v),v):c(E)==="object"&&(E=F(ie(E,v),v)),E}function Ie(E,v,I){return typeof E=="string"?E=ie(F(E,I),I):c(E)==="object"&&(E=ie(E,I)),typeof v=="string"?v=ie(F(v,I),I):c(v)==="object"&&(v=ie(v,I)),E===v}function He(E,v){return E&&E.toString().replace(!v||!v.iri?_.ESCAPE:w.ESCAPE,ae)}function ze(E,v){return E&&E.toString().replace(!v||!v.iri?_.PCT_ENCODED:w.PCT_ENCODED,ke)}var Ye={scheme:"http",domainHost:!0,parse:function(v,I){return v.host||(v.error=v.error||"HTTP URIs must have a host."),v},serialize:function(v,I){var V=String(v.scheme).toLowerCase()==="https";return(v.port===(V?443:80)||v.port==="")&&(v.port=void 0),v.path||(v.path="/"),v}},Ct={scheme:"https",domainHost:Ye.domainHost,parse:Ye.parse,serialize:Ye.serialize};function ln(E){return typeof E.secure=="boolean"?E.secure:String(E.scheme).toLowerCase()==="wss"}var cn={scheme:"ws",domainHost:!0,parse:function(v,I){var V=v;return V.secure=ln(V),V.resourceName=(V.path||"/")+(V.query?"?"+V.query:""),V.path=void 0,V.query=void 0,V},serialize:function(v,I){if((v.port===(ln(v)?443:80)||v.port==="")&&(v.port=void 0),typeof v.secure=="boolean"&&(v.scheme=v.secure?"wss":"ws",v.secure=void 0),v.resourceName){var V=v.resourceName.split("?"),Z=$(V,2),me=Z[0],_e=Z[1];v.path=me&&me!=="/"?me:void 0,v.query=_e,v.resourceName=void 0}return v.fragment=void 0,v}},Gt={scheme:"wss",domainHost:cn.domainHost,parse:cn.parse,serialize:cn.serialize},hi={},$t="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",et="[0-9A-Fa-f]",Ni=a(a("%[EFef]"+et+"%"+et+et+"%"+et+et)+"|"+a("%[89A-Fa-f]"+et+"%"+et+et)+"|"+a("%"+et+et)),fo="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",qr="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Kr=o(qr,'[\\"\\\\]'),Wr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ho=new RegExp($t,"g"),Hn=new RegExp(Ni,"g"),po=new RegExp(o("[^]",fo,"[\\.]",'[\\"]',Kr),"g"),Gr=new RegExp(o("[^]",$t,Wr),"g"),mo=Gr;function lr(E){var v=ke(E);return v.match(ho)?v:E}var Di={scheme:"mailto",parse:function(v,I){var V=v,Z=V.to=V.path?V.path.split(","):[];if(V.path=void 0,V.query){for(var me=!1,_e={},Ve=V.query.split("&"),Ge=0,ut=Ve.length;Ge<ut;++Ge){var je=Ve[Ge].split("=");switch(je[0]){case"to":for(var Qe=je[1].split(","),ft=0,Oe=Qe.length;ft<Oe;++ft)Z.push(Qe[ft]);break;case"subject":V.subject=ze(je[1],I);break;case"body":V.body=ze(je[1],I);break;default:me=!0,_e[ze(je[0],I)]=ze(je[1],I);break}}me&&(V.headers=_e)}V.query=void 0;for(var tt=0,ht=Z.length;tt<ht;++tt){var Xe=Z[tt].split("@");if(Xe[0]=ze(Xe[0]),I.unicodeSupport)Xe[1]=ze(Xe[1],I).toLowerCase();else try{Xe[1]=N.toASCII(ze(Xe[1],I).toLowerCase())}catch(bn){V.error=V.error||"Email address's domain name can not be converted to ASCII via punycode: "+bn}Z[tt]=Xe.join("@")}return V},serialize:function(v,I){var V=v,Z=f(v.to);if(Z){for(var me=0,_e=Z.length;me<_e;++me){var Ve=String(Z[me]),Ge=Ve.lastIndexOf("@"),ut=Ve.slice(0,Ge).replace(Hn,lr).replace(Hn,u).replace(po,ae),je=Ve.slice(Ge+1);try{je=I.iri?N.toUnicode(je):N.toASCII(ze(je,I).toLowerCase())}catch(tt){V.error=V.error||"Email address's domain name can not be converted to "+(I.iri?"Unicode":"ASCII")+" via punycode: "+tt}Z[me]=ut+"@"+je}V.path=Z.join(",")}var Qe=v.headers=v.headers||{};v.subject&&(Qe.subject=v.subject),v.body&&(Qe.body=v.body);var ft=[];for(var Oe in Qe)Qe[Oe]!==hi[Oe]&&ft.push(Oe.replace(Hn,lr).replace(Hn,u).replace(Gr,ae)+"="+Qe[Oe].replace(Hn,lr).replace(Hn,u).replace(mo,ae));return ft.length&&(V.query=ft.join("&")),V}},_o=/^([^\:]+)\:(.*)/,Jr={scheme:"urn",parse:function(v,I){var V=v.path&&v.path.match(_o),Z=v;if(V){var me=I.scheme||Z.scheme||"urn",_e=V[1].toLowerCase(),Ve=V[2],Ge=me+":"+(I.nid||_e),ut=se[Ge];Z.nid=_e,Z.nss=Ve,Z.path=void 0,ut&&(Z=ut.parse(Z,I))}else Z.error=Z.error||"URN can not be parsed.";return Z},serialize:function(v,I){var V=I.scheme||v.scheme||"urn",Z=v.nid,me=V+":"+(I.nid||Z),_e=se[me];_e&&(v=_e.serialize(v,I));var Ve=v,Ge=v.nss;return Ve.path=(Z||I.nid)+":"+Ge,Ve}},go=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Yr={scheme:"urn:uuid",parse:function(v,I){var V=v;return V.uuid=V.nss,V.nss=void 0,!I.tolerant&&(!V.uuid||!V.uuid.match(go))&&(V.error=V.error||"UUID is not valid."),V},serialize:function(v,I){var V=v;return V.nss=(v.uuid||"").toLowerCase(),V}};se[Ye.scheme]=Ye,se[Ct.scheme]=Ct,se[cn.scheme]=cn,se[Gt.scheme]=Gt,se[Di.scheme]=Di,se[Jr.scheme]=Jr,se[Yr.scheme]=Yr,r.SCHEMES=se,r.pctEncChar=ae,r.pctDecChars=ke,r.parse=F,r.removeDotSegments=G,r.serialize=ie,r.resolveComponents=pe,r.resolve=de,r.normalize=ve,r.equal=Ie,r.escapeComponent=He,r.unescapeComponent=ze,Object.defineProperty(r,"__esModule",{value:!0})})})(Sa,Sa.exports);var Cg=Sa.exports;Object.defineProperty(al,"__esModule",{value:!0});const hh=Cg;hh.code='require("ajv/dist/runtime/uri").default';al.default=hh;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var n=oo();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return n.KeywordCxt}});var r=Ze;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const o=sl(),a=sr,c=Ai,u=Vt,f=Ze,d=Ot,p=wt,_=fe,w=Tg,$=al,x=(q,k)=>new RegExp(q,k);x.code="new RegExp";const O=["removeAdditional","useDefaults","coerceTypes"],C=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),A={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},T={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},B=200;function U(q){var k,K,D,y,P,N,se,ae,ke,Ce,M,z,g,b,R,F,W,ee,re,X,te,G,ie,pe,de;const ve=q.strict,Ie=(k=q.code)===null||k===void 0?void 0:k.optimize,He=Ie===!0||Ie===void 0?1:Ie||0,ze=(D=(K=q.code)===null||K===void 0?void 0:K.regExp)!==null&&D!==void 0?D:x,Ye=(y=q.uriResolver)!==null&&y!==void 0?y:$.default;return{strictSchema:(N=(P=q.strictSchema)!==null&&P!==void 0?P:ve)!==null&&N!==void 0?N:!0,strictNumbers:(ae=(se=q.strictNumbers)!==null&&se!==void 0?se:ve)!==null&&ae!==void 0?ae:!0,strictTypes:(Ce=(ke=q.strictTypes)!==null&&ke!==void 0?ke:ve)!==null&&Ce!==void 0?Ce:"log",strictTuples:(z=(M=q.strictTuples)!==null&&M!==void 0?M:ve)!==null&&z!==void 0?z:"log",strictRequired:(b=(g=q.strictRequired)!==null&&g!==void 0?g:ve)!==null&&b!==void 0?b:!1,code:q.code?{...q.code,optimize:He,regExp:ze}:{optimize:He,regExp:ze},loopRequired:(R=q.loopRequired)!==null&&R!==void 0?R:B,loopEnum:(F=q.loopEnum)!==null&&F!==void 0?F:B,meta:(W=q.meta)!==null&&W!==void 0?W:!0,messages:(ee=q.messages)!==null&&ee!==void 0?ee:!0,inlineRefs:(re=q.inlineRefs)!==null&&re!==void 0?re:!0,schemaId:(X=q.schemaId)!==null&&X!==void 0?X:"$id",addUsedSchema:(te=q.addUsedSchema)!==null&&te!==void 0?te:!0,validateSchema:(G=q.validateSchema)!==null&&G!==void 0?G:!0,validateFormats:(ie=q.validateFormats)!==null&&ie!==void 0?ie:!0,unicodeRegExp:(pe=q.unicodeRegExp)!==null&&pe!==void 0?pe:!0,int32range:(de=q.int32range)!==null&&de!==void 0?de:!0,uriResolver:Ye}}class J{constructor(k={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,k=this.opts={...k,...U(k)};const{es5:K,lines:D}=this.opts.code;this.scope=new f.ValueScope({scope:{},prefixes:C,es5:K,lines:D}),this.logger=ne(k.logger);const y=k.validateFormats;k.validateFormats=!1,this.RULES=(0,c.getRules)(),Y.call(this,A,k,"NOT SUPPORTED"),Y.call(this,T,k,"DEPRECATED","warn"),this._metaOpts=$e.call(this),k.formats&&oe.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),k.keywords&&he.call(this,k.keywords),typeof k.meta=="object"&&this.addMetaSchema(k.meta),ye.call(this),k.validateFormats=y}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:k,meta:K,schemaId:D}=this.opts;let y=w;D==="id"&&(y={...w},y.id=y.$id,delete y.$id),K&&k&&this.addMetaSchema(y,y[D],!1)}defaultMeta(){const{meta:k,schemaId:K}=this.opts;return this.opts.defaultMeta=typeof k=="object"?k[K]||k:void 0}validate(k,K){let D;if(typeof k=="string"){if(D=this.getSchema(k),!D)throw new Error(`no schema with key or ref "${k}"`)}else D=this.compile(k);const y=D(K);return"$async"in D||(this.errors=D.errors),y}compile(k,K){const D=this._addSchema(k,K);return D.validate||this._compileSchemaEnv(D)}compileAsync(k,K){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:D}=this.opts;return y.call(this,k,K);async function y(Ce,M){await P.call(this,Ce.$schema);const z=this._addSchema(Ce,M);return z.validate||N.call(this,z)}async function P(Ce){Ce&&!this.getSchema(Ce)&&await y.call(this,{$ref:Ce},!0)}async function N(Ce){try{return this._compileSchemaEnv(Ce)}catch(M){if(!(M instanceof a.default))throw M;return se.call(this,M),await ae.call(this,M.missingSchema),N.call(this,Ce)}}function se({missingSchema:Ce,missingRef:M}){if(this.refs[Ce])throw new Error(`AnySchema ${Ce} is loaded but ${M} cannot be resolved`)}async function ae(Ce){const M=await ke.call(this,Ce);this.refs[Ce]||await P.call(this,M.$schema),this.refs[Ce]||this.addSchema(M,Ce,K)}async function ke(Ce){const M=this._loading[Ce];if(M)return M;try{return await(this._loading[Ce]=D(Ce))}finally{delete this._loading[Ce]}}}addSchema(k,K,D,y=this.opts.validateSchema){if(Array.isArray(k)){for(const N of k)this.addSchema(N,void 0,D,y);return this}let P;if(typeof k=="object"){const{schemaId:N}=this.opts;if(P=k[N],P!==void 0&&typeof P!="string")throw new Error(`schema ${N} must be string`)}return K=(0,d.normalizeId)(K||P),this._checkUnique(K),this.schemas[K]=this._addSchema(k,D,K,y,!0),this}addMetaSchema(k,K,D=this.opts.validateSchema){return this.addSchema(k,K,!0,D),this}validateSchema(k,K){if(typeof k=="boolean")return!0;let D;if(D=k.$schema,D!==void 0&&typeof D!="string")throw new Error("$schema must be a string");if(D=D||this.opts.defaultMeta||this.defaultMeta(),!D)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const y=this.validate(D,k);if(!y&&K){const P="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(P);else throw new Error(P)}return y}getSchema(k){let K;for(;typeof(K=ce.call(this,k))=="string";)k=K;if(K===void 0){const{schemaId:D}=this.opts,y=new u.SchemaEnv({schema:{},schemaId:D});if(K=u.resolveSchema.call(this,y,k),!K)return;this.refs[k]=K}return K.validate||this._compileSchemaEnv(K)}removeSchema(k){if(k instanceof RegExp)return this._removeAllSchemas(this.schemas,k),this._removeAllSchemas(this.refs,k),this;switch(typeof k){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const K=ce.call(this,k);return typeof K=="object"&&this._cache.delete(K.schema),delete this.schemas[k],delete this.refs[k],this}case"object":{const K=k;this._cache.delete(K);let D=k[this.opts.schemaId];return D&&(D=(0,d.normalizeId)(D),delete this.schemas[D],delete this.refs[D]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(k){for(const K of k)this.addKeyword(K);return this}addKeyword(k,K){let D;if(typeof k=="string")D=k,typeof K=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),K.keyword=D);else if(typeof k=="object"&&K===void 0){if(K=k,D=K.keyword,Array.isArray(D)&&!D.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(be.call(this,D,K),!K)return(0,_.eachItem)(D,P=>ot.call(this,P)),this;De.call(this,K);const y={...K,type:(0,p.getJSONTypes)(K.type),schemaType:(0,p.getJSONTypes)(K.schemaType)};return(0,_.eachItem)(D,y.type.length===0?P=>ot.call(this,P,y):P=>y.type.forEach(N=>ot.call(this,P,y,N))),this}getKeyword(k){const K=this.RULES.all[k];return typeof K=="object"?K.definition:!!K}removeKeyword(k){const{RULES:K}=this;delete K.keywords[k],delete K.all[k];for(const D of K.rules){const y=D.rules.findIndex(P=>P.keyword===k);y>=0&&D.rules.splice(y,1)}return this}addFormat(k,K){return typeof K=="string"&&(K=new RegExp(K)),this.formats[k]=K,this}errorsText(k=this.errors,{separator:K=", ",dataVar:D="data"}={}){return!k||k.length===0?"No errors":k.map(y=>`${D}${y.instancePath} ${y.message}`).reduce((y,P)=>y+K+P)}$dataMetaSchema(k,K){const D=this.RULES.all;k=JSON.parse(JSON.stringify(k));for(const y of K){const P=y.split("/").slice(1);let N=k;for(const se of P)N=N[se];for(const se in D){const ae=D[se];if(typeof ae!="object")continue;const{$data:ke}=ae.definition,Ce=N[se];ke&&Ce&&(N[se]=yt(Ce))}}return k}_removeAllSchemas(k,K){for(const D in k){const y=k[D];(!K||K.test(D))&&(typeof y=="string"?delete k[D]:y&&!y.meta&&(this._cache.delete(y.schema),delete k[D]))}}_addSchema(k,K,D,y=this.opts.validateSchema,P=this.opts.addUsedSchema){let N;const{schemaId:se}=this.opts;if(typeof k=="object")N=k[se];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof k!="boolean")throw new Error("schema must be object or boolean")}let ae=this._cache.get(k);if(ae!==void 0)return ae;D=(0,d.normalizeId)(N||D);const ke=d.getSchemaRefs.call(this,k,D);return ae=new u.SchemaEnv({schema:k,schemaId:se,meta:K,baseId:D,localRefs:ke}),this._cache.set(ae.schema,ae),P&&!D.startsWith("#")&&(D&&this._checkUnique(D),this.refs[D]=ae),y&&this.validateSchema(k,!0),ae}_checkUnique(k){if(this.schemas[k]||this.refs[k])throw new Error(`schema with key or id "${k}" already exists`)}_compileSchemaEnv(k){if(k.meta?this._compileMetaSchema(k):u.compileSchema.call(this,k),!k.validate)throw new Error("ajv implementation error");return k.validate}_compileMetaSchema(k){const K=this.opts;this.opts=this._metaOpts;try{u.compileSchema.call(this,k)}finally{this.opts=K}}}J.ValidationError=o.default,J.MissingRefError=a.default,t.default=J;function Y(q,k,K,D="error"){for(const y in q){const P=y;P in k&&this.logger[D](`${K}: option ${y}. ${q[P]}`)}}function ce(q){return q=(0,d.normalizeId)(q),this.schemas[q]||this.refs[q]}function ye(){const q=this.opts.schemas;if(q)if(Array.isArray(q))this.addSchema(q);else for(const k in q)this.addSchema(q[k],k)}function oe(){for(const q in this.opts.formats){const k=this.opts.formats[q];k&&this.addFormat(q,k)}}function he(q){if(Array.isArray(q)){this.addVocabulary(q);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const k in q){const K=q[k];K.keyword||(K.keyword=k),this.addKeyword(K)}}function $e(){const q={...this.opts};for(const k of O)delete q[k];return q}const we={log(){},warn(){},error(){}};function ne(q){if(q===!1)return we;if(q===void 0)return console;if(q.log&&q.warn&&q.error)return q;throw new Error("logger must implement log, warn and error methods")}const Se=/^[a-z_$][a-z0-9_$:-]*$/i;function be(q,k){const{RULES:K}=this;if((0,_.eachItem)(q,D=>{if(K.keywords[D])throw new Error(`Keyword ${D} is already defined`);if(!Se.test(D))throw new Error(`Keyword ${D} has invalid name`)}),!!k&&k.$data&&!("code"in k||"validate"in k))throw new Error('$data keyword must have "code" or "validate" function')}function ot(q,k,K){var D;const y=k==null?void 0:k.post;if(K&&y)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:P}=this;let N=y?P.post:P.rules.find(({type:ae})=>ae===K);if(N||(N={type:K,rules:[]},P.rules.push(N)),P.keywords[q]=!0,!k)return;const se={keyword:q,definition:{...k,type:(0,p.getJSONTypes)(k.type),schemaType:(0,p.getJSONTypes)(k.schemaType)}};k.before?ge.call(this,N,se,k.before):N.rules.push(se),P.all[q]=se,(D=k.implements)===null||D===void 0||D.forEach(ae=>this.addKeyword(ae))}function ge(q,k,K){const D=q.rules.findIndex(y=>y.keyword===K);D>=0?q.rules.splice(D,0,k):(q.rules.push(k),this.logger.warn(`rule ${K} is not defined`))}function De(q){let{metaSchema:k}=q;k!==void 0&&(q.$data&&this.opts.$data&&(k=yt(k)),q.validateSchema=this.compile(k,!0))}const le={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function yt(q){return{anyOf:[q,le]}}})(Kf);var ll={},cl={},ul={};Object.defineProperty(ul,"__esModule",{value:!0});const Lg={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};ul.default=Lg;var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.callRef=Ri.getValidate=void 0;const xg=sr,wu=Fe,Zt=Ze,qi=kn,bu=Vt,Ps=fe,Og={keyword:"$ref",schemaType:"string",code(t){const{gen:n,schema:r,it:o}=t,{baseId:a,schemaEnv:c,validateName:u,opts:f,self:d}=o,{root:p}=c;if((r==="#"||r==="#/")&&a===p.baseId)return w();const _=bu.resolveRef.call(d,p,a,r);if(_===void 0)throw new xg.default(o.opts.uriResolver,a,r);if(_ instanceof bu.SchemaEnv)return $(_);return x(_);function w(){if(c===p)return ks(t,u,c,c.$async);const O=n.scopeValue("root",{ref:p});return ks(t,(0,Zt._)`${O}.validate`,p,p.$async)}function $(O){const C=dh(t,O);ks(t,C,O,O.$async)}function x(O){const C=n.scopeValue("schema",f.code.source===!0?{ref:O,code:(0,Zt.stringify)(O)}:{ref:O}),A=n.name("valid"),T=t.subschema({schema:O,dataTypes:[],schemaPath:Zt.nil,topSchemaRef:C,errSchemaPath:r},A);t.mergeEvaluated(T),t.ok(A)}}};function dh(t,n){const{gen:r}=t;return n.validate?r.scopeValue("validate",{ref:n.validate}):(0,Zt._)`${r.scopeValue("wrapper",{ref:n})}.validate`}Ri.getValidate=dh;function ks(t,n,r,o){const{gen:a,it:c}=t,{allErrors:u,schemaEnv:f,opts:d}=c,p=d.passContext?qi.default.this:Zt.nil;o?_():w();function _(){if(!f.$async)throw new Error("async schema referenced by sync schema");const O=a.let("valid");a.try(()=>{a.code((0,Zt._)`await ${(0,wu.callValidateCode)(t,n,p)}`),x(n),u||a.assign(O,!0)},C=>{a.if((0,Zt._)`!(${C} instanceof ${c.ValidationError})`,()=>a.throw(C)),$(C),u||a.assign(O,!1)}),t.ok(O)}function w(){t.result((0,wu.callValidateCode)(t,n,p),()=>x(n),()=>$(n))}function $(O){const C=(0,Zt._)`${O}.errors`;a.assign(qi.default.vErrors,(0,Zt._)`${qi.default.vErrors} === null ? ${C} : ${qi.default.vErrors}.concat(${C})`),a.assign(qi.default.errors,(0,Zt._)`${qi.default.vErrors}.length`)}function x(O){var C;if(!c.opts.unevaluated)return;const A=(C=r==null?void 0:r.validate)===null||C===void 0?void 0:C.evaluated;if(c.props!==!0)if(A&&!A.dynamicProps)A.props!==void 0&&(c.props=Ps.mergeEvaluated.props(a,A.props,c.props));else{const T=a.var("props",(0,Zt._)`${O}.evaluated.props`);c.props=Ps.mergeEvaluated.props(a,T,c.props,Zt.Name)}if(c.items!==!0)if(A&&!A.dynamicItems)A.items!==void 0&&(c.items=Ps.mergeEvaluated.items(a,A.items,c.items));else{const T=a.var("items",(0,Zt._)`${O}.evaluated.items`);c.items=Ps.mergeEvaluated.items(a,T,c.items,Zt.Name)}}}Ri.callRef=ks;Ri.default=Og;Object.defineProperty(cl,"__esModule",{value:!0});const Ig=ul,kg=Ri,Ag=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Ig.default,kg.default];cl.default=Ag;var fl={},hl={};Object.defineProperty(hl,"__esModule",{value:!0});const Fs=Ze,Xn=Fs.operators,Zs={maximum:{okStr:"<=",ok:Xn.LTE,fail:Xn.GT},minimum:{okStr:">=",ok:Xn.GTE,fail:Xn.LT},exclusiveMaximum:{okStr:"<",ok:Xn.LT,fail:Xn.GTE},exclusiveMinimum:{okStr:">",ok:Xn.GT,fail:Xn.LTE}},Rg={message:({keyword:t,schemaCode:n})=>(0,Fs.str)`must be ${Zs[t].okStr} ${n}`,params:({keyword:t,schemaCode:n})=>(0,Fs._)`{comparison: ${Zs[t].okStr}, limit: ${n}}`},Mg={keyword:Object.keys(Zs),type:"number",schemaType:"number",$data:!0,error:Rg,code(t){const{keyword:n,data:r,schemaCode:o}=t;t.fail$data((0,Fs._)`${r} ${Zs[n].fail} ${o} || isNaN(${r})`)}};hl.default=Mg;var dl={};Object.defineProperty(dl,"__esModule",{value:!0});const Ir=Ze,Ng={message:({schemaCode:t})=>(0,Ir.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Ir._)`{multipleOf: ${t}}`},Dg={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Ng,code(t){const{gen:n,data:r,schemaCode:o,it:a}=t,c=a.opts.multipleOfPrecision,u=n.let("res"),f=c?(0,Ir._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${c}`:(0,Ir._)`${u} !== parseInt(${u})`;t.fail$data((0,Ir._)`(${o} === 0 || (${u} = ${r}/${o}, ${f}))`)}};dl.default=Dg;var pl={},ml={};Object.defineProperty(ml,"__esModule",{value:!0});function ph(t){const n=t.length;let r=0,o=0,a;for(;o<n;)r++,a=t.charCodeAt(o++),a>=55296&&a<=56319&&o<n&&(a=t.charCodeAt(o),(a&64512)===56320&&o++);return r}ml.default=ph;ph.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(pl,"__esModule",{value:!0});const Ti=Ze,zg=fe,jg=ml,Bg={message({keyword:t,schemaCode:n}){const r=t==="maxLength"?"more":"fewer";return(0,Ti.str)`must NOT have ${r} than ${n} characters`},params:({schemaCode:t})=>(0,Ti._)`{limit: ${t}}`},Fg={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Bg,code(t){const{keyword:n,data:r,schemaCode:o,it:a}=t,c=n==="maxLength"?Ti.operators.GT:Ti.operators.LT,u=a.opts.unicode===!1?(0,Ti._)`${r}.length`:(0,Ti._)`${(0,zg.useFunc)(t.gen,jg.default)}(${r})`;t.fail$data((0,Ti._)`${u} ${c} ${o}`)}};pl.default=Fg;var _l={};Object.defineProperty(_l,"__esModule",{value:!0});const Zg=Fe,Vs=Ze,Vg={message:({schemaCode:t})=>(0,Vs.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Vs._)`{pattern: ${t}}`},Hg={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Vg,code(t){const{data:n,$data:r,schema:o,schemaCode:a,it:c}=t,u=c.opts.unicodeRegExp?"u":"",f=r?(0,Vs._)`(new RegExp(${a}, ${u}))`:(0,Zg.usePattern)(t,o);t.fail$data((0,Vs._)`!${f}.test(${n})`)}};_l.default=Hg;var gl={};Object.defineProperty(gl,"__esModule",{value:!0});const kr=Ze,Ug={message({keyword:t,schemaCode:n}){const r=t==="maxProperties"?"more":"fewer";return(0,kr.str)`must NOT have ${r} than ${n} properties`},params:({schemaCode:t})=>(0,kr._)`{limit: ${t}}`},qg={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Ug,code(t){const{keyword:n,data:r,schemaCode:o}=t,a=n==="maxProperties"?kr.operators.GT:kr.operators.LT;t.fail$data((0,kr._)`Object.keys(${r}).length ${a} ${o}`)}};gl.default=qg;var vl={};Object.defineProperty(vl,"__esModule",{value:!0});const br=Fe,Ar=Ze,Kg=fe,Wg={message:({params:{missingProperty:t}})=>(0,Ar.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Ar._)`{missingProperty: ${t}}`},Gg={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Wg,code(t){const{gen:n,schema:r,schemaCode:o,data:a,$data:c,it:u}=t,{opts:f}=u;if(!c&&r.length===0)return;const d=r.length>=f.loopRequired;if(u.allErrors?p():_(),f.strictRequired){const x=t.parentSchema.properties,{definedProperties:O}=t.it;for(const C of r)if((x==null?void 0:x[C])===void 0&&!O.has(C)){const A=u.schemaEnv.baseId+u.errSchemaPath,T=`required property "${C}" is not defined at "${A}" (strictRequired)`;(0,Kg.checkStrictMode)(u,T,u.opts.strictRequired)}}function p(){if(d||c)t.block$data(Ar.nil,w);else for(const x of r)(0,br.checkReportMissingProp)(t,x)}function _(){const x=n.let("missing");if(d||c){const O=n.let("valid",!0);t.block$data(O,()=>$(x,O)),t.ok(O)}else n.if((0,br.checkMissingProp)(t,r,x)),(0,br.reportMissingProp)(t,x),n.else()}function w(){n.forOf("prop",o,x=>{t.setParams({missingProperty:x}),n.if((0,br.noPropertyInData)(n,a,x,f.ownProperties),()=>t.error())})}function $(x,O){t.setParams({missingProperty:x}),n.forOf(x,o,()=>{n.assign(O,(0,br.propertyInData)(n,a,x,f.ownProperties)),n.if((0,Ar.not)(O),()=>{t.error(),n.break()})},Ar.nil)}}};vl.default=Gg;var yl={};Object.defineProperty(yl,"__esModule",{value:!0});const Rr=Ze,Jg={message({keyword:t,schemaCode:n}){const r=t==="maxItems"?"more":"fewer";return(0,Rr.str)`must NOT have ${r} than ${n} items`},params:({schemaCode:t})=>(0,Rr._)`{limit: ${t}}`},Yg={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Jg,code(t){const{keyword:n,data:r,schemaCode:o}=t,a=n==="maxItems"?Rr.operators.GT:Rr.operators.LT;t.fail$data((0,Rr._)`${r}.length ${a} ${o}`)}};yl.default=Yg;var wl={},Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});const mh=oh;mh.code='require("ajv/dist/runtime/equal").default';Hr.default=mh;Object.defineProperty(wl,"__esModule",{value:!0});const ea=wt,xt=Ze,Xg=fe,Qg=Hr,ev={message:({params:{i:t,j:n}})=>(0,xt.str)`must NOT have duplicate items (items ## ${n} and ${t} are identical)`,params:({params:{i:t,j:n}})=>(0,xt._)`{i: ${t}, j: ${n}}`},tv={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:ev,code(t){const{gen:n,data:r,$data:o,schema:a,parentSchema:c,schemaCode:u,it:f}=t;if(!o&&!a)return;const d=n.let("valid"),p=c.items?(0,ea.getSchemaTypes)(c.items):[];t.block$data(d,_,(0,xt._)`${u} === false`),t.ok(d);function _(){const O=n.let("i",(0,xt._)`${r}.length`),C=n.let("j");t.setParams({i:O,j:C}),n.assign(d,!0),n.if((0,xt._)`${O} > 1`,()=>(w()?$:x)(O,C))}function w(){return p.length>0&&!p.some(O=>O==="object"||O==="array")}function $(O,C){const A=n.name("item"),T=(0,ea.checkDataTypes)(p,A,f.opts.strictNumbers,ea.DataType.Wrong),B=n.const("indices",(0,xt._)`{}`);n.for((0,xt._)`;${O}--;`,()=>{n.let(A,(0,xt._)`${r}[${O}]`),n.if(T,(0,xt._)`continue`),p.length>1&&n.if((0,xt._)`typeof ${A} == "string"`,(0,xt._)`${A} += "_"`),n.if((0,xt._)`typeof ${B}[${A}] == "number"`,()=>{n.assign(C,(0,xt._)`${B}[${A}]`),t.error(),n.assign(d,!1).break()}).code((0,xt._)`${B}[${A}] = ${O}`)})}function x(O,C){const A=(0,Xg.useFunc)(n,Qg.default),T=n.name("outer");n.label(T).for((0,xt._)`;${O}--;`,()=>n.for((0,xt._)`${C} = ${O}; ${C}--;`,()=>n.if((0,xt._)`${A}(${r}[${O}], ${r}[${C}])`,()=>{t.error(),n.assign(d,!1).break(T)})))}}};wl.default=tv;var bl={};Object.defineProperty(bl,"__esModule",{value:!0});const Ea=Ze,nv=fe,iv=Hr,rv={message:"must be equal to constant",params:({schemaCode:t})=>(0,Ea._)`{allowedValue: ${t}}`},sv={keyword:"const",$data:!0,error:rv,code(t){const{gen:n,data:r,$data:o,schemaCode:a,schema:c}=t;o||c&&typeof c=="object"?t.fail$data((0,Ea._)`!${(0,nv.useFunc)(n,iv.default)}(${r}, ${a})`):t.fail((0,Ea._)`${c} !== ${r}`)}};bl.default=sv;var Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});const $r=Ze,ov=fe,av=Hr,lv={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,$r._)`{allowedValues: ${t}}`},cv={keyword:"enum",schemaType:"array",$data:!0,error:lv,code(t){const{gen:n,data:r,$data:o,schema:a,schemaCode:c,it:u}=t;if(!o&&a.length===0)throw new Error("enum must have non-empty array");const f=a.length>=u.opts.loopEnum;let d;const p=()=>d??(d=(0,ov.useFunc)(n,av.default));let _;if(f||o)_=n.let("valid"),t.block$data(_,w);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const x=n.const("vSchema",c);_=(0,$r.or)(...a.map((O,C)=>$(x,C)))}t.pass(_);function w(){n.assign(_,!1),n.forOf("v",c,x=>n.if((0,$r._)`${p()}(${r}, ${x})`,()=>n.assign(_,!0).break()))}function $(x,O){const C=a[O];return typeof C=="object"&&C!==null?(0,$r._)`${p()}(${r}, ${x}[${O}])`:(0,$r._)`${r} === ${C}`}}};Pl.default=cv;Object.defineProperty(fl,"__esModule",{value:!0});const uv=hl,fv=dl,hv=pl,dv=_l,pv=gl,mv=vl,_v=yl,gv=wl,vv=bl,yv=Pl,wv=[uv.default,fv.default,hv.default,dv.default,pv.default,mv.default,_v.default,gv.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},vv.default,yv.default];fl.default=wv;var $l={},or={};Object.defineProperty(or,"__esModule",{value:!0});or.validateAdditionalItems=void 0;const Ci=Ze,Ta=fe,bv={message:({params:{len:t}})=>(0,Ci.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Ci._)`{limit: ${t}}`},Pv={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:bv,code(t){const{parentSchema:n,it:r}=t,{items:o}=n;if(!Array.isArray(o)){(0,Ta.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}_h(t,o)}};function _h(t,n){const{gen:r,schema:o,data:a,keyword:c,it:u}=t;u.items=!0;const f=r.const("len",(0,Ci._)`${a}.length`);if(o===!1)t.setParams({len:n.length}),t.pass((0,Ci._)`${f} <= ${n.length}`);else if(typeof o=="object"&&!(0,Ta.alwaysValidSchema)(u,o)){const p=r.var("valid",(0,Ci._)`${f} <= ${n.length}`);r.if((0,Ci.not)(p),()=>d(p)),t.ok(p)}function d(p){r.forRange("i",n.length,f,_=>{t.subschema({keyword:c,dataProp:_,dataPropType:Ta.Type.Num},p),u.allErrors||r.if((0,Ci.not)(p),()=>r.break())})}}or.validateAdditionalItems=_h;or.default=Pv;var Sl={},ar={};Object.defineProperty(ar,"__esModule",{value:!0});ar.validateTuple=void 0;const Pu=Ze,As=fe,$v=Fe,Sv={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:n,it:r}=t;if(Array.isArray(n))return gh(t,"additionalItems",n);r.items=!0,!(0,As.alwaysValidSchema)(r,n)&&t.ok((0,$v.validateArray)(t))}};function gh(t,n,r=t.schema){const{gen:o,parentSchema:a,data:c,keyword:u,it:f}=t;_(a),f.opts.unevaluated&&r.length&&f.items!==!0&&(f.items=As.mergeEvaluated.items(o,r.length,f.items));const d=o.name("valid"),p=o.const("len",(0,Pu._)`${c}.length`);r.forEach((w,$)=>{(0,As.alwaysValidSchema)(f,w)||(o.if((0,Pu._)`${p} > ${$}`,()=>t.subschema({keyword:u,schemaProp:$,dataProp:$},d)),t.ok(d))});function _(w){const{opts:$,errSchemaPath:x}=f,O=r.length,C=O===w.minItems&&(O===w.maxItems||w[n]===!1);if($.strictTuples&&!C){const A=`"${u}" is ${O}-tuple, but minItems or maxItems/${n} are not specified or different at path "${x}"`;(0,As.checkStrictMode)(f,A,$.strictTuples)}}}ar.validateTuple=gh;ar.default=Sv;Object.defineProperty(Sl,"__esModule",{value:!0});const Ev=ar,Tv={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,Ev.validateTuple)(t,"items")};Sl.default=Tv;var El={};Object.defineProperty(El,"__esModule",{value:!0});const $u=Ze,Cv=fe,Lv=Fe,xv=or,Ov={message:({params:{len:t}})=>(0,$u.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,$u._)`{limit: ${t}}`},Iv={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Ov,code(t){const{schema:n,parentSchema:r,it:o}=t,{prefixItems:a}=r;o.items=!0,!(0,Cv.alwaysValidSchema)(o,n)&&(a?(0,xv.validateAdditionalItems)(t,a):t.ok((0,Lv.validateArray)(t)))}};El.default=Iv;var Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});const rn=Ze,$s=fe,kv={message:({params:{min:t,max:n}})=>n===void 0?(0,rn.str)`must contain at least ${t} valid item(s)`:(0,rn.str)`must contain at least ${t} and no more than ${n} valid item(s)`,params:({params:{min:t,max:n}})=>n===void 0?(0,rn._)`{minContains: ${t}}`:(0,rn._)`{minContains: ${t}, maxContains: ${n}}`},Av={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:kv,code(t){const{gen:n,schema:r,parentSchema:o,data:a,it:c}=t;let u,f;const{minContains:d,maxContains:p}=o;c.opts.next?(u=d===void 0?1:d,f=p):u=1;const _=n.const("len",(0,rn._)`${a}.length`);if(t.setParams({min:u,max:f}),f===void 0&&u===0){(0,$s.checkStrictMode)(c,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(f!==void 0&&u>f){(0,$s.checkStrictMode)(c,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,$s.alwaysValidSchema)(c,r)){let C=(0,rn._)`${_} >= ${u}`;f!==void 0&&(C=(0,rn._)`${C} && ${_} <= ${f}`),t.pass(C);return}c.items=!0;const w=n.name("valid");f===void 0&&u===1?x(w,()=>n.if(w,()=>n.break())):u===0?(n.let(w,!0),f!==void 0&&n.if((0,rn._)`${a}.length > 0`,$)):(n.let(w,!1),$()),t.result(w,()=>t.reset());function $(){const C=n.name("_valid"),A=n.let("count",0);x(C,()=>n.if(C,()=>O(A)))}function x(C,A){n.forRange("i",0,_,T=>{t.subschema({keyword:"contains",dataProp:T,dataPropType:$s.Type.Num,compositeRule:!0},C),A()})}function O(C){n.code((0,rn._)`${C}++`),f===void 0?n.if((0,rn._)`${C} >= ${u}`,()=>n.assign(w,!0).break()):(n.if((0,rn._)`${C} > ${f}`,()=>n.assign(w,!1).break()),u===1?n.assign(w,!0):n.if((0,rn._)`${C} >= ${u}`,()=>n.assign(w,!0)))}}};Tl.default=Av;var vh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const n=Ze,r=fe,o=Fe;t.error={message:({params:{property:d,depsCount:p,deps:_}})=>{const w=p===1?"property":"properties";return(0,n.str)`must have ${w} ${_} when property ${d} is present`},params:({params:{property:d,depsCount:p,deps:_,missingProperty:w}})=>(0,n._)`{property: ${d},
    missingProperty: ${w},
    depsCount: ${p},
    deps: ${_}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(d){const[p,_]=c(d);u(d,p),f(d,_)}};function c({schema:d}){const p={},_={};for(const w in d){if(w==="__proto__")continue;const $=Array.isArray(d[w])?p:_;$[w]=d[w]}return[p,_]}function u(d,p=d.schema){const{gen:_,data:w,it:$}=d;if(Object.keys(p).length===0)return;const x=_.let("missing");for(const O in p){const C=p[O];if(C.length===0)continue;const A=(0,o.propertyInData)(_,w,O,$.opts.ownProperties);d.setParams({property:O,depsCount:C.length,deps:C.join(", ")}),$.allErrors?_.if(A,()=>{for(const T of C)(0,o.checkReportMissingProp)(d,T)}):(_.if((0,n._)`${A} && (${(0,o.checkMissingProp)(d,C,x)})`),(0,o.reportMissingProp)(d,x),_.else())}}t.validatePropertyDeps=u;function f(d,p=d.schema){const{gen:_,data:w,keyword:$,it:x}=d,O=_.name("valid");for(const C in p)(0,r.alwaysValidSchema)(x,p[C])||(_.if((0,o.propertyInData)(_,w,C,x.opts.ownProperties),()=>{const A=d.subschema({keyword:$,schemaProp:C},O);d.mergeValidEvaluated(A,O)},()=>_.var(O,!0)),d.ok(O))}t.validateSchemaDeps=f,t.default=a})(vh);var Cl={};Object.defineProperty(Cl,"__esModule",{value:!0});const yh=Ze,Rv=fe,Mv={message:"property name must be valid",params:({params:t})=>(0,yh._)`{propertyName: ${t.propertyName}}`},Nv={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Mv,code(t){const{gen:n,schema:r,data:o,it:a}=t;if((0,Rv.alwaysValidSchema)(a,r))return;const c=n.name("valid");n.forIn("key",o,u=>{t.setParams({propertyName:u}),t.subschema({keyword:"propertyNames",data:u,dataTypes:["string"],propertyName:u,compositeRule:!0},c),n.if((0,yh.not)(c),()=>{t.error(!0),a.allErrors||n.break()})}),t.ok(c)}};Cl.default=Nv;var co={};Object.defineProperty(co,"__esModule",{value:!0});const Ss=Fe,gn=Ze,Dv=kn,Es=fe,zv={message:"must NOT have additional properties",params:({params:t})=>(0,gn._)`{additionalProperty: ${t.additionalProperty}}`},jv={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:zv,code(t){const{gen:n,schema:r,parentSchema:o,data:a,errsCount:c,it:u}=t;if(!c)throw new Error("ajv implementation error");const{allErrors:f,opts:d}=u;if(u.props=!0,d.removeAdditional!=="all"&&(0,Es.alwaysValidSchema)(u,r))return;const p=(0,Ss.allSchemaProperties)(o.properties),_=(0,Ss.allSchemaProperties)(o.patternProperties);w(),t.ok((0,gn._)`${c} === ${Dv.default.errors}`);function w(){n.forIn("key",a,A=>{!p.length&&!_.length?O(A):n.if($(A),()=>O(A))})}function $(A){let T;if(p.length>8){const B=(0,Es.schemaRefOrVal)(u,o.properties,"properties");T=(0,Ss.isOwnProperty)(n,B,A)}else p.length?T=(0,gn.or)(...p.map(B=>(0,gn._)`${A} === ${B}`)):T=gn.nil;return _.length&&(T=(0,gn.or)(T,..._.map(B=>(0,gn._)`${(0,Ss.usePattern)(t,B)}.test(${A})`))),(0,gn.not)(T)}function x(A){n.code((0,gn._)`delete ${a}[${A}]`)}function O(A){if(d.removeAdditional==="all"||d.removeAdditional&&r===!1){x(A);return}if(r===!1){t.setParams({additionalProperty:A}),t.error(),f||n.break();return}if(typeof r=="object"&&!(0,Es.alwaysValidSchema)(u,r)){const T=n.name("valid");d.removeAdditional==="failing"?(C(A,T,!1),n.if((0,gn.not)(T),()=>{t.reset(),x(A)})):(C(A,T),f||n.if((0,gn.not)(T),()=>n.break()))}}function C(A,T,B){const U={keyword:"additionalProperties",dataProp:A,dataPropType:Es.Type.Str};B===!1&&Object.assign(U,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(U,T)}}};co.default=jv;var Ll={};Object.defineProperty(Ll,"__esModule",{value:!0});const Bv=oo(),Su=Fe,ta=fe,Eu=co,Fv={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:n,schema:r,parentSchema:o,data:a,it:c}=t;c.opts.removeAdditional==="all"&&o.additionalProperties===void 0&&Eu.default.code(new Bv.KeywordCxt(c,Eu.default,"additionalProperties"));const u=(0,Su.allSchemaProperties)(r);for(const w of u)c.definedProperties.add(w);c.opts.unevaluated&&u.length&&c.props!==!0&&(c.props=ta.mergeEvaluated.props(n,(0,ta.toHash)(u),c.props));const f=u.filter(w=>!(0,ta.alwaysValidSchema)(c,r[w]));if(f.length===0)return;const d=n.name("valid");for(const w of f)p(w)?_(w):(n.if((0,Su.propertyInData)(n,a,w,c.opts.ownProperties)),_(w),c.allErrors||n.else().var(d,!0),n.endIf()),t.it.definedProperties.add(w),t.ok(d);function p(w){return c.opts.useDefaults&&!c.compositeRule&&r[w].default!==void 0}function _(w){t.subschema({keyword:"properties",schemaProp:w,dataProp:w},d)}}};Ll.default=Fv;var xl={};Object.defineProperty(xl,"__esModule",{value:!0});const Tu=Fe,Ts=Ze,Cu=fe,Lu=fe,Zv={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:n,schema:r,data:o,parentSchema:a,it:c}=t,{opts:u}=c,f=(0,Tu.allSchemaProperties)(r),d=f.filter(C=>(0,Cu.alwaysValidSchema)(c,r[C]));if(f.length===0||d.length===f.length&&(!c.opts.unevaluated||c.props===!0))return;const p=u.strictSchema&&!u.allowMatchingProperties&&a.properties,_=n.name("valid");c.props!==!0&&!(c.props instanceof Ts.Name)&&(c.props=(0,Lu.evaluatedPropsToName)(n,c.props));const{props:w}=c;$();function $(){for(const C of f)p&&x(C),c.allErrors?O(C):(n.var(_,!0),O(C),n.if(_))}function x(C){for(const A in p)new RegExp(C).test(A)&&(0,Cu.checkStrictMode)(c,`property ${A} matches pattern ${C} (use allowMatchingProperties)`)}function O(C){n.forIn("key",o,A=>{n.if((0,Ts._)`${(0,Tu.usePattern)(t,C)}.test(${A})`,()=>{const T=d.includes(C);T||t.subschema({keyword:"patternProperties",schemaProp:C,dataProp:A,dataPropType:Lu.Type.Str},_),c.opts.unevaluated&&w!==!0?n.assign((0,Ts._)`${w}[${A}]`,!0):!T&&!c.allErrors&&n.if((0,Ts.not)(_),()=>n.break())})})}}};xl.default=Zv;var Ol={};Object.defineProperty(Ol,"__esModule",{value:!0});const Vv=fe,Hv={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:n,schema:r,it:o}=t;if((0,Vv.alwaysValidSchema)(o,r)){t.fail();return}const a=n.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),t.failResult(a,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};Ol.default=Hv;var Il={};Object.defineProperty(Il,"__esModule",{value:!0});const Uv=Fe,qv={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Uv.validateUnion,error:{message:"must match a schema in anyOf"}};Il.default=qv;var kl={};Object.defineProperty(kl,"__esModule",{value:!0});const Rs=Ze,Kv=fe,Wv={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,Rs._)`{passingSchemas: ${t.passing}}`},Gv={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Wv,code(t){const{gen:n,schema:r,parentSchema:o,it:a}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&o.discriminator)return;const c=r,u=n.let("valid",!1),f=n.let("passing",null),d=n.name("_valid");t.setParams({passing:f}),n.block(p),t.result(u,()=>t.reset(),()=>t.error(!0));function p(){c.forEach((_,w)=>{let $;(0,Kv.alwaysValidSchema)(a,_)?n.var(d,!0):$=t.subschema({keyword:"oneOf",schemaProp:w,compositeRule:!0},d),w>0&&n.if((0,Rs._)`${d} && ${u}`).assign(u,!1).assign(f,(0,Rs._)`[${f}, ${w}]`).else(),n.if(d,()=>{n.assign(u,!0),n.assign(f,w),$&&t.mergeEvaluated($,Rs.Name)})})}}};kl.default=Gv;var Al={};Object.defineProperty(Al,"__esModule",{value:!0});const Jv=fe,Yv={keyword:"allOf",schemaType:"array",code(t){const{gen:n,schema:r,it:o}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=n.name("valid");r.forEach((c,u)=>{if((0,Jv.alwaysValidSchema)(o,c))return;const f=t.subschema({keyword:"allOf",schemaProp:u},a);t.ok(a),t.mergeEvaluated(f)})}};Al.default=Yv;var Rl={};Object.defineProperty(Rl,"__esModule",{value:!0});const Hs=Ze,wh=fe,Xv={message:({params:t})=>(0,Hs.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,Hs._)`{failingKeyword: ${t.ifClause}}`},Qv={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Xv,code(t){const{gen:n,parentSchema:r,it:o}=t;r.then===void 0&&r.else===void 0&&(0,wh.checkStrictMode)(o,'"if" without "then" and "else" is ignored');const a=xu(o,"then"),c=xu(o,"else");if(!a&&!c)return;const u=n.let("valid",!0),f=n.name("_valid");if(d(),t.reset(),a&&c){const _=n.let("ifClause");t.setParams({ifClause:_}),n.if(f,p("then",_),p("else",_))}else a?n.if(f,p("then")):n.if((0,Hs.not)(f),p("else"));t.pass(u,()=>t.error(!0));function d(){const _=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},f);t.mergeEvaluated(_)}function p(_,w){return()=>{const $=t.subschema({keyword:_},f);n.assign(u,f),t.mergeValidEvaluated($,u),w?n.assign(w,(0,Hs._)`${_}`):t.setParams({ifClause:_})}}}};function xu(t,n){const r=t.schema[n];return r!==void 0&&!(0,wh.alwaysValidSchema)(t,r)}Rl.default=Qv;var Ml={};Object.defineProperty(Ml,"__esModule",{value:!0});const ey=fe,ty={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:n,it:r}){n.if===void 0&&(0,ey.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};Ml.default=ty;Object.defineProperty($l,"__esModule",{value:!0});const ny=or,iy=Sl,ry=ar,sy=El,oy=Tl,ay=vh,ly=Cl,cy=co,uy=Ll,fy=xl,hy=Ol,dy=Il,py=kl,my=Al,_y=Rl,gy=Ml;function vy(t=!1){const n=[hy.default,dy.default,py.default,my.default,_y.default,gy.default,ly.default,cy.default,ay.default,uy.default,fy.default];return t?n.push(iy.default,sy.default):n.push(ny.default,ry.default),n.push(oy.default),n}$l.default=vy;var Nl={},Dl={};Object.defineProperty(Dl,"__esModule",{value:!0});const dt=Ze,yy={message:({schemaCode:t})=>(0,dt.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,dt._)`{format: ${t}}`},wy={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:yy,code(t,n){const{gen:r,data:o,$data:a,schema:c,schemaCode:u,it:f}=t,{opts:d,errSchemaPath:p,schemaEnv:_,self:w}=f;if(!d.validateFormats)return;a?$():x();function $(){const O=r.scopeValue("formats",{ref:w.formats,code:d.code.formats}),C=r.const("fDef",(0,dt._)`${O}[${u}]`),A=r.let("fType"),T=r.let("format");r.if((0,dt._)`typeof ${C} == "object" && !(${C} instanceof RegExp)`,()=>r.assign(A,(0,dt._)`${C}.type || "string"`).assign(T,(0,dt._)`${C}.validate`),()=>r.assign(A,(0,dt._)`"string"`).assign(T,C)),t.fail$data((0,dt.or)(B(),U()));function B(){return d.strictSchema===!1?dt.nil:(0,dt._)`${u} && !${T}`}function U(){const J=_.$async?(0,dt._)`(${C}.async ? await ${T}(${o}) : ${T}(${o}))`:(0,dt._)`${T}(${o})`,Y=(0,dt._)`(typeof ${T} == "function" ? ${J} : ${T}.test(${o}))`;return(0,dt._)`${T} && ${T} !== true && ${A} === ${n} && !${Y}`}}function x(){const O=w.formats[c];if(!O){B();return}if(O===!0)return;const[C,A,T]=U(O);C===n&&t.pass(J());function B(){if(d.strictSchema===!1){w.logger.warn(Y());return}throw new Error(Y());function Y(){return`unknown format "${c}" ignored in schema at path "${p}"`}}function U(Y){const ce=Y instanceof RegExp?(0,dt.regexpCode)(Y):d.code.formats?(0,dt._)`${d.code.formats}${(0,dt.getProperty)(c)}`:void 0,ye=r.scopeValue("formats",{key:c,ref:Y,code:ce});return typeof Y=="object"&&!(Y instanceof RegExp)?[Y.type||"string",Y.validate,(0,dt._)`${ye}.validate`]:["string",Y,ye]}function J(){if(typeof O=="object"&&!(O instanceof RegExp)&&O.async){if(!_.$async)throw new Error("async format in sync schema");return(0,dt._)`await ${T}(${o})`}return typeof A=="function"?(0,dt._)`${T}(${o})`:(0,dt._)`${T}.test(${o})`}}}};Dl.default=wy;Object.defineProperty(Nl,"__esModule",{value:!0});const by=Dl,Py=[by.default];Nl.default=Py;var ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.contentVocabulary=ir.metadataVocabulary=void 0;ir.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];ir.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(ll,"__esModule",{value:!0});const $y=cl,Sy=fl,Ey=$l,Ty=Nl,Ou=ir,Cy=[$y.default,Sy.default,(0,Ey.default)(),Ty.default,Ou.metadataVocabulary,Ou.contentVocabulary];ll.default=Cy;var zl={},uo={};Object.defineProperty(uo,"__esModule",{value:!0});uo.DiscrError=void 0;var Iu;(function(t){t.Tag="tag",t.Mapping="mapping"})(Iu||(uo.DiscrError=Iu={}));Object.defineProperty(zl,"__esModule",{value:!0});const Wi=Ze,Ca=uo,ku=Vt,Ly=sr,xy=fe,Oy={message:({params:{discrError:t,tagName:n}})=>t===Ca.DiscrError.Tag?`tag "${n}" must be string`:`value of tag "${n}" must be in oneOf`,params:({params:{discrError:t,tag:n,tagName:r}})=>(0,Wi._)`{error: ${t}, tag: ${r}, tagValue: ${n}}`},Iy={keyword:"discriminator",type:"object",schemaType:"object",error:Oy,code(t){const{gen:n,data:r,schema:o,parentSchema:a,it:c}=t,{oneOf:u}=a;if(!c.opts.discriminator)throw new Error("discriminator: requires discriminator option");const f=o.propertyName;if(typeof f!="string")throw new Error("discriminator: requires propertyName");if(o.mapping)throw new Error("discriminator: mapping is not supported");if(!u)throw new Error("discriminator: requires oneOf keyword");const d=n.let("valid",!1),p=n.const("tag",(0,Wi._)`${r}${(0,Wi.getProperty)(f)}`);n.if((0,Wi._)`typeof ${p} == "string"`,()=>_(),()=>t.error(!1,{discrError:Ca.DiscrError.Tag,tag:p,tagName:f})),t.ok(d);function _(){const x=$();n.if(!1);for(const O in x)n.elseIf((0,Wi._)`${p} === ${O}`),n.assign(d,w(x[O]));n.else(),t.error(!1,{discrError:Ca.DiscrError.Mapping,tag:p,tagName:f}),n.endIf()}function w(x){const O=n.name("valid"),C=t.subschema({keyword:"oneOf",schemaProp:x},O);return t.mergeEvaluated(C,Wi.Name),O}function $(){var x;const O={},C=T(a);let A=!0;for(let J=0;J<u.length;J++){let Y=u[J];if(Y!=null&&Y.$ref&&!(0,xy.schemaHasRulesButRef)(Y,c.self.RULES)){const ye=Y.$ref;if(Y=ku.resolveRef.call(c.self,c.schemaEnv.root,c.baseId,ye),Y instanceof ku.SchemaEnv&&(Y=Y.schema),Y===void 0)throw new Ly.default(c.opts.uriResolver,c.baseId,ye)}const ce=(x=Y==null?void 0:Y.properties)===null||x===void 0?void 0:x[f];if(typeof ce!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${f}"`);A=A&&(C||T(Y)),B(ce,J)}if(!A)throw new Error(`discriminator: "${f}" must be required`);return O;function T({required:J}){return Array.isArray(J)&&J.includes(f)}function B(J,Y){if(J.const)U(J.const,Y);else if(J.enum)for(const ce of J.enum)U(ce,Y);else throw new Error(`discriminator: "properties/${f}" must have "const" or "enum"`)}function U(J,Y){if(typeof J!="string"||J in O)throw new Error(`discriminator: "${f}" values must be unique strings`);O[J]=Y}}}};zl.default=Iy;const ky="http://json-schema.org/draft-07/schema#",Ay="http://json-schema.org/draft-07/schema#",Ry="Core schema meta-schema",My={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Ny=["object","boolean"],Dy={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},zy={$schema:ky,$id:Ay,title:Ry,definitions:My,type:Ny,properties:Dy,default:!0};(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MissingRefError=n.ValidationError=n.CodeGen=n.Name=n.nil=n.stringify=n.str=n._=n.KeywordCxt=n.Ajv=void 0;const r=Kf,o=ll,a=zl,c=zy,u=["/properties"],f="http://json-schema.org/draft-07/schema";class d extends r.default{_addVocabularies(){super._addVocabularies(),o.default.forEach(O=>this.addVocabulary(O)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const O=this.opts.$data?this.$dataMetaSchema(c,u):c;this.addMetaSchema(O,f,!1),this.refs["http://json-schema.org/schema"]=f}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(f)?f:void 0)}}n.Ajv=d,t.exports=n=d,t.exports.Ajv=d,Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var p=oo();Object.defineProperty(n,"KeywordCxt",{enumerable:!0,get:function(){return p.KeywordCxt}});var _=Ze;Object.defineProperty(n,"_",{enumerable:!0,get:function(){return _._}}),Object.defineProperty(n,"str",{enumerable:!0,get:function(){return _.str}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return _.stringify}}),Object.defineProperty(n,"nil",{enumerable:!0,get:function(){return _.nil}}),Object.defineProperty(n,"Name",{enumerable:!0,get:function(){return _.Name}}),Object.defineProperty(n,"CodeGen",{enumerable:!0,get:function(){return _.CodeGen}});var w=sl();Object.defineProperty(n,"ValidationError",{enumerable:!0,get:function(){return w.default}});var $=sr;Object.defineProperty(n,"MissingRefError",{enumerable:!0,get:function(){return $.default}})})(ya,ya.exports);var jy=ya.exports;const By=qf(jy),Ur=new By({coerceTypes:!0}),Fy={type:"object",properties:{Name:{type:"string"}},required:["Name"],additionalProperties:!0},Zy=Ur.compile(Fy),Vy={type:"object",properties:{Artist:{type:"string"},Description:{type:"string",nullable:!0},Photograph:{type:"object",properties:{Image:{type:"string"},Photographer:{type:"string"}},required:["Image","Photographer"],nullable:!0},Location:{type:"object",properties:{Coordinates:{type:"string",nullable:!0},"Located On":{type:"string"}},required:["Located On"]},Medium:{type:"string"},Title:{type:"string"}},required:["Artist","Title","Location"],additionalProperties:!0},La=Ur.compile(Vy),Hy={type:"object",properties:{type:{type:"string"},features:{type:"array",items:{type:"object",properties:{id:{type:"string"},type:{type:"string"},geometry:{type:"object",properties:{type:{type:"string"},coordinates:{type:"array",items:{type:"number"}}},required:["type","coordinates"]},properties:{type:"object",properties:{nodeId:{type:"string"}},required:["nodeId"]}},required:["id","type","properties"]}}},nullable:!0,required:["type","features"]};Ur.compile(Hy);var On=(t=>(t.ARTWORK="Artwork",t.ARTIST="Artist",t.STRUCTURE="Structure",t.PHOTOGRAPHER="Photographer",t))(On||{});const Uy={type:"object",properties:{Name:{type:"string"}},required:["Name"],additionalProperties:!0},qy=Ur.compile(Uy),Ky={type:"object",properties:{Location:{type:"object",properties:{Address:{type:"string"},Coordinates:{type:"string",nullable:!0}},required:["Address"]}},required:["Location"],additionalProperties:!0},Wy=Ur.compile(Ky),bh=(t,n,r,o)=>{let a;if(o.graphIdToNameTable[t.graph_id]==="Artwork")return a=n.find(u=>u.resourceinstance_id===t.resourceinstanceid),(a==null?void 0:a.data[o.imageNodeId])??void 0;const c=r.find(u=>u.resourceinstanceidto_id===t.resourceinstanceid&&u.resourceinstancefrom_graphid_id===o.nameToGraphIdTable.Artwork);if(c)return a=n.find(u=>u.resourceinstance_id===c.resourceinstanceidfrom_id),(a==null?void 0:a.data[o.imageNodeId])??void 0},Gy=(t,n,r,o)=>{if(o.graphIdToNameTable[t.graph_id]!=="Artist")return;const a=r.filter(f=>f.resourceinstanceidto_id===t.resourceinstanceid&&f.resourceinstancefrom_graphid_id===o.nameToGraphIdTable.Artwork);if(!a)return;const c=a.map(f=>f.resourceinstanceidfrom_id);return n.filter(f=>c.includes(f.resourceinstanceid))??void 0},Jy=t=>(Ua("data-v-6d780adc"),t=t(),qa(),t),Yy={class:"search-list-container"},Xy={class:"search-header"},Qy=Jy(()=>Le("div",null,"Explore the artwork as a list",-1)),e0={class:"resource-selection-menu"},t0={class:"search-results"},n0=an({__name:"SearchList",props:{resourcesPrefetch:{},imagesPrefetch:{},resourceRelationsPrefetch:{},idReferences:{}},setup(t){const n=Et(""),r=Et(null),o=t,a=Ya(()=>o.resourcesPrefetch.filter(f=>{const d=f.descriptors.en.name.toLowerCase().includes(n.value.toLowerCase()),p=r.value?o.idReferences.graphIdToNameTable[f.graph_id]===r.value:!0;return d&&p})),c=()=>{r.value=null},u=f=>{r.value=f};return(f,d)=>(xe(),Je("div",Yy,[Le("div",Xy,[Qy,Le("div",e0,[Le("button",{class:vn({active:r.value===null}),onClick:c}," Everything ",2),Le("button",{class:vn({active:r.value==="Artist"}),onClick:d[0]||(d[0]=p=>u("Artist"))}," Artists ",2),Le("button",{class:vn({active:r.value==="Artwork"}),onClick:d[1]||(d[1]=p=>u("Artwork"))}," Artworks ",2),Le("button",{class:vn({active:r.value==="Photographer"}),onClick:d[2]||(d[2]=p=>u("Photographer"))}," Photographers ",2),Le("button",{class:vn({active:r.value==="Structure"}),onClick:d[3]||(d[3]=p=>u("Structure"))}," Structures ",2)]),Sp(Le("input",{"onUpdate:modelValue":d[4]||(d[4]=p=>n.value=p),class:"search-bar",placeholder:"Search names..."},null,512),[[Um,n.value]])]),Le("div",t0,[(xe(!0),Je(_t,null,Tr(a.value,p=>(xe(),jt(h_,{key:p.resourceinstanceid,"resource-name":p.descriptors.en.name,"resource-description":p.descriptors.en.description,"resource-id":p.resourceinstanceid,"resource-type":o.idReferences.graphIdToNameTable[p.graph_id],"image-tile-data":Pe(bh)(p,o.imagesPrefetch,o.resourceRelationsPrefetch,o.idReferences)},null,8,["resource-name","resource-description","resource-id","resource-type","image-tile-data"]))),128))])]))}}),i0=In(n0,[["__scopeId","data-v-6d780adc"]]);var xa={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,n){(function(r,o){o(n)})(Uf,function(r){var o="1.9.4";function a(e){var i,s,l,h;for(s=1,l=arguments.length;s<l;s++){h=arguments[s];for(i in h)e[i]=h[i]}return e}var c=Object.create||function(){function e(){}return function(i){return e.prototype=i,new e}}();function u(e,i){var s=Array.prototype.slice;if(e.bind)return e.bind.apply(e,s.call(arguments,1));var l=s.call(arguments,2);return function(){return e.apply(i,l.length?l.concat(s.call(arguments)):arguments)}}var f=0;function d(e){return"_leaflet_id"in e||(e._leaflet_id=++f),e._leaflet_id}function p(e,i,s){var l,h,m,S;return S=function(){l=!1,h&&(m.apply(s,h),h=!1)},m=function(){l?h=arguments:(e.apply(s,arguments),setTimeout(S,i),l=!0)},m}function _(e,i,s){var l=i[1],h=i[0],m=l-h;return e===l&&s?e:((e-h)%m+m)%m+h}function w(){return!1}function $(e,i){if(i===!1)return e;var s=Math.pow(10,i===void 0?6:i);return Math.round(e*s)/s}function x(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function O(e){return x(e).split(/\s+/)}function C(e,i){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?c(e.options):{});for(var s in i)e.options[s]=i[s];return e.options}function A(e,i,s){var l=[];for(var h in e)l.push(encodeURIComponent(s?h.toUpperCase():h)+"="+encodeURIComponent(e[h]));return(!i||i.indexOf("?")===-1?"?":"&")+l.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function B(e,i){return e.replace(T,function(s,l){var h=i[l];if(h===void 0)throw new Error("No value provided for variable "+s);return typeof h=="function"&&(h=h(i)),h})}var U=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function J(e,i){for(var s=0;s<e.length;s++)if(e[s]===i)return s;return-1}var Y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ce(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var ye=0;function oe(e){var i=+new Date,s=Math.max(0,16-(i-ye));return ye=i+s,window.setTimeout(e,s)}var he=window.requestAnimationFrame||ce("RequestAnimationFrame")||oe,$e=window.cancelAnimationFrame||ce("CancelAnimationFrame")||ce("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function we(e,i,s){if(s&&he===oe)e.call(i);else return he.call(window,u(e,i))}function ne(e){e&&$e.call(window,e)}var Se={__proto__:null,extend:a,create:c,bind:u,get lastId(){return f},stamp:d,throttle:p,wrapNum:_,falseFn:w,formatNum:$,trim:x,splitWords:O,setOptions:C,getParamString:A,template:B,isArray:U,indexOf:J,emptyImageUrl:Y,requestFn:he,cancelFn:$e,requestAnimFrame:we,cancelAnimFrame:ne};function be(){}be.extend=function(e){var i=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},s=i.__super__=this.prototype,l=c(s);l.constructor=i,i.prototype=l;for(var h in this)Object.prototype.hasOwnProperty.call(this,h)&&h!=="prototype"&&h!=="__super__"&&(i[h]=this[h]);return e.statics&&a(i,e.statics),e.includes&&(ot(e.includes),a.apply(null,[l].concat(e.includes))),a(l,e),delete l.statics,delete l.includes,l.options&&(l.options=s.options?c(s.options):{},a(l.options,e.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){s.callInitHooks&&s.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,S=l._initHooks.length;m<S;m++)l._initHooks[m].call(this)}},i},be.include=function(e){var i=this.prototype.options;return a(this.prototype,e),e.options&&(this.prototype.options=i,this.mergeOptions(e.options)),this},be.mergeOptions=function(e){return a(this.prototype.options,e),this},be.addInitHook=function(e){var i=Array.prototype.slice.call(arguments,1),s=typeof e=="function"?e:function(){this[e].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(s),this};function ot(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=U(e)?e:[e];for(var i=0;i<e.length;i++)e[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ge={on:function(e,i,s){if(typeof e=="object")for(var l in e)this._on(l,e[l],i);else{e=O(e);for(var h=0,m=e.length;h<m;h++)this._on(e[h],i,s)}return this},off:function(e,i,s){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var l in e)this._off(l,e[l],i);else{e=O(e);for(var h=arguments.length===1,m=0,S=e.length;m<S;m++)h?this._off(e[m]):this._off(e[m],i,s)}return this},_on:function(e,i,s,l){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(e,i,s)===!1){s===this&&(s=void 0);var h={fn:i,ctx:s};l&&(h.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(h)}},_off:function(e,i,s){var l,h,m;if(this._events&&(l=this._events[e],!!l)){if(arguments.length===1){if(this._firingCount)for(h=0,m=l.length;h<m;h++)l[h].fn=w;delete this._events[e];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var S=this._listens(e,i,s);if(S!==!1){var j=l[S];this._firingCount&&(j.fn=w,this._events[e]=l=l.slice()),l.splice(S,1)}}},fire:function(e,i,s){if(!this.listens(e,s))return this;var l=a({},i,{type:e,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var h=this._events[e];if(h){this._firingCount=this._firingCount+1||1;for(var m=0,S=h.length;m<S;m++){var j=h[m],H=j.fn;j.once&&this.off(e,H,j.ctx),H.call(j.ctx||this,l)}this._firingCount--}}return s&&this._propagateEvent(l),this},listens:function(e,i,s,l){typeof e!="string"&&console.warn('"string" type argument expected');var h=i;typeof i!="function"&&(l=!!i,h=void 0,s=void 0);var m=this._events&&this._events[e];if(m&&m.length&&this._listens(e,h,s)!==!1)return!0;if(l){for(var S in this._eventParents)if(this._eventParents[S].listens(e,i,s,l))return!0}return!1},_listens:function(e,i,s){if(!this._events)return!1;var l=this._events[e]||[];if(!i)return!!l.length;s===this&&(s=void 0);for(var h=0,m=l.length;h<m;h++)if(l[h].fn===i&&l[h].ctx===s)return h;return!1},once:function(e,i,s){if(typeof e=="object")for(var l in e)this._on(l,e[l],i,!0);else{e=O(e);for(var h=0,m=e.length;h<m;h++)this._on(e[h],i,s,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[d(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[d(e)],this},_propagateEvent:function(e){for(var i in this._eventParents)this._eventParents[i].fire(e.type,a({layer:e.target,propagatedFrom:e.target},e),!0)}};ge.addEventListener=ge.on,ge.removeEventListener=ge.clearAllEventListeners=ge.off,ge.addOneTimeEventListener=ge.once,ge.fireEvent=ge.fire,ge.hasEventListeners=ge.listens;var De=be.extend(ge);function le(e,i,s){this.x=s?Math.round(e):e,this.y=s?Math.round(i):i}var yt=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};le.prototype={clone:function(){return new le(this.x,this.y)},add:function(e){return this.clone()._add(q(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(q(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new le(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new le(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=yt(this.x),this.y=yt(this.y),this},distanceTo:function(e){e=q(e);var i=e.x-this.x,s=e.y-this.y;return Math.sqrt(i*i+s*s)},equals:function(e){return e=q(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=q(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+$(this.x)+", "+$(this.y)+")"}};function q(e,i,s){return e instanceof le?e:U(e)?new le(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new le(e.x,e.y):new le(e,i,s)}function k(e,i){if(e)for(var s=i?[e,i]:e,l=0,h=s.length;l<h;l++)this.extend(s[l])}k.prototype={extend:function(e){var i,s;if(!e)return this;if(e instanceof le||typeof e[0]=="number"||"x"in e)i=s=q(e);else if(e=K(e),i=e.min,s=e.max,!i||!s)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=s.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(s.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(s.y,this.max.y)),this},getCenter:function(e){return q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return q(this.min.x,this.max.y)},getTopRight:function(){return q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var i,s;return typeof e[0]=="number"||e instanceof le?e=q(e):e=K(e),e instanceof k?(i=e.min,s=e.max):i=s=e,i.x>=this.min.x&&s.x<=this.max.x&&i.y>=this.min.y&&s.y<=this.max.y},intersects:function(e){e=K(e);var i=this.min,s=this.max,l=e.min,h=e.max,m=h.x>=i.x&&l.x<=s.x,S=h.y>=i.y&&l.y<=s.y;return m&&S},overlaps:function(e){e=K(e);var i=this.min,s=this.max,l=e.min,h=e.max,m=h.x>i.x&&l.x<s.x,S=h.y>i.y&&l.y<s.y;return m&&S},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var i=this.min,s=this.max,l=Math.abs(i.x-s.x)*e,h=Math.abs(i.y-s.y)*e;return K(q(i.x-l,i.y-h),q(s.x+l,s.y+h))},equals:function(e){return e?(e=K(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function K(e,i){return!e||e instanceof k?e:new k(e,i)}function D(e,i){if(e)for(var s=i?[e,i]:e,l=0,h=s.length;l<h;l++)this.extend(s[l])}D.prototype={extend:function(e){var i=this._southWest,s=this._northEast,l,h;if(e instanceof P)l=e,h=e;else if(e instanceof D){if(l=e._southWest,h=e._northEast,!l||!h)return this}else return e?this.extend(N(e)||y(e)):this;return!i&&!s?(this._southWest=new P(l.lat,l.lng),this._northEast=new P(h.lat,h.lng)):(i.lat=Math.min(l.lat,i.lat),i.lng=Math.min(l.lng,i.lng),s.lat=Math.max(h.lat,s.lat),s.lng=Math.max(h.lng,s.lng)),this},pad:function(e){var i=this._southWest,s=this._northEast,l=Math.abs(i.lat-s.lat)*e,h=Math.abs(i.lng-s.lng)*e;return new D(new P(i.lat-l,i.lng-h),new P(s.lat+l,s.lng+h))},getCenter:function(){return new P((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new P(this.getNorth(),this.getWest())},getSouthEast:function(){return new P(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof P||"lat"in e?e=N(e):e=y(e);var i=this._southWest,s=this._northEast,l,h;return e instanceof D?(l=e.getSouthWest(),h=e.getNorthEast()):l=h=e,l.lat>=i.lat&&h.lat<=s.lat&&l.lng>=i.lng&&h.lng<=s.lng},intersects:function(e){e=y(e);var i=this._southWest,s=this._northEast,l=e.getSouthWest(),h=e.getNorthEast(),m=h.lat>=i.lat&&l.lat<=s.lat,S=h.lng>=i.lng&&l.lng<=s.lng;return m&&S},overlaps:function(e){e=y(e);var i=this._southWest,s=this._northEast,l=e.getSouthWest(),h=e.getNorthEast(),m=h.lat>i.lat&&l.lat<s.lat,S=h.lng>i.lng&&l.lng<s.lng;return m&&S},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,i){return e?(e=y(e),this._southWest.equals(e.getSouthWest(),i)&&this._northEast.equals(e.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function y(e,i){return e instanceof D?e:new D(e,i)}function P(e,i,s){if(isNaN(e)||isNaN(i))throw new Error("Invalid LatLng object: ("+e+", "+i+")");this.lat=+e,this.lng=+i,s!==void 0&&(this.alt=+s)}P.prototype={equals:function(e,i){if(!e)return!1;e=N(e);var s=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return s<=(i===void 0?1e-9:i)},toString:function(e){return"LatLng("+$(this.lat,e)+", "+$(this.lng,e)+")"},distanceTo:function(e){return ae.distance(this,N(e))},wrap:function(){return ae.wrapLatLng(this)},toBounds:function(e){var i=180*e/40075017,s=i/Math.cos(Math.PI/180*this.lat);return y([this.lat-i,this.lng-s],[this.lat+i,this.lng+s])},clone:function(){return new P(this.lat,this.lng,this.alt)}};function N(e,i,s){return e instanceof P?e:U(e)&&typeof e[0]!="object"?e.length===3?new P(e[0],e[1],e[2]):e.length===2?new P(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new P(e.lat,"lng"in e?e.lng:e.lon,e.alt):i===void 0?null:new P(e,i,s)}var se={latLngToPoint:function(e,i){var s=this.projection.project(e),l=this.scale(i);return this.transformation._transform(s,l)},pointToLatLng:function(e,i){var s=this.scale(i),l=this.transformation.untransform(e,s);return this.projection.unproject(l)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var i=this.projection.bounds,s=this.scale(e),l=this.transformation.transform(i.min,s),h=this.transformation.transform(i.max,s);return new k(l,h)},infinite:!1,wrapLatLng:function(e){var i=this.wrapLng?_(e.lng,this.wrapLng,!0):e.lng,s=this.wrapLat?_(e.lat,this.wrapLat,!0):e.lat,l=e.alt;return new P(s,i,l)},wrapLatLngBounds:function(e){var i=e.getCenter(),s=this.wrapLatLng(i),l=i.lat-s.lat,h=i.lng-s.lng;if(l===0&&h===0)return e;var m=e.getSouthWest(),S=e.getNorthEast(),j=new P(m.lat-l,m.lng-h),H=new P(S.lat-l,S.lng-h);return new D(j,H)}},ae=a({},se,{wrapLng:[-180,180],R:6371e3,distance:function(e,i){var s=Math.PI/180,l=e.lat*s,h=i.lat*s,m=Math.sin((i.lat-e.lat)*s/2),S=Math.sin((i.lng-e.lng)*s/2),j=m*m+Math.cos(l)*Math.cos(h)*S*S,H=2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j));return this.R*H}}),ke=6378137,Ce={R:ke,MAX_LATITUDE:85.0511287798,project:function(e){var i=Math.PI/180,s=this.MAX_LATITUDE,l=Math.max(Math.min(s,e.lat),-s),h=Math.sin(l*i);return new le(this.R*e.lng*i,this.R*Math.log((1+h)/(1-h))/2)},unproject:function(e){var i=180/Math.PI;return new P((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*i,e.x*i/this.R)},bounds:function(){var e=ke*Math.PI;return new k([-e,-e],[e,e])}()};function M(e,i,s,l){if(U(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=i,this._c=s,this._d=l}M.prototype={transform:function(e,i){return this._transform(e.clone(),i)},_transform:function(e,i){return i=i||1,e.x=i*(this._a*e.x+this._b),e.y=i*(this._c*e.y+this._d),e},untransform:function(e,i){return i=i||1,new le((e.x/i-this._b)/this._a,(e.y/i-this._d)/this._c)}};function z(e,i,s,l){return new M(e,i,s,l)}var g=a({},ae,{code:"EPSG:3857",projection:Ce,transformation:function(){var e=.5/(Math.PI*Ce.R);return z(e,.5,-e,.5)}()}),b=a({},g,{code:"EPSG:900913"});function R(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function F(e,i){var s="",l,h,m,S,j,H;for(l=0,m=e.length;l<m;l++){for(j=e[l],h=0,S=j.length;h<S;h++)H=j[h],s+=(h?"L":"M")+H.x+" "+H.y;s+=i?v.svg?"z":"x":""}return s||"M0 0"}var W=document.documentElement.style,ee="ActiveXObject"in window,re=ee&&!document.addEventListener,X="msLaunchUri"in navigator&&!("documentMode"in document),te=E("webkit"),G=E("android"),ie=E("android 2")||E("android 3"),pe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),de=G&&E("Google")&&pe<537&&!("AudioNode"in window),ve=!!window.opera,Ie=!X&&E("chrome"),He=E("gecko")&&!te&&!ve&&!ee,ze=!Ie&&E("safari"),Ye=E("phantom"),Ct="OTransition"in W,ln=navigator.platform.indexOf("Win")===0,cn=ee&&"transition"in W,Gt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ie,hi="MozPerspective"in W,$t=!window.L_DISABLE_3D&&(cn||Gt||hi)&&!Ct&&!Ye,et=typeof orientation<"u"||E("mobile"),Ni=et&&te,fo=et&&Gt,qr=!window.PointerEvent&&window.MSPointerEvent,Kr=!!(window.PointerEvent||qr),Wr="ontouchstart"in window||!!window.TouchEvent,ho=!window.L_NO_TOUCH&&(Wr||Kr),Hn=et&&ve,po=et&&He,Gr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,mo=function(){var e=!1;try{var i=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",w,i),window.removeEventListener("testPassiveEventSupport",w,i)}catch{}return e}(),lr=function(){return!!document.createElement("canvas").getContext}(),Di=!!(document.createElementNS&&R("svg").createSVGRect),_o=!!Di&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Jr=!Di&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var i=e.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}(),go=navigator.platform.indexOf("Mac")===0,Yr=navigator.platform.indexOf("Linux")===0;function E(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var v={ie:ee,ielt9:re,edge:X,webkit:te,android:G,android23:ie,androidStock:de,opera:ve,chrome:Ie,gecko:He,safari:ze,phantom:Ye,opera12:Ct,win:ln,ie3d:cn,webkit3d:Gt,gecko3d:hi,any3d:$t,mobile:et,mobileWebkit:Ni,mobileWebkit3d:fo,msPointer:qr,pointer:Kr,touch:ho,touchNative:Wr,mobileOpera:Hn,mobileGecko:po,retina:Gr,passiveEvents:mo,canvas:lr,svg:Di,vml:Jr,inlineSvg:_o,mac:go,linux:Yr},I=v.msPointer?"MSPointerDown":"pointerdown",V=v.msPointer?"MSPointerMove":"pointermove",Z=v.msPointer?"MSPointerUp":"pointerup",me=v.msPointer?"MSPointerCancel":"pointercancel",_e={touchstart:I,touchmove:V,touchend:Z,touchcancel:me},Ve={touchstart:bn,touchmove:Xe,touchend:Xe,touchcancel:Xe},Ge={},ut=!1;function je(e,i,s){return i==="touchstart"&&ht(),Ve[i]?(s=Ve[i].bind(this,s),e.addEventListener(_e[i],s,!1),s):(console.warn("wrong event specified:",i),w)}function Qe(e,i,s){if(!_e[i]){console.warn("wrong event specified:",i);return}e.removeEventListener(_e[i],s,!1)}function ft(e){Ge[e.pointerId]=e}function Oe(e){Ge[e.pointerId]&&(Ge[e.pointerId]=e)}function tt(e){delete Ge[e.pointerId]}function ht(){ut||(document.addEventListener(I,ft,!0),document.addEventListener(V,Oe,!0),document.addEventListener(Z,tt,!0),document.addEventListener(me,tt,!0),ut=!0)}function Xe(e,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var s in Ge)i.touches.push(Ge[s]);i.changedTouches=[i],e(i)}}function bn(e,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&Lt(i),Xe(e,i)}function Jt(e){var i={},s,l;for(l in e)s=e[l],i[l]=s&&s.bind?s.bind(e):s;return e=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var Yt=200;function Un(e,i){e.addEventListener("dblclick",i);var s=0,l;function h(m){if(m.detail!==1){l=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var S=Fl(m);if(!(S.some(function(H){return H instanceof HTMLLabelElement&&H.attributes.for})&&!S.some(function(H){return H instanceof HTMLInputElement||H instanceof HTMLSelectElement}))){var j=Date.now();j-s<=Yt?(l++,l===2&&i(Jt(m))):l=1,s=j}}}return e.addEventListener("click",h),{dblclick:i,simDblclick:h}}function An(e,i){e.removeEventListener("dblclick",i.dblclick),e.removeEventListener("click",i.simDblclick)}var kt=Qr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),At=Qr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Pn=At==="webkitTransition"||At==="OTransition"?At+"End":"transitionend";function Xt(e){return typeof e=="string"?document.getElementById(e):e}function un(e,i){var s=e.style[i]||e.currentStyle&&e.currentStyle[i];if((!s||s==="auto")&&document.defaultView){var l=document.defaultView.getComputedStyle(e,null);s=l?l[i]:null}return s==="auto"?null:s}function Ue(e,i,s){var l=document.createElement(e);return l.className=i||"",s&&s.appendChild(l),l}function rt(e){var i=e.parentNode;i&&i.removeChild(e)}function Rn(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function fn(e){var i=e.parentNode;i&&i.lastChild!==e&&i.appendChild(e)}function hn(e){var i=e.parentNode;i&&i.firstChild!==e&&i.insertBefore(e,i.firstChild)}function zi(e,i){if(e.classList!==void 0)return e.classList.contains(i);var s=Xr(e);return s.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(s)}function Ae(e,i){if(e.classList!==void 0)for(var s=O(i),l=0,h=s.length;l<h;l++)e.classList.add(s[l]);else if(!zi(e,i)){var m=Xr(e);vo(e,(m?m+" ":"")+i)}}function nt(e,i){e.classList!==void 0?e.classList.remove(i):vo(e,x((" "+Xr(e)+" ").replace(" "+i+" "," ")))}function vo(e,i){e.className.baseVal===void 0?e.className=i:e.className.baseVal=i}function Xr(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function Qt(e,i){"opacity"in e.style?e.style.opacity=i:"filter"in e.style&&Eh(e,i)}function Eh(e,i){var s=!1,l="DXImageTransform.Microsoft.Alpha";try{s=e.filters.item(l)}catch{if(i===1)return}i=Math.round(i*100),s?(s.Enabled=i!==100,s.Opacity=i):e.style.filter+=" progid:"+l+"(opacity="+i+")"}function Qr(e){for(var i=document.documentElement.style,s=0;s<e.length;s++)if(e[s]in i)return e[s];return!1}function di(e,i,s){var l=i||new le(0,0);e.style[kt]=(v.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(s?" scale("+s+")":"")}function pt(e,i){e._leaflet_pos=i,v.any3d?di(e,i):(e.style.left=i.x+"px",e.style.top=i.y+"px")}function pi(e){return e._leaflet_pos||new le(0,0)}var cr,ur,yo;if("onselectstart"in document)cr=function(){Re(window,"selectstart",Lt)},ur=function(){st(window,"selectstart",Lt)};else{var fr=Qr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);cr=function(){if(fr){var e=document.documentElement.style;yo=e[fr],e[fr]="none"}},ur=function(){fr&&(document.documentElement.style[fr]=yo,yo=void 0)}}function wo(){Re(window,"dragstart",Lt)}function bo(){st(window,"dragstart",Lt)}var es,Po;function $o(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(ts(),es=e,Po=e.style.outlineStyle,e.style.outlineStyle="none",Re(window,"keydown",ts))}function ts(){es&&(es.style.outlineStyle=Po,es=void 0,Po=void 0,st(window,"keydown",ts))}function jl(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function So(e){var i=e.getBoundingClientRect();return{x:i.width/e.offsetWidth||1,y:i.height/e.offsetHeight||1,boundingClientRect:i}}var Th={__proto__:null,TRANSFORM:kt,TRANSITION:At,TRANSITION_END:Pn,get:Xt,getStyle:un,create:Ue,remove:rt,empty:Rn,toFront:fn,toBack:hn,hasClass:zi,addClass:Ae,removeClass:nt,setClass:vo,getClass:Xr,setOpacity:Qt,testProp:Qr,setTransform:di,setPosition:pt,getPosition:pi,get disableTextSelection(){return cr},get enableTextSelection(){return ur},disableImageDrag:wo,enableImageDrag:bo,preventOutline:$o,restoreOutline:ts,getSizedParentNode:jl,getScale:So};function Re(e,i,s,l){if(i&&typeof i=="object")for(var h in i)To(e,h,i[h],s);else{i=O(i);for(var m=0,S=i.length;m<S;m++)To(e,i[m],s,l)}return this}var $n="_leaflet_events";function st(e,i,s,l){if(arguments.length===1)Bl(e),delete e[$n];else if(i&&typeof i=="object")for(var h in i)Co(e,h,i[h],s);else if(i=O(i),arguments.length===2)Bl(e,function(j){return J(i,j)!==-1});else for(var m=0,S=i.length;m<S;m++)Co(e,i[m],s,l);return this}function Bl(e,i){for(var s in e[$n]){var l=s.split(/\d/)[0];(!i||i(l))&&Co(e,l,null,null,s)}}var Eo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function To(e,i,s,l){var h=i+d(s)+(l?"_"+d(l):"");if(e[$n]&&e[$n][h])return this;var m=function(j){return s.call(l||e,j||window.event)},S=m;!v.touchNative&&v.pointer&&i.indexOf("touch")===0?m=je(e,i,m):v.touch&&i==="dblclick"?m=Un(e,m):"addEventListener"in e?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?e.addEventListener(Eo[i]||i,m,v.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(m=function(j){j=j||window.event,xo(e,j)&&S(j)},e.addEventListener(Eo[i],m,!1)):e.addEventListener(i,S,!1):e.attachEvent("on"+i,m),e[$n]=e[$n]||{},e[$n][h]=m}function Co(e,i,s,l,h){h=h||i+d(s)+(l?"_"+d(l):"");var m=e[$n]&&e[$n][h];if(!m)return this;!v.touchNative&&v.pointer&&i.indexOf("touch")===0?Qe(e,i,m):v.touch&&i==="dblclick"?An(e,m):"removeEventListener"in e?e.removeEventListener(Eo[i]||i,m,!1):e.detachEvent("on"+i,m),e[$n][h]=null}function mi(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Lo(e){return To(e,"wheel",mi),this}function hr(e){return Re(e,"mousedown touchstart dblclick contextmenu",mi),e._leaflet_disable_click=!0,this}function Lt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function _i(e){return Lt(e),mi(e),this}function Fl(e){if(e.composedPath)return e.composedPath();for(var i=[],s=e.target;s;)i.push(s),s=s.parentNode;return i}function Zl(e,i){if(!i)return new le(e.clientX,e.clientY);var s=So(i),l=s.boundingClientRect;return new le((e.clientX-l.left)/s.x-i.clientLeft,(e.clientY-l.top)/s.y-i.clientTop)}var Ch=v.linux&&v.chrome?window.devicePixelRatio:v.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Vl(e){return v.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Ch:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function xo(e,i){var s=i.relatedTarget;if(!s)return!0;try{for(;s&&s!==e;)s=s.parentNode}catch{return!1}return s!==e}var Lh={__proto__:null,on:Re,off:st,stopPropagation:mi,disableScrollPropagation:Lo,disableClickPropagation:hr,preventDefault:Lt,stop:_i,getPropagationPath:Fl,getMousePosition:Zl,getWheelDelta:Vl,isExternalTarget:xo,addListener:Re,removeListener:st},Hl=De.extend({run:function(e,i,s,l){this.stop(),this._el=e,this._inProgress=!0,this._duration=s||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=pi(e),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=we(this._animate,this),this._step()},_step:function(e){var i=+new Date-this._startTime,s=this._duration*1e3;i<s?this._runFrame(this._easeOut(i/s),e):(this._runFrame(1),this._complete())},_runFrame:function(e,i){var s=this._startPos.add(this._offset.multiplyBy(e));i&&s._round(),pt(this._el,s),this.fire("step")},_complete:function(){ne(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),qe=De.extend({options:{crs:g,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,i){i=C(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(N(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=At&&v.any3d&&!v.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Re(this._proxy,Pn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,i,s){if(i=i===void 0?this._zoom:this._limitZoom(i),e=this._limitCenter(N(e),i,this.options.maxBounds),s=s||{},this._stop(),this._loaded&&!s.reset&&s!==!0){s.animate!==void 0&&(s.zoom=a({animate:s.animate},s.zoom),s.pan=a({animate:s.animate,duration:s.duration},s.pan));var l=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,i,s.zoom):this._tryAnimatedPan(e,s.pan);if(l)return clearTimeout(this._sizeTimer),this}return this._resetView(e,i,s.pan&&s.pan.noMoveStart),this},setZoom:function(e,i){return this._loaded?this.setView(this.getCenter(),e,{zoom:i}):(this._zoom=e,this)},zoomIn:function(e,i){return e=e||(v.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,i)},zoomOut:function(e,i){return e=e||(v.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,i)},setZoomAround:function(e,i,s){var l=this.getZoomScale(i),h=this.getSize().divideBy(2),m=e instanceof le?e:this.latLngToContainerPoint(e),S=m.subtract(h).multiplyBy(1-1/l),j=this.containerPointToLatLng(h.add(S));return this.setView(j,i,{zoom:s})},_getBoundsCenterZoom:function(e,i){i=i||{},e=e.getBounds?e.getBounds():y(e);var s=q(i.paddingTopLeft||i.padding||[0,0]),l=q(i.paddingBottomRight||i.padding||[0,0]),h=this.getBoundsZoom(e,!1,s.add(l));if(h=typeof i.maxZoom=="number"?Math.min(i.maxZoom,h):h,h===1/0)return{center:e.getCenter(),zoom:h};var m=l.subtract(s).divideBy(2),S=this.project(e.getSouthWest(),h),j=this.project(e.getNorthEast(),h),H=this.unproject(S.add(j).divideBy(2).add(m),h);return{center:H,zoom:h}},fitBounds:function(e,i){if(e=y(e),!e.isValid())throw new Error("Bounds are not valid.");var s=this._getBoundsCenterZoom(e,i);return this.setView(s.center,s.zoom,i)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,i){return this.setView(e,this._zoom,{pan:i})},panBy:function(e,i){if(e=q(e).round(),i=i||{},!e.x&&!e.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Hl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){Ae(this._mapPane,"leaflet-pan-anim");var s=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,s,i.duration||.25,i.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,i,s){if(s=s||{},s.animate===!1||!v.any3d)return this.setView(e,i,s);this._stop();var l=this.project(this.getCenter()),h=this.project(e),m=this.getSize(),S=this._zoom;e=N(e),i=i===void 0?S:i;var j=Math.max(m.x,m.y),H=j*this.getZoomScale(S,i),Q=h.distanceTo(l)||1,ue=1.42,Te=ue*ue;function Be(mt){var ds=mt?-1:1,_d=mt?H:j,gd=H*H-j*j+ds*Te*Te*Q*Q,vd=2*_d*Te*Q,Bo=gd/vd,Sc=Math.sqrt(Bo*Bo+1)-Bo,yd=Sc<1e-9?-18:Math.log(Sc);return yd}function Dt(mt){return(Math.exp(mt)-Math.exp(-mt))/2}function St(mt){return(Math.exp(mt)+Math.exp(-mt))/2}function tn(mt){return Dt(mt)/St(mt)}var Bt=Be(0);function Hi(mt){return j*(St(Bt)/St(Bt+ue*mt))}function hd(mt){return j*(St(Bt)*tn(Bt+ue*mt)-Dt(Bt))/Te}function dd(mt){return 1-Math.pow(1-mt,1.5)}var pd=Date.now(),Pc=(Be(1)-Bt)/ue,md=s.duration?1e3*s.duration:1e3*Pc*.8;function $c(){var mt=(Date.now()-pd)/md,ds=dd(mt)*Pc;mt<=1?(this._flyToFrame=we($c,this),this._move(this.unproject(l.add(h.subtract(l).multiplyBy(hd(ds)/Q)),S),this.getScaleZoom(j/Hi(ds),S),{flyTo:!0})):this._move(e,i)._moveEnd(!0)}return this._moveStart(!0,s.noMoveStart),$c.call(this),this},flyToBounds:function(e,i){var s=this._getBoundsCenterZoom(e,i);return this.flyTo(s.center,s.zoom,i)},setMaxBounds:function(e){return e=y(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var i=this.options.minZoom;return this.options.minZoom=e,this._loaded&&i!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var i=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&i!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,i){this._enforcingBounds=!0;var s=this.getCenter(),l=this._limitCenter(s,this._zoom,y(e));return s.equals(l)||this.panTo(l,i),this._enforcingBounds=!1,this},panInside:function(e,i){i=i||{};var s=q(i.paddingTopLeft||i.padding||[0,0]),l=q(i.paddingBottomRight||i.padding||[0,0]),h=this.project(this.getCenter()),m=this.project(e),S=this.getPixelBounds(),j=K([S.min.add(s),S.max.subtract(l)]),H=j.getSize();if(!j.contains(m)){this._enforcingBounds=!0;var Q=m.subtract(j.getCenter()),ue=j.extend(m).getSize().subtract(H);h.x+=Q.x<0?-ue.x:ue.x,h.y+=Q.y<0?-ue.y:ue.y,this.panTo(this.unproject(h),i),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=a({animate:!1,pan:!0},e===!0?{animate:!0}:e);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var s=this.getSize(),l=i.divideBy(2).round(),h=s.divideBy(2).round(),m=l.subtract(h);return!m.x&&!m.y?this:(e.animate&&e.pan?this.panBy(m):(e.pan&&this._rawPanBy(m),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:s}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=a({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=u(this._handleGeolocationResponse,this),s=u(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,s,e):navigator.geolocation.getCurrentPosition(i,s,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var i=e.code,s=e.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+s+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var i=e.coords.latitude,s=e.coords.longitude,l=new P(i,s),h=l.toBounds(e.coords.accuracy*2),m=this._locateOptions;if(m.setView){var S=this.getBoundsZoom(h);this.setView(l,m.maxZoom?Math.min(S,m.maxZoom):S)}var j={latlng:l,bounds:h,timestamp:e.timestamp};for(var H in e.coords)typeof e.coords[H]=="number"&&(j[H]=e.coords[H]);this.fire("locationfound",j)}},addHandler:function(e,i){if(!i)return this;var s=this[e]=new i(this);return this._handlers.push(s),this.options[e]&&s.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),rt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ne(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)rt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,i){var s="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),l=Ue("div",s,i||this._mapPane);return e&&(this._panes[e]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),i=this.unproject(e.getBottomLeft()),s=this.unproject(e.getTopRight());return new D(i,s)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,i,s){e=y(e),s=q(s||[0,0]);var l=this.getZoom()||0,h=this.getMinZoom(),m=this.getMaxZoom(),S=e.getNorthWest(),j=e.getSouthEast(),H=this.getSize().subtract(s),Q=K(this.project(j,l),this.project(S,l)).getSize(),ue=v.any3d?this.options.zoomSnap:1,Te=H.x/Q.x,Be=H.y/Q.y,Dt=i?Math.max(Te,Be):Math.min(Te,Be);return l=this.getScaleZoom(Dt,l),ue&&(l=Math.round(l/(ue/100))*(ue/100),l=i?Math.ceil(l/ue)*ue:Math.floor(l/ue)*ue),Math.max(h,Math.min(m,l))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new le(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,i){var s=this._getTopLeftPoint(e,i);return new k(s,s.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,i){var s=this.options.crs;return i=i===void 0?this._zoom:i,s.scale(e)/s.scale(i)},getScaleZoom:function(e,i){var s=this.options.crs;i=i===void 0?this._zoom:i;var l=s.zoom(e*s.scale(i));return isNaN(l)?1/0:l},project:function(e,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(N(e),i)},unproject:function(e,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(q(e),i)},layerPointToLatLng:function(e){var i=q(e).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(e){var i=this.project(N(e))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(N(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(y(e))},distance:function(e,i){return this.options.crs.distance(N(e),N(i))},containerPointToLayerPoint:function(e){return q(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return q(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var i=this.containerPointToLayerPoint(q(e));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(N(e)))},mouseEventToContainerPoint:function(e){return Zl(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var i=this._container=Xt(e);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Re(i,"scroll",this._onScroll,this),this._containerId=d(i)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&v.any3d,Ae(e,"leaflet-container"+(v.touch?" leaflet-touch":"")+(v.retina?" leaflet-retina":"")+(v.ielt9?" leaflet-oldie":"")+(v.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=un(e,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),pt(this._mapPane,new le(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ae(e.markerPane,"leaflet-zoom-hide"),Ae(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,i,s){pt(this._mapPane,new le(0,0));var l=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var h=this._zoom!==i;this._moveStart(h,s)._move(e,i)._moveEnd(h),this.fire("viewreset"),l&&this.fire("load")},_moveStart:function(e,i){return e&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(e,i,s,l){i===void 0&&(i=this._zoom);var h=this._zoom!==i;return this._zoom=i,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),l?s&&s.pinch&&this.fire("zoom",s):((h||s&&s.pinch)&&this.fire("zoom",s),this.fire("move",s)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ne(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){pt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[d(this._container)]=this;var i=e?st:Re;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),v.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ne(this._resizeRequest),this._resizeRequest=we(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,i){for(var s=[],l,h=i==="mouseout"||i==="mouseover",m=e.target||e.srcElement,S=!1;m;){if(l=this._targets[d(m)],l&&(i==="click"||i==="preclick")&&this._draggableMoved(l)){S=!0;break}if(l&&l.listens(i,!0)&&(h&&!xo(m,e)||(s.push(l),h))||m===this._container)break;m=m.parentNode}return!s.length&&!S&&!h&&this.listens(i,!0)&&(s=[this]),s},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var i=e.target||e.srcElement;if(!(!this._loaded||i._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(i))){var s=e.type;s==="mousedown"&&$o(i),this._fireDOMEvent(e,s)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,i,s){if(e.type==="click"){var l=a({},e);l.type="preclick",this._fireDOMEvent(l,l.type,s)}var h=this._findEventTargets(e,i);if(s){for(var m=[],S=0;S<s.length;S++)s[S].listens(i,!0)&&m.push(s[S]);h=m.concat(h)}if(h.length){i==="contextmenu"&&Lt(e);var j=h[0],H={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var Q=j.getLatLng&&(!j._radius||j._radius<=10);H.containerPoint=Q?this.latLngToContainerPoint(j.getLatLng()):this.mouseEventToContainerPoint(e),H.layerPoint=this.containerPointToLayerPoint(H.containerPoint),H.latlng=Q?j.getLatLng():this.layerPointToLatLng(H.layerPoint)}for(S=0;S<h.length;S++)if(h[S].fire(i,H,!0),H.originalEvent._stopped||h[S].options.bubblingMouseEvents===!1&&J(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,i=this._handlers.length;e<i;e++)this._handlers[e].disable()},whenReady:function(e,i){return this._loaded?e.call(i||this,{target:this}):this.on("load",e,i),this},_getMapPanePos:function(){return pi(this._mapPane)||new le(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,i){var s=e&&i!==void 0?this._getNewPixelOrigin(e,i):this.getPixelOrigin();return s.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,i){var s=this.getSize()._divideBy(2);return this.project(e,i)._subtract(s)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,i,s){var l=this._getNewPixelOrigin(s,i);return this.project(e,i)._subtract(l)},_latLngBoundsToNewLayerBounds:function(e,i,s){var l=this._getNewPixelOrigin(s,i);return K([this.project(e.getSouthWest(),i)._subtract(l),this.project(e.getNorthWest(),i)._subtract(l),this.project(e.getSouthEast(),i)._subtract(l),this.project(e.getNorthEast(),i)._subtract(l)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,i,s){if(!s)return e;var l=this.project(e,i),h=this.getSize().divideBy(2),m=new k(l.subtract(h),l.add(h)),S=this._getBoundsOffset(m,s,i);return Math.abs(S.x)<=1&&Math.abs(S.y)<=1?e:this.unproject(l.add(S),i)},_limitOffset:function(e,i){if(!i)return e;var s=this.getPixelBounds(),l=new k(s.min.add(e),s.max.add(e));return e.add(this._getBoundsOffset(l,i))},_getBoundsOffset:function(e,i,s){var l=K(this.project(i.getNorthEast(),s),this.project(i.getSouthWest(),s)),h=l.min.subtract(e.min),m=l.max.subtract(e.max),S=this._rebound(h.x,-m.x),j=this._rebound(h.y,-m.y);return new le(S,j)},_rebound:function(e,i){return e+i>0?Math.round(e-i)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(i))},_limitZoom:function(e){var i=this.getMinZoom(),s=this.getMaxZoom(),l=v.any3d?this.options.zoomSnap:1;return l&&(e=Math.round(e/l)*l),Math.max(i,Math.min(s,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){nt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,i){var s=this._getCenterOffset(e)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(s)?!1:(this.panBy(s,i),!0)},_createAnimProxy:function(){var e=this._proxy=Ue("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(i){var s=kt,l=this._proxy.style[s];di(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),l===this._proxy.style[s]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){rt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),i=this.getZoom();di(this._proxy,this.project(e,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,i,s){if(this._animatingZoom)return!0;if(s=s||{},!this._zoomAnimated||s.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(i),h=this._getCenterOffset(e)._divideBy(1-1/l);return s.animate!==!0&&!this.getSize().contains(h)?!1:(we(function(){this._moveStart(!0,s.noMoveStart||!1)._animateZoom(e,i,!0)},this),!0)},_animateZoom:function(e,i,s,l){this._mapPane&&(s&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=i,Ae(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:i,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&nt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function xh(e,i){return new qe(e,i)}var dn=be.extend({options:{position:"topright"},initialize:function(e){C(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var i=this._map;return i&&i.removeControl(this),this.options.position=e,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var i=this._container=this.onAdd(e),s=this.getPosition(),l=e._controlCorners[s];return Ae(i,"leaflet-control"),s.indexOf("bottom")!==-1?l.insertBefore(i,l.firstChild):l.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(rt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),dr=function(e){return new dn(e)};qe.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},i="leaflet-",s=this._controlContainer=Ue("div",i+"control-container",this._container);function l(h,m){var S=i+h+" "+i+m;e[h+m]=Ue("div",S,s)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)rt(this._controlCorners[e]);rt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ul=dn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,i,s,l){return s<l?-1:l<s?1:0}},initialize:function(e,i,s){C(this,s),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var l in e)this._addLayer(e[l],l);for(l in i)this._addLayer(i[l],l,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return dn.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,i){return this._addLayer(e,i),this._map?this._update():this},addOverlay:function(e,i){return this._addLayer(e,i,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var i=this._getLayer(d(e));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){Ae(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(Ae(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):nt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return nt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",i=this._container=Ue("div",e),s=this.options.collapsed;i.setAttribute("aria-haspopup",!0),hr(i),Lo(i);var l=this._section=Ue("section",e+"-list");s&&(this._map.on("click",this.collapse,this),Re(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var h=this._layersLink=Ue("a",e+"-toggle",i);h.href="#",h.title="Layers",h.setAttribute("role","button"),Re(h,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){Lt(m),this._expandSafely()}},this),s||this.expand(),this._baseLayersList=Ue("div",e+"-base",l),this._separator=Ue("div",e+"-separator",l),this._overlaysList=Ue("div",e+"-overlays",l),i.appendChild(l)},_getLayer:function(e){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&d(this._layers[i].layer)===e)return this._layers[i]},_addLayer:function(e,i,s){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:i,overlay:s}),this.options.sortLayers&&this._layers.sort(u(function(l,h){return this.options.sortFunction(l.layer,h.layer,l.name,h.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Rn(this._baseLayersList),Rn(this._overlaysList),this._layerControlInputs=[];var e,i,s,l,h=0;for(s=0;s<this._layers.length;s++)l=this._layers[s],this._addItem(l),i=i||l.overlay,e=e||!l.overlay,h+=l.overlay?0:1;return this.options.hideSingleBase&&(e=e&&h>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=i&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var i=this._getLayer(d(e.target)),s=i.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;s&&this._map.fire(s,i)},_createRadioElement:function(e,i){var s='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(i?' checked="checked"':"")+"/>",l=document.createElement("div");return l.innerHTML=s,l.firstChild},_addItem:function(e){var i=document.createElement("label"),s=this._map.hasLayer(e.layer),l;e.overlay?(l=document.createElement("input"),l.type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=s):l=this._createRadioElement("leaflet-base-layers_"+d(this),s),this._layerControlInputs.push(l),l.layerId=d(e.layer),Re(l,"click",this._onInputClick,this);var h=document.createElement("span");h.innerHTML=" "+e.name;var m=document.createElement("span");i.appendChild(m),m.appendChild(l),m.appendChild(h);var S=e.overlay?this._overlaysList:this._baseLayersList;return S.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,i,s,l=[],h=[];this._handlingClick=!0;for(var m=e.length-1;m>=0;m--)i=e[m],s=this._getLayer(i.layerId).layer,i.checked?l.push(s):i.checked||h.push(s);for(m=0;m<h.length;m++)this._map.hasLayer(h[m])&&this._map.removeLayer(h[m]);for(m=0;m<l.length;m++)this._map.hasLayer(l[m])||this._map.addLayer(l[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,i,s,l=this._map.getZoom(),h=e.length-1;h>=0;h--)i=e[h],s=this._getLayer(i.layerId).layer,i.disabled=s.options.minZoom!==void 0&&l<s.options.minZoom||s.options.maxZoom!==void 0&&l>s.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,Re(e,"click",Lt),this.expand();var i=this;setTimeout(function(){st(e,"click",Lt),i._preventClick=!1})}}),Oh=function(e,i,s){return new Ul(e,i,s)},Oo=dn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var i="leaflet-control-zoom",s=Ue("div",i+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,i+"-in",s,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,i+"-out",s,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),s},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,i,s,l,h){var m=Ue("a",s,l);return m.innerHTML=e,m.href="#",m.title=i,m.setAttribute("role","button"),m.setAttribute("aria-label",i),hr(m),Re(m,"click",_i),Re(m,"click",h,this),Re(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var e=this._map,i="leaflet-disabled";nt(this._zoomInButton,i),nt(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(Ae(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(Ae(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});qe.mergeOptions({zoomControl:!0}),qe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Oo,this.addControl(this.zoomControl))});var Ih=function(e){return new Oo(e)},ql=dn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var i="leaflet-control-scale",s=Ue("div",i),l=this.options;return this._addScales(l,i+"-line",s),e.on(l.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),s},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,i,s){e.metric&&(this._mScale=Ue("div",i,s)),e.imperial&&(this._iScale=Ue("div",i,s))},_update:function(){var e=this._map,i=e.getSize().y/2,s=e.distance(e.containerPointToLatLng([0,i]),e.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(s)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var i=this._getRoundNum(e),s=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,s,i/e)},_updateImperial:function(e){var i=e*3.2808399,s,l,h;i>5280?(s=i/5280,l=this._getRoundNum(s),this._updateScale(this._iScale,l+" mi",l/s)):(h=this._getRoundNum(i),this._updateScale(this._iScale,h+" ft",h/i))},_updateScale:function(e,i,s){e.style.width=Math.round(this.options.maxWidth*s)+"px",e.innerHTML=i},_getRoundNum:function(e){var i=Math.pow(10,(Math.floor(e)+"").length-1),s=e/i;return s=s>=10?10:s>=5?5:s>=3?3:s>=2?2:1,i*s}}),kh=function(e){return new ql(e)},Ah='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Io=dn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(v.inlineSvg?Ah+" ":"")+"Leaflet</a>"},initialize:function(e){C(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=Ue("div","leaflet-control-attribution"),hr(this._container);for(var i in e._layers)e._layers[i].getAttribution&&this.addAttribution(e._layers[i].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var i in this._attributions)this._attributions[i]&&e.push(i);var s=[];this.options.prefix&&s.push(this.options.prefix),e.length&&s.push(e.join(", ")),this._container.innerHTML=s.join(' <span aria-hidden="true">|</span> ')}}});qe.mergeOptions({attributionControl:!0}),qe.addInitHook(function(){this.options.attributionControl&&new Io().addTo(this)});var Rh=function(e){return new Io(e)};dn.Layers=Ul,dn.Zoom=Oo,dn.Scale=ql,dn.Attribution=Io,dr.layers=Oh,dr.zoom=Ih,dr.scale=kh,dr.attribution=Rh;var Sn=be.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Sn.addTo=function(e,i){return e.addHandler(i,this),this};var Mh={Events:ge},Kl=v.touch?"touchstart mousedown":"mousedown",qn=De.extend({options:{clickTolerance:3},initialize:function(e,i,s,l){C(this,l),this._element=e,this._dragStartTarget=i||e,this._preventOutline=s},enable:function(){this._enabled||(Re(this._dragStartTarget,Kl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(qn._dragging===this&&this.finishDrag(!0),st(this._dragStartTarget,Kl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!zi(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){qn._dragging===this&&this.finishDrag();return}if(!(qn._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(qn._dragging=this,this._preventOutline&&$o(this._element),wo(),cr(),!this._moving)){this.fire("down");var i=e.touches?e.touches[0]:e,s=jl(this._element);this._startPoint=new le(i.clientX,i.clientY),this._startPos=pi(this._element),this._parentScale=So(s);var l=e.type==="mousedown";Re(document,l?"mousemove":"touchmove",this._onMove,this),Re(document,l?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var i=e.touches&&e.touches.length===1?e.touches[0]:e,s=new le(i.clientX,i.clientY)._subtract(this._startPoint);!s.x&&!s.y||Math.abs(s.x)+Math.abs(s.y)<this.options.clickTolerance||(s.x/=this._parentScale.x,s.y/=this._parentScale.y,Lt(e),this._moved||(this.fire("dragstart"),this._moved=!0,Ae(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ae(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(s),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),pt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){nt(document.body,"leaflet-dragging"),this._lastTarget&&(nt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),st(document,"mousemove touchmove",this._onMove,this),st(document,"mouseup touchend touchcancel",this._onUp,this),bo(),ur();var i=this._moved&&this._moving;this._moving=!1,qn._dragging=!1,i&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function Wl(e,i,s){var l,h=[1,4,2,8],m,S,j,H,Q,ue,Te,Be;for(m=0,ue=e.length;m<ue;m++)e[m]._code=gi(e[m],i);for(j=0;j<4;j++){for(Te=h[j],l=[],m=0,ue=e.length,S=ue-1;m<ue;S=m++)H=e[m],Q=e[S],H._code&Te?Q._code&Te||(Be=ns(Q,H,Te,i,s),Be._code=gi(Be,i),l.push(Be)):(Q._code&Te&&(Be=ns(Q,H,Te,i,s),Be._code=gi(Be,i),l.push(Be)),l.push(H));e=l}return e}function Gl(e,i){var s,l,h,m,S,j,H,Q,ue;if(!e||e.length===0)throw new Error("latlngs not passed");en(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var Te=N([0,0]),Be=y(e),Dt=Be.getNorthWest().distanceTo(Be.getSouthWest())*Be.getNorthEast().distanceTo(Be.getNorthWest());Dt<1700&&(Te=ko(e));var St=e.length,tn=[];for(s=0;s<St;s++){var Bt=N(e[s]);tn.push(i.project(N([Bt.lat-Te.lat,Bt.lng-Te.lng])))}for(j=H=Q=0,s=0,l=St-1;s<St;l=s++)h=tn[s],m=tn[l],S=h.y*m.x-m.y*h.x,H+=(h.x+m.x)*S,Q+=(h.y+m.y)*S,j+=S*3;j===0?ue=tn[0]:ue=[H/j,Q/j];var Hi=i.unproject(q(ue));return N([Hi.lat+Te.lat,Hi.lng+Te.lng])}function ko(e){for(var i=0,s=0,l=0,h=0;h<e.length;h++){var m=N(e[h]);i+=m.lat,s+=m.lng,l++}return N([i/l,s/l])}var Nh={__proto__:null,clipPolygon:Wl,polygonCenter:Gl,centroid:ko};function Jl(e,i){if(!i||!e.length)return e.slice();var s=i*i;return e=jh(e,s),e=zh(e,s),e}function Yl(e,i,s){return Math.sqrt(pr(e,i,s,!0))}function Dh(e,i,s){return pr(e,i,s)}function zh(e,i){var s=e.length,l=typeof Uint8Array<"u"?Uint8Array:Array,h=new l(s);h[0]=h[s-1]=1,Ao(e,h,i,0,s-1);var m,S=[];for(m=0;m<s;m++)h[m]&&S.push(e[m]);return S}function Ao(e,i,s,l,h){var m=0,S,j,H;for(j=l+1;j<=h-1;j++)H=pr(e[j],e[l],e[h],!0),H>m&&(S=j,m=H);m>s&&(i[S]=1,Ao(e,i,s,l,S),Ao(e,i,s,S,h))}function jh(e,i){for(var s=[e[0]],l=1,h=0,m=e.length;l<m;l++)Bh(e[l],e[h])>i&&(s.push(e[l]),h=l);return h<m-1&&s.push(e[m-1]),s}var Xl;function Ql(e,i,s,l,h){var m=l?Xl:gi(e,s),S=gi(i,s),j,H,Q;for(Xl=S;;){if(!(m|S))return[e,i];if(m&S)return!1;j=m||S,H=ns(e,i,j,s,h),Q=gi(H,s),j===m?(e=H,m=Q):(i=H,S=Q)}}function ns(e,i,s,l,h){var m=i.x-e.x,S=i.y-e.y,j=l.min,H=l.max,Q,ue;return s&8?(Q=e.x+m*(H.y-e.y)/S,ue=H.y):s&4?(Q=e.x+m*(j.y-e.y)/S,ue=j.y):s&2?(Q=H.x,ue=e.y+S*(H.x-e.x)/m):s&1&&(Q=j.x,ue=e.y+S*(j.x-e.x)/m),new le(Q,ue,h)}function gi(e,i){var s=0;return e.x<i.min.x?s|=1:e.x>i.max.x&&(s|=2),e.y<i.min.y?s|=4:e.y>i.max.y&&(s|=8),s}function Bh(e,i){var s=i.x-e.x,l=i.y-e.y;return s*s+l*l}function pr(e,i,s,l){var h=i.x,m=i.y,S=s.x-h,j=s.y-m,H=S*S+j*j,Q;return H>0&&(Q=((e.x-h)*S+(e.y-m)*j)/H,Q>1?(h=s.x,m=s.y):Q>0&&(h+=S*Q,m+=j*Q)),S=e.x-h,j=e.y-m,l?S*S+j*j:new le(h,m)}function en(e){return!U(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function ec(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),en(e)}function tc(e,i){var s,l,h,m,S,j,H,Q;if(!e||e.length===0)throw new Error("latlngs not passed");en(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var ue=N([0,0]),Te=y(e),Be=Te.getNorthWest().distanceTo(Te.getSouthWest())*Te.getNorthEast().distanceTo(Te.getNorthWest());Be<1700&&(ue=ko(e));var Dt=e.length,St=[];for(s=0;s<Dt;s++){var tn=N(e[s]);St.push(i.project(N([tn.lat-ue.lat,tn.lng-ue.lng])))}for(s=0,l=0;s<Dt-1;s++)l+=St[s].distanceTo(St[s+1])/2;if(l===0)Q=St[0];else for(s=0,m=0;s<Dt-1;s++)if(S=St[s],j=St[s+1],h=S.distanceTo(j),m+=h,m>l){H=(m-l)/h,Q=[j.x-H*(j.x-S.x),j.y-H*(j.y-S.y)];break}var Bt=i.unproject(q(Q));return N([Bt.lat+ue.lat,Bt.lng+ue.lng])}var Fh={__proto__:null,simplify:Jl,pointToSegmentDistance:Yl,closestPointOnSegment:Dh,clipSegment:Ql,_getEdgeIntersection:ns,_getBitCode:gi,_sqClosestPointOnSegment:pr,isFlat:en,_flat:ec,polylineCenter:tc},Ro={project:function(e){return new le(e.lng,e.lat)},unproject:function(e){return new P(e.y,e.x)},bounds:new k([-180,-90],[180,90])},Mo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new k([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var i=Math.PI/180,s=this.R,l=e.lat*i,h=this.R_MINOR/s,m=Math.sqrt(1-h*h),S=m*Math.sin(l),j=Math.tan(Math.PI/4-l/2)/Math.pow((1-S)/(1+S),m/2);return l=-s*Math.log(Math.max(j,1e-10)),new le(e.lng*i*s,l)},unproject:function(e){for(var i=180/Math.PI,s=this.R,l=this.R_MINOR/s,h=Math.sqrt(1-l*l),m=Math.exp(-e.y/s),S=Math.PI/2-2*Math.atan(m),j=0,H=.1,Q;j<15&&Math.abs(H)>1e-7;j++)Q=h*Math.sin(S),Q=Math.pow((1-Q)/(1+Q),h/2),H=Math.PI/2-2*Math.atan(m*Q)-S,S+=H;return new P(S*i,e.x*i/s)}},Zh={__proto__:null,LonLat:Ro,Mercator:Mo,SphericalMercator:Ce},Vh=a({},ae,{code:"EPSG:3395",projection:Mo,transformation:function(){var e=.5/(Math.PI*Mo.R);return z(e,.5,-e,.5)}()}),nc=a({},ae,{code:"EPSG:4326",projection:Ro,transformation:z(1/180,1,-1/180,.5)}),Hh=a({},se,{projection:Ro,transformation:z(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,i){var s=i.lng-e.lng,l=i.lat-e.lat;return Math.sqrt(s*s+l*l)},infinite:!0});se.Earth=ae,se.EPSG3395=Vh,se.EPSG3857=g,se.EPSG900913=b,se.EPSG4326=nc,se.Simple=Hh;var pn=De.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[d(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[d(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var i=e.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var s=this.getEvents();i.on(s,this),this.once("remove",function(){i.off(s,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});qe.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var i=d(e);return this._layers[i]?this:(this._layers[i]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var i=d(e);return this._layers[i]?(this._loaded&&e.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return d(e)in this._layers},eachLayer:function(e,i){for(var s in this._layers)e.call(i,this._layers[s]);return this},_addLayers:function(e){e=e?U(e)?e:[e]:[];for(var i=0,s=e.length;i<s;i++)this.addLayer(e[i])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[d(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var i=d(e);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,i=-1/0,s=this._getZoomSpan();for(var l in this._zoomBoundLayers){var h=this._zoomBoundLayers[l].options;e=h.minZoom===void 0?e:Math.min(e,h.minZoom),i=h.maxZoom===void 0?i:Math.max(i,h.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=e===1/0?void 0:e,s!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ji=pn.extend({initialize:function(e,i){C(this,i),this._layers={};var s,l;if(e)for(s=0,l=e.length;s<l;s++)this.addLayer(e[s])},addLayer:function(e){var i=this.getLayerId(e);return this._layers[i]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var i=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(e){var i=typeof e=="number"?e:this.getLayerId(e);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var i=Array.prototype.slice.call(arguments,1),s,l;for(s in this._layers)l=this._layers[s],l[e]&&l[e].apply(l,i);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,i){for(var s in this._layers)e.call(i,this._layers[s]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return d(e)}}),Uh=function(e,i){return new ji(e,i)},Mn=ji.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),ji.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),ji.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new D;for(var i in this._layers){var s=this._layers[i];e.extend(s.getBounds?s.getBounds():s.getLatLng())}return e}}),qh=function(e,i){return new Mn(e,i)},Bi=be.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){C(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,i){var s=this._getIconUrl(e);if(!s){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var l=this._createImg(s,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(l,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),l},_setIconStyles:function(e,i){var s=this.options,l=s[i+"Size"];typeof l=="number"&&(l=[l,l]);var h=q(l),m=q(i==="shadow"&&s.shadowAnchor||s.iconAnchor||h&&h.divideBy(2,!0));e.className="leaflet-marker-"+i+" "+(s.className||""),m&&(e.style.marginLeft=-m.x+"px",e.style.marginTop=-m.y+"px"),h&&(e.style.width=h.x+"px",e.style.height=h.y+"px")},_createImg:function(e,i){return i=i||document.createElement("img"),i.src=e,i},_getIconUrl:function(e){return v.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Kh(e){return new Bi(e)}var mr=Bi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof mr.imagePath!="string"&&(mr.imagePath=this._detectIconPath()),(this.options.imagePath||mr.imagePath)+Bi.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var i=function(s,l,h){var m=l.exec(s);return m&&m[h]};return e=i(e,/^url\((['"])?(.+)\1\)$/,2),e&&i(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=Ue("div","leaflet-default-icon-path",document.body),i=un(e,"background-image")||un(e,"backgroundImage");if(document.body.removeChild(e),i=this._stripUrl(i),i)return i;var s=document.querySelector('link[href$="leaflet.css"]');return s?s.href.substring(0,s.href.length-11-1):""}}),ic=Sn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new qn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ae(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&nt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var i=this._marker,s=i._map,l=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,m=pi(i._icon),S=s.getPixelBounds(),j=s.getPixelOrigin(),H=K(S.min._subtract(j).add(h),S.max._subtract(j).subtract(h));if(!H.contains(m)){var Q=q((Math.max(H.max.x,m.x)-H.max.x)/(S.max.x-H.max.x)-(Math.min(H.min.x,m.x)-H.min.x)/(S.min.x-H.min.x),(Math.max(H.max.y,m.y)-H.max.y)/(S.max.y-H.max.y)-(Math.min(H.min.y,m.y)-H.min.y)/(S.min.y-H.min.y)).multiplyBy(l);s.panBy(Q,{animate:!1}),this._draggable._newPos._add(Q),this._draggable._startPos._add(Q),pt(i._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=we(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(ne(this._panRequest),this._panRequest=we(this._adjustPan.bind(this,e)))},_onDrag:function(e){var i=this._marker,s=i._shadow,l=pi(i._icon),h=i._map.layerPointToLatLng(l);s&&pt(s,l),i._latlng=h,e.latlng=h,e.oldLatLng=this._oldLatLng,i.fire("move",e).fire("drag",e)},_onDragEnd:function(e){ne(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),is=pn.extend({options:{icon:new mr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,i){C(this,i),this._latlng=N(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var i=this._latlng;return this._latlng=N(e),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),s=e.icon.createIcon(this._icon),l=!1;s!==this._icon&&(this._icon&&this._removeIcon(),l=!0,e.title&&(s.title=e.title),s.tagName==="IMG"&&(s.alt=e.alt||"")),Ae(s,i),e.keyboard&&(s.tabIndex="0",s.setAttribute("role","button")),this._icon=s,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Re(s,"focus",this._panOnFocus,this);var h=e.icon.createShadow(this._shadow),m=!1;h!==this._shadow&&(this._removeShadow(),m=!0),h&&(Ae(h,i),h.alt=""),this._shadow=h,e.opacity<1&&this._updateOpacity(),l&&this.getPane().appendChild(this._icon),this._initInteraction(),h&&m&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&st(this._icon,"focus",this._panOnFocus,this),rt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&rt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&pt(this._icon,e),this._shadow&&pt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(Ae(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ic)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ic(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Qt(this._icon,e),this._shadow&&Qt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var i=this.options.icon.options,s=i.iconSize?q(i.iconSize):q(0,0),l=i.iconAnchor?q(i.iconAnchor):q(0,0);e.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:s.subtract(l)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Wh(e,i){return new is(e,i)}var Kn=pn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return C(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),rs=Kn.extend({options:{fill:!0,radius:10},initialize:function(e,i){C(this,i),this._latlng=N(e),this._radius=this.options.radius},setLatLng:function(e){var i=this._latlng;return this._latlng=N(e),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var i=e&&e.radius||this._radius;return Kn.prototype.setStyle.call(this,e),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,i=this._radiusY||e,s=this._clickTolerance(),l=[e+s,i+s];this._pxBounds=new k(this._point.subtract(l),this._point.add(l))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Gh(e,i){return new rs(e,i)}var No=rs.extend({initialize:function(e,i,s){if(typeof i=="number"&&(i=a({},s,{radius:i})),C(this,i),this._latlng=N(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new D(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Kn.prototype.setStyle,_project:function(){var e=this._latlng.lng,i=this._latlng.lat,s=this._map,l=s.options.crs;if(l.distance===ae.distance){var h=Math.PI/180,m=this._mRadius/ae.R/h,S=s.project([i+m,e]),j=s.project([i-m,e]),H=S.add(j).divideBy(2),Q=s.unproject(H).lat,ue=Math.acos((Math.cos(m*h)-Math.sin(i*h)*Math.sin(Q*h))/(Math.cos(i*h)*Math.cos(Q*h)))/h;(isNaN(ue)||ue===0)&&(ue=m/Math.cos(Math.PI/180*i)),this._point=H.subtract(s.getPixelOrigin()),this._radius=isNaN(ue)?0:H.x-s.project([Q,e-ue]).x,this._radiusY=H.y-S.y}else{var Te=l.unproject(l.project(this._latlng).subtract([this._mRadius,0]));this._point=s.latLngToLayerPoint(this._latlng),this._radius=this._point.x-s.latLngToLayerPoint(Te).x}this._updateBounds()}});function Jh(e,i,s){return new No(e,i,s)}var Nn=Kn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,i){C(this,i),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var i=1/0,s=null,l=pr,h,m,S=0,j=this._parts.length;S<j;S++)for(var H=this._parts[S],Q=1,ue=H.length;Q<ue;Q++){h=H[Q-1],m=H[Q];var Te=l(e,h,m,!0);Te<i&&(i=Te,s=l(e,h,m))}return s&&(s.distance=Math.sqrt(i)),s},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return tc(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,i){return i=i||this._defaultShape(),e=N(e),i.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new D,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return en(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var i=[],s=en(e),l=0,h=e.length;l<h;l++)s?(i[l]=N(e[l]),this._bounds.extend(i[l])):i[l]=this._convertLatLngs(e[l]);return i},_project:function(){var e=new k;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),i=new le(e,e);this._rawPxBounds&&(this._pxBounds=new k([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(e,i,s){var l=e[0]instanceof P,h=e.length,m,S;if(l){for(S=[],m=0;m<h;m++)S[m]=this._map.latLngToLayerPoint(e[m]),s.extend(S[m]);i.push(S)}else for(m=0;m<h;m++)this._projectLatlngs(e[m],i,s)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,s,l,h,m,S,j,H;for(s=0,h=0,m=this._rings.length;s<m;s++)for(H=this._rings[s],l=0,S=H.length;l<S-1;l++)j=Ql(H[l],H[l+1],e,l,!0),j&&(i[h]=i[h]||[],i[h].push(j[0]),(j[1]!==H[l+1]||l===S-2)&&(i[h].push(j[1]),h++))}},_simplifyPoints:function(){for(var e=this._parts,i=this.options.smoothFactor,s=0,l=e.length;s<l;s++)e[s]=Jl(e[s],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,i){var s,l,h,m,S,j,H=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(s=0,m=this._parts.length;s<m;s++)for(j=this._parts[s],l=0,S=j.length,h=S-1;l<S;h=l++)if(!(!i&&l===0)&&Yl(e,j[h],j[l])<=H)return!0;return!1}});function Yh(e,i){return new Nn(e,i)}Nn._flat=ec;var Fi=Nn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Gl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var i=Nn.prototype._convertLatLngs.call(this,e),s=i.length;return s>=2&&i[0]instanceof P&&i[0].equals(i[s-1])&&i.pop(),i},_setLatLngs:function(e){Nn.prototype._setLatLngs.call(this,e),en(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return en(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,i=this.options.weight,s=new le(i,i);if(e=new k(e.min.subtract(s),e.max.add(s)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var l=0,h=this._rings.length,m;l<h;l++)m=Wl(this._rings[l],e,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var i=!1,s,l,h,m,S,j,H,Q;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(m=0,H=this._parts.length;m<H;m++)for(s=this._parts[m],S=0,Q=s.length,j=Q-1;S<Q;j=S++)l=s[S],h=s[j],l.y>e.y!=h.y>e.y&&e.x<(h.x-l.x)*(e.y-l.y)/(h.y-l.y)+l.x&&(i=!i);return i||Nn.prototype._containsPoint.call(this,e,!0)}});function Xh(e,i){return new Fi(e,i)}var Dn=Mn.extend({initialize:function(e,i){C(this,i),this._layers={},e&&this.addData(e)},addData:function(e){var i=U(e)?e:e.features,s,l,h;if(i){for(s=0,l=i.length;s<l;s++)h=i[s],(h.geometries||h.geometry||h.features||h.coordinates)&&this.addData(h);return this}var m=this.options;if(m.filter&&!m.filter(e))return this;var S=ss(e,m);return S?(S.feature=ls(e),S.defaultOptions=S.options,this.resetStyle(S),m.onEachFeature&&m.onEachFeature(e,S),this.addLayer(S)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=a({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(i){this._setLayerStyle(i,e)},this)},_setLayerStyle:function(e,i){e.setStyle&&(typeof i=="function"&&(i=i(e.feature)),e.setStyle(i))}});function ss(e,i){var s=e.type==="Feature"?e.geometry:e,l=s?s.coordinates:null,h=[],m=i&&i.pointToLayer,S=i&&i.coordsToLatLng||Do,j,H,Q,ue;if(!l&&!s)return null;switch(s.type){case"Point":return j=S(l),rc(m,e,j,i);case"MultiPoint":for(Q=0,ue=l.length;Q<ue;Q++)j=S(l[Q]),h.push(rc(m,e,j,i));return new Mn(h);case"LineString":case"MultiLineString":return H=os(l,s.type==="LineString"?0:1,S),new Nn(H,i);case"Polygon":case"MultiPolygon":return H=os(l,s.type==="Polygon"?1:2,S),new Fi(H,i);case"GeometryCollection":for(Q=0,ue=s.geometries.length;Q<ue;Q++){var Te=ss({geometry:s.geometries[Q],type:"Feature",properties:e.properties},i);Te&&h.push(Te)}return new Mn(h);case"FeatureCollection":for(Q=0,ue=s.features.length;Q<ue;Q++){var Be=ss(s.features[Q],i);Be&&h.push(Be)}return new Mn(h);default:throw new Error("Invalid GeoJSON object.")}}function rc(e,i,s,l){return e?e(i,s):new is(s,l&&l.markersInheritOptions&&l)}function Do(e){return new P(e[1],e[0],e[2])}function os(e,i,s){for(var l=[],h=0,m=e.length,S;h<m;h++)S=i?os(e[h],i-1,s):(s||Do)(e[h]),l.push(S);return l}function zo(e,i){return e=N(e),e.alt!==void 0?[$(e.lng,i),$(e.lat,i),$(e.alt,i)]:[$(e.lng,i),$(e.lat,i)]}function as(e,i,s,l){for(var h=[],m=0,S=e.length;m<S;m++)h.push(i?as(e[m],en(e[m])?0:i-1,s,l):zo(e[m],l));return!i&&s&&h.length>0&&h.push(h[0].slice()),h}function Zi(e,i){return e.feature?a({},e.feature,{geometry:i}):ls(i)}function ls(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var jo={toGeoJSON:function(e){return Zi(this,{type:"Point",coordinates:zo(this.getLatLng(),e)})}};is.include(jo),No.include(jo),rs.include(jo),Nn.include({toGeoJSON:function(e){var i=!en(this._latlngs),s=as(this._latlngs,i?1:0,!1,e);return Zi(this,{type:(i?"Multi":"")+"LineString",coordinates:s})}}),Fi.include({toGeoJSON:function(e){var i=!en(this._latlngs),s=i&&!en(this._latlngs[0]),l=as(this._latlngs,s?2:i?1:0,!0,e);return i||(l=[l]),Zi(this,{type:(s?"Multi":"")+"Polygon",coordinates:l})}}),ji.include({toMultiPoint:function(e){var i=[];return this.eachLayer(function(s){i.push(s.toGeoJSON(e).geometry.coordinates)}),Zi(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(e){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(e);var s=i==="GeometryCollection",l=[];return this.eachLayer(function(h){if(h.toGeoJSON){var m=h.toGeoJSON(e);if(s)l.push(m.geometry);else{var S=ls(m);S.type==="FeatureCollection"?l.push.apply(l,S.features):l.push(S)}}}),s?Zi(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});function sc(e,i){return new Dn(e,i)}var Qh=sc,cs=pn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,i,s){this._url=e,this._bounds=y(i),C(this,s)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ae(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){rt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&fn(this._image),this},bringToBack:function(){return this._map&&hn(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=y(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",i=this._image=e?this._url:Ue("img");if(Ae(i,"leaflet-image-layer"),this._zoomAnimated&&Ae(i,"leaflet-zoom-animated"),this.options.className&&Ae(i,this.options.className),i.onselectstart=w,i.onmousemove=w,i.onload=u(this.fire,this,"load"),i.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(e){var i=this._map.getZoomScale(e.zoom),s=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;di(this._image,s,i)},_reset:function(){var e=this._image,i=new k(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),s=i.getSize();pt(e,i.min),e.style.width=s.x+"px",e.style.height=s.y+"px"},_updateOpacity:function(){Qt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),ed=function(e,i,s){return new cs(e,i,s)},oc=cs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",i=this._image=e?this._url:Ue("video");if(Ae(i,"leaflet-image-layer"),this._zoomAnimated&&Ae(i,"leaflet-zoom-animated"),this.options.className&&Ae(i,this.options.className),i.onselectstart=w,i.onmousemove=w,i.onloadeddata=u(this.fire,this,"load"),e){for(var s=i.getElementsByTagName("source"),l=[],h=0;h<s.length;h++)l.push(s[h].src);this._url=s.length>0?l:[i.src];return}U(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var S=Ue("source");S.src=this._url[m],i.appendChild(S)}}});function td(e,i,s){return new oc(e,i,s)}var ac=cs.extend({_initImage:function(){var e=this._image=this._url;Ae(e,"leaflet-image-layer"),this._zoomAnimated&&Ae(e,"leaflet-zoom-animated"),this.options.className&&Ae(e,this.options.className),e.onselectstart=w,e.onmousemove=w}});function nd(e,i,s){return new ac(e,i,s)}var En=pn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,i){e&&(e instanceof P||U(e))?(this._latlng=N(e),C(this,i)):(C(this,e),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Qt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Qt(this._container,1),this.bringToFront(),this.options.interactive&&(Ae(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(Qt(this._container,0),this._removeTimeout=setTimeout(u(rt,void 0,this._container),200)):rt(this._container),this.options.interactive&&(nt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=N(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&fn(this._container),this},bringToBack:function(){return this._map&&hn(this._container),this},_prepareOpen:function(e){var i=this._source;if(!i._map)return!1;if(i instanceof Mn){i=null;var s=this._source._layers;for(var l in s)if(s[l]._map){i=s[l];break}if(!i)return!1;this._source=i}if(!e)if(i.getCenter)e=i.getCenter();else if(i.getLatLng)e=i.getLatLng();else if(i.getBounds)e=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")e.innerHTML=i;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),i=q(this.options.offset),s=this._getAnchor();this._zoomAnimated?pt(this._container,e.add(s)):i=i.add(e).add(s);var l=this._containerBottom=-i.y,h=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=l+"px",this._container.style.left=h+"px"}},_getAnchor:function(){return[0,0]}});qe.include({_initOverlay:function(e,i,s,l){var h=i;return h instanceof e||(h=new e(l).setContent(i)),s&&h.setLatLng(s),h}}),pn.include({_initOverlay:function(e,i,s,l){var h=s;return h instanceof e?(C(h,l),h._source=this):(h=i&&!l?i:new e(l,this),h.setContent(s)),h}});var us=En.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,En.prototype.openOn.call(this,e)},onAdd:function(e){En.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Kn||this._source.on("preclick",mi))},onRemove:function(e){En.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Kn||this._source.off("preclick",mi))},getEvents:function(){var e=En.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",i=this._container=Ue("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),s=this._wrapper=Ue("div",e+"-content-wrapper",i);if(this._contentNode=Ue("div",e+"-content",s),hr(i),Lo(this._contentNode),Re(i,"contextmenu",mi),this._tipContainer=Ue("div",e+"-tip-container",i),this._tip=Ue("div",e+"-tip",this._tipContainer),this.options.closeButton){var l=this._closeButton=Ue("a",e+"-close-button",i);l.setAttribute("role","button"),l.setAttribute("aria-label","Close popup"),l.href="#close",l.innerHTML='<span aria-hidden="true">&#215;</span>',Re(l,"click",function(h){Lt(h),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,i=e.style;i.width="",i.whiteSpace="nowrap";var s=e.offsetWidth;s=Math.min(s,this.options.maxWidth),s=Math.max(s,this.options.minWidth),i.width=s+1+"px",i.whiteSpace="",i.height="";var l=e.offsetHeight,h=this.options.maxHeight,m="leaflet-popup-scrolled";h&&l>h?(i.height=h+"px",Ae(e,m)):nt(e,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),s=this._getAnchor();pt(this._container,i.add(s))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,i=parseInt(un(this._container,"marginBottom"),10)||0,s=this._container.offsetHeight+i,l=this._containerWidth,h=new le(this._containerLeft,-s-this._containerBottom);h._add(pi(this._container));var m=e.layerPointToContainerPoint(h),S=q(this.options.autoPanPadding),j=q(this.options.autoPanPaddingTopLeft||S),H=q(this.options.autoPanPaddingBottomRight||S),Q=e.getSize(),ue=0,Te=0;m.x+l+H.x>Q.x&&(ue=m.x+l-Q.x+H.x),m.x-ue-j.x<0&&(ue=m.x-j.x),m.y+s+H.y>Q.y&&(Te=m.y+s-Q.y+H.y),m.y-Te-j.y<0&&(Te=m.y-j.y),(ue||Te)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([ue,Te]))}},_getAnchor:function(){return q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),id=function(e,i){return new us(e,i)};qe.mergeOptions({closePopupOnClick:!0}),qe.include({openPopup:function(e,i,s){return this._initOverlay(us,e,i,s).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),pn.include({bindPopup:function(e,i){return this._popup=this._initOverlay(us,this._popup,e,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Mn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){_i(e);var i=e.layer||e.target;if(this._popup._source===i&&!(i instanceof Kn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=i,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var fs=En.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){En.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){En.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=En.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",i=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ue("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var i,s,l=this._map,h=this._container,m=l.latLngToContainerPoint(l.getCenter()),S=l.layerPointToContainerPoint(e),j=this.options.direction,H=h.offsetWidth,Q=h.offsetHeight,ue=q(this.options.offset),Te=this._getAnchor();j==="top"?(i=H/2,s=Q):j==="bottom"?(i=H/2,s=0):j==="center"?(i=H/2,s=Q/2):j==="right"?(i=0,s=Q/2):j==="left"?(i=H,s=Q/2):S.x<m.x?(j="right",i=0,s=Q/2):(j="left",i=H+(ue.x+Te.x)*2,s=Q/2),e=e.subtract(q(i,s,!0)).add(ue).add(Te),nt(h,"leaflet-tooltip-right"),nt(h,"leaflet-tooltip-left"),nt(h,"leaflet-tooltip-top"),nt(h,"leaflet-tooltip-bottom"),Ae(h,"leaflet-tooltip-"+j),pt(h,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Qt(this._container,e)},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(i)},_getAnchor:function(){return q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),rd=function(e,i){return new fs(e,i)};qe.include({openTooltip:function(e,i,s){return this._initOverlay(fs,e,i,s).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),pn.include({bindTooltip:function(e,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(fs,this._tooltip,e,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var i=e?"off":"on",s={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?s.add=this._openTooltip:(s.mouseover=this._openTooltip,s.mouseout=this.closeTooltip,s.click=this._openTooltip,this._map?this._addFocusListeners():s.add=this._addFocusListeners),this._tooltip.options.sticky&&(s.mousemove=this._moveTooltip),this[i](s),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Mn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var i=typeof e.getElement=="function"&&e.getElement();i&&(Re(i,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),Re(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var i=typeof e.getElement=="function"&&e.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var i=this;this._map.once("moveend",function(){i._openOnceFlag=!1,i._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var i=e.latlng,s,l;this._tooltip.options.sticky&&e.originalEvent&&(s=this._map.mouseEventToContainerPoint(e.originalEvent),l=this._map.containerPointToLayerPoint(s),i=this._map.layerPointToLatLng(l)),this._tooltip.setLatLng(i)}});var lc=Bi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var i=e&&e.tagName==="DIV"?e:document.createElement("div"),s=this.options;if(s.html instanceof Element?(Rn(i),i.appendChild(s.html)):i.innerHTML=s.html!==!1?s.html:"",s.bgPos){var l=q(s.bgPos);i.style.backgroundPosition=-l.x+"px "+-l.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function sd(e){return new lc(e)}Bi.Default=mr;var _r=pn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:v.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){C(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),rt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(fn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(hn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof le?e:new le(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var i=this.getPane().children,s=-e(-1/0,1/0),l=0,h=i.length,m;l<h;l++)m=i[l].style.zIndex,i[l]!==this._container&&m&&(s=e(s,+m));isFinite(s)&&(this.options.zIndex=s+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!v.ielt9){Qt(this._container,this.options.opacity);var e=+new Date,i=!1,s=!1;for(var l in this._tiles){var h=this._tiles[l];if(!(!h.current||!h.loaded)){var m=Math.min(1,(e-h.loaded)/200);Qt(h.el,m),m<1?i=!0:(h.active?s=!0:this._onOpaqueTile(h),h.active=!0)}}s&&!this._noPrune&&this._pruneTiles(),i&&(ne(this._fadeFrame),this._fadeFrame=we(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=Ue("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,i=this.options.maxZoom;if(e!==void 0){for(var s in this._levels)s=Number(s),this._levels[s].el.children.length||s===e?(this._levels[s].el.style.zIndex=i-Math.abs(e-s),this._onUpdateLevel(s)):(rt(this._levels[s].el),this._removeTilesAtZoom(s),this._onRemoveLevel(s),delete this._levels[s]);var l=this._levels[e],h=this._map;return l||(l=this._levels[e]={},l.el=Ue("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=i,l.origin=h.project(h.unproject(h.getPixelOrigin()),e).round(),l.zoom=e,this._setZoomTransform(l,h.getCenter(),h.getZoom()),w(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l,l}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var e,i,s=this._map.getZoom();if(s>this.options.maxZoom||s<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)i=this._tiles[e],i.retain=i.current;for(e in this._tiles)if(i=this._tiles[e],i.current&&!i.active){var l=i.coords;this._retainParent(l.x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var i in this._tiles)this._tiles[i].coords.z===e&&this._removeTile(i)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)rt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,i,s,l){var h=Math.floor(e/2),m=Math.floor(i/2),S=s-1,j=new le(+h,+m);j.z=+S;var H=this._tileCoordsToKey(j),Q=this._tiles[H];return Q&&Q.active?(Q.retain=!0,!0):(Q&&Q.loaded&&(Q.retain=!0),S>l?this._retainParent(h,m,S,l):!1)},_retainChildren:function(e,i,s,l){for(var h=2*e;h<2*e+2;h++)for(var m=2*i;m<2*i+2;m++){var S=new le(h,m);S.z=s+1;var j=this._tileCoordsToKey(S),H=this._tiles[j];if(H&&H.active){H.retain=!0;continue}else H&&H.loaded&&(H.retain=!0);s+1<l&&this._retainChildren(h,m,s+1,l)}},_resetView:function(e){var i=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var i=this.options;return i.minNativeZoom!==void 0&&e<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<e?i.maxNativeZoom:e},_setView:function(e,i,s,l){var h=Math.round(i);this.options.maxZoom!==void 0&&h>this.options.maxZoom||this.options.minZoom!==void 0&&h<this.options.minZoom?h=void 0:h=this._clampZoom(h);var m=this.options.updateWhenZooming&&h!==this._tileZoom;(!l||m)&&(this._tileZoom=h,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),h!==void 0&&this._update(e),s||this._pruneTiles(),this._noPrune=!!s),this._setZoomTransforms(e,i)},_setZoomTransforms:function(e,i){for(var s in this._levels)this._setZoomTransform(this._levels[s],e,i)},_setZoomTransform:function(e,i,s){var l=this._map.getZoomScale(s,e.zoom),h=e.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(i,s)).round();v.any3d?di(e.el,h,l):pt(e.el,h)},_resetGrid:function(){var e=this._map,i=e.options.crs,s=this._tileSize=this.getTileSize(),l=this._tileZoom,h=this._map.getPixelWorldBounds(this._tileZoom);h&&(this._globalTileRange=this._pxBoundsToTileRange(h)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,i.wrapLng[0]],l).x/s.x),Math.ceil(e.project([0,i.wrapLng[1]],l).x/s.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([i.wrapLat[0],0],l).y/s.x),Math.ceil(e.project([i.wrapLat[1],0],l).y/s.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var i=this._map,s=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),l=i.getZoomScale(s,this._tileZoom),h=i.project(e,this._tileZoom).floor(),m=i.getSize().divideBy(l*2);return new k(h.subtract(m),h.add(m))},_update:function(e){var i=this._map;if(i){var s=this._clampZoom(i.getZoom());if(e===void 0&&(e=i.getCenter()),this._tileZoom!==void 0){var l=this._getTiledPixelBounds(e),h=this._pxBoundsToTileRange(l),m=h.getCenter(),S=[],j=this.options.keepBuffer,H=new k(h.getBottomLeft().subtract([j,-j]),h.getTopRight().add([j,-j]));if(!(isFinite(h.min.x)&&isFinite(h.min.y)&&isFinite(h.max.x)&&isFinite(h.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Q in this._tiles){var ue=this._tiles[Q].coords;(ue.z!==this._tileZoom||!H.contains(new le(ue.x,ue.y)))&&(this._tiles[Q].current=!1)}if(Math.abs(s-this._tileZoom)>1){this._setView(e,s);return}for(var Te=h.min.y;Te<=h.max.y;Te++)for(var Be=h.min.x;Be<=h.max.x;Be++){var Dt=new le(Be,Te);if(Dt.z=this._tileZoom,!!this._isValidTile(Dt)){var St=this._tiles[this._tileCoordsToKey(Dt)];St?St.current=!0:S.push(Dt)}}if(S.sort(function(Bt,Hi){return Bt.distanceTo(m)-Hi.distanceTo(m)}),S.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var tn=document.createDocumentFragment();for(Be=0;Be<S.length;Be++)this._addTile(S[Be],tn);this._level.el.appendChild(tn)}}}},_isValidTile:function(e){var i=this._map.options.crs;if(!i.infinite){var s=this._globalTileRange;if(!i.wrapLng&&(e.x<s.min.x||e.x>s.max.x)||!i.wrapLat&&(e.y<s.min.y||e.y>s.max.y))return!1}if(!this.options.bounds)return!0;var l=this._tileCoordsToBounds(e);return y(this.options.bounds).overlaps(l)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var i=this._map,s=this.getTileSize(),l=e.scaleBy(s),h=l.add(s),m=i.unproject(l,e.z),S=i.unproject(h,e.z);return[m,S]},_tileCoordsToBounds:function(e){var i=this._tileCoordsToNwSe(e),s=new D(i[0],i[1]);return this.options.noWrap||(s=this._map.wrapLatLngBounds(s)),s},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var i=e.split(":"),s=new le(+i[0],+i[1]);return s.z=+i[2],s},_removeTile:function(e){var i=this._tiles[e];i&&(rt(i.el),delete this._tiles[e],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){Ae(e,"leaflet-tile");var i=this.getTileSize();e.style.width=i.x+"px",e.style.height=i.y+"px",e.onselectstart=w,e.onmousemove=w,v.ielt9&&this.options.opacity<1&&Qt(e,this.options.opacity)},_addTile:function(e,i){var s=this._getTilePos(e),l=this._tileCoordsToKey(e),h=this.createTile(this._wrapCoords(e),u(this._tileReady,this,e));this._initTile(h),this.createTile.length<2&&we(u(this._tileReady,this,e,null,h)),pt(h,s),this._tiles[l]={el:h,coords:e,current:!0},i.appendChild(h),this.fire("tileloadstart",{tile:h,coords:e})},_tileReady:function(e,i,s){i&&this.fire("tileerror",{error:i,tile:s,coords:e});var l=this._tileCoordsToKey(e);s=this._tiles[l],s&&(s.loaded=+new Date,this._map._fadeAnimated?(Qt(s.el,0),ne(this._fadeFrame),this._fadeFrame=we(this._updateOpacity,this)):(s.active=!0,this._pruneTiles()),i||(Ae(s.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:s.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),v.ielt9||!this._map._fadeAnimated?we(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var i=new le(this._wrapX?_(e.x,this._wrapX):e.x,this._wrapY?_(e.y,this._wrapY):e.y);return i.z=e.z,i},_pxBoundsToTileRange:function(e){var i=this.getTileSize();return new k(e.min.unscaleBy(i).floor(),e.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function od(e){return new _r(e)}var Vi=_r.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,i){this._url=e,i=C(this,i),i.detectRetina&&v.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,i){return this._url===e&&i===void 0&&(i=!0),this._url=e,i||this.redraw(),this},createTile:function(e,i){var s=document.createElement("img");return Re(s,"load",u(this._tileOnLoad,this,i,s)),Re(s,"error",u(this._tileOnError,this,i,s)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(s.referrerPolicy=this.options.referrerPolicy),s.alt="",s.src=this.getTileUrl(e),s},getTileUrl:function(e){var i={r:v.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var s=this._globalTileRange.max.y-e.y;this.options.tms&&(i.y=s),i["-y"]=s}return B(this._url,a(i,this.options))},_tileOnLoad:function(e,i){v.ielt9?setTimeout(u(e,this,null,i),0):e(null,i)},_tileOnError:function(e,i,s){var l=this.options.errorTileUrl;l&&i.getAttribute("src")!==l&&(i.src=l),e(s,i)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,i=this.options.maxZoom,s=this.options.zoomReverse,l=this.options.zoomOffset;return s&&(e=i-e),e+l},_getSubdomain:function(e){var i=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var e,i;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(i=this._tiles[e].el,i.onload=w,i.onerror=w,!i.complete)){i.src=Y;var s=this._tiles[e].coords;rt(i),delete this._tiles[e],this.fire("tileabort",{tile:i,coords:s})}},_removeTile:function(e){var i=this._tiles[e];if(i)return i.el.setAttribute("src",Y),_r.prototype._removeTile.call(this,e)},_tileReady:function(e,i,s){if(!(!this._map||s&&s.getAttribute("src")===Y))return _r.prototype._tileReady.call(this,e,i,s)}});function cc(e,i){return new Vi(e,i)}var uc=Vi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,i){this._url=e;var s=a({},this.defaultWmsParams);for(var l in i)l in this.options||(s[l]=i[l]);i=C(this,i);var h=i.detectRetina&&v.retina?2:1,m=this.getTileSize();s.width=m.x*h,s.height=m.y*h,this.wmsParams=s},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,Vi.prototype.onAdd.call(this,e)},getTileUrl:function(e){var i=this._tileCoordsToNwSe(e),s=this._crs,l=K(s.project(i[0]),s.project(i[1])),h=l.min,m=l.max,S=(this._wmsVersion>=1.3&&this._crs===nc?[h.y,h.x,m.y,m.x]:[h.x,h.y,m.x,m.y]).join(","),j=Vi.prototype.getTileUrl.call(this,e);return j+A(this.wmsParams,j,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+S},setParams:function(e,i){return a(this.wmsParams,e),i||this.redraw(),this}});function ad(e,i){return new uc(e,i)}Vi.WMS=uc,cc.wms=ad;var zn=pn.extend({options:{padding:.1},initialize:function(e){C(this,e),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ae(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,i){var s=this._map.getZoomScale(i,this._zoom),l=this._map.getSize().multiplyBy(.5+this.options.padding),h=this._map.project(this._center,i),m=l.multiplyBy(-s).add(h).subtract(this._map._getNewPixelOrigin(e,i));v.any3d?di(this._container,m,s):pt(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,i=this._map.getSize(),s=this._map.containerPointToLayerPoint(i.multiplyBy(-e)).round();this._bounds=new k(s,s.add(i.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),fc=zn.extend({options:{tolerance:0},getEvents:function(){var e=zn.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){zn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Re(e,"mousemove",this._onMouseMove,this),Re(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Re(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){ne(this._redrawRequest),delete this._ctx,rt(this._container),st(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var i in this._layers)e=this._layers[i],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zn.prototype._update.call(this);var e=this._bounds,i=this._container,s=e.getSize(),l=v.retina?2:1;pt(i,e.min),i.width=l*s.x,i.height=l*s.y,i.style.width=s.x+"px",i.style.height=s.y+"px",v.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){zn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[d(e)]=e;var i=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var i=e._order,s=i.next,l=i.prev;s?s.prev=l:this._drawLast=l,l?l.next=s:this._drawFirst=s,delete e._order,delete this._layers[d(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var i=e.options.dashArray.split(/[, ]+/),s=[],l,h;for(h=0;h<i.length;h++){if(l=Number(i[h]),isNaN(l))return;s.push(l)}e.options._dashArray=s}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||we(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var i=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new k,this._redrawBounds.extend(e._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(e._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var i=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,i=this._redrawBounds;if(this._ctx.save(),i){var s=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,s.x,s.y),this._ctx.clip()}this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)e=l.layer,(!i||e._pxBounds&&e._pxBounds.intersects(i))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,i){if(this._drawing){var s,l,h,m,S=e._parts,j=S.length,H=this._ctx;if(j){for(H.beginPath(),s=0;s<j;s++){for(l=0,h=S[s].length;l<h;l++)m=S[s][l],H[l?"lineTo":"moveTo"](m.x,m.y);i&&H.closePath()}this._fillStroke(H,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var i=e._point,s=this._ctx,l=Math.max(Math.round(e._radius),1),h=(Math.max(Math.round(e._radiusY),1)||l)/l;h!==1&&(s.save(),s.scale(1,h)),s.beginPath(),s.arc(i.x,i.y/h,l,0,Math.PI*2,!1),h!==1&&s.restore(),this._fillStroke(s,e)}},_fillStroke:function(e,i){var s=i.options;s.fill&&(e.globalAlpha=s.fillOpacity,e.fillStyle=s.fillColor||s.color,e.fill(s.fillRule||"evenodd")),s.stroke&&s.weight!==0&&(e.setLineDash&&e.setLineDash(i.options&&i.options._dashArray||[]),e.globalAlpha=s.opacity,e.lineWidth=s.weight,e.strokeStyle=s.color,e.lineCap=s.lineCap,e.lineJoin=s.lineJoin,e.stroke())},_onClick:function(e){for(var i=this._map.mouseEventToLayerPoint(e),s,l,h=this._drawFirst;h;h=h.next)s=h.layer,s.options.interactive&&s._containsPoint(i)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(s))&&(l=s);this._fireEvent(l?[l]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,i)}},_handleMouseOut:function(e){var i=this._hoveredLayer;i&&(nt(this._container,"leaflet-interactive"),this._fireEvent([i],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,i){if(!this._mouseHoverThrottled){for(var s,l,h=this._drawFirst;h;h=h.next)s=h.layer,s.options.interactive&&s._containsPoint(i)&&(l=s);l!==this._hoveredLayer&&(this._handleMouseOut(e),l&&(Ae(this._container,"leaflet-interactive"),this._fireEvent([l],e,"mouseover"),this._hoveredLayer=l)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,i,s){this._map._fireDOMEvent(i,s||i.type,e)},_bringToFront:function(e){var i=e._order;if(i){var s=i.next,l=i.prev;if(s)s.prev=l;else return;l?l.next=s:s&&(this._drawFirst=s),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(e)}},_bringToBack:function(e){var i=e._order;if(i){var s=i.next,l=i.prev;if(l)l.next=s;else return;s?s.prev=l:l&&(this._drawLast=l),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(e)}}});function hc(e){return v.canvas?new fc(e):null}var gr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ld={_initContainer:function(){this._container=Ue("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(zn.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var i=e._container=gr("shape");Ae(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",e._path=gr("path"),i.appendChild(e._path),this._updateStyle(e),this._layers[d(e)]=e},_addPath:function(e){var i=e._container;this._container.appendChild(i),e.options.interactive&&e.addInteractiveTarget(i)},_removePath:function(e){var i=e._container;rt(i),e.removeInteractiveTarget(i),delete this._layers[d(e)]},_updateStyle:function(e){var i=e._stroke,s=e._fill,l=e.options,h=e._container;h.stroked=!!l.stroke,h.filled=!!l.fill,l.stroke?(i||(i=e._stroke=gr("stroke")),h.appendChild(i),i.weight=l.weight+"px",i.color=l.color,i.opacity=l.opacity,l.dashArray?i.dashStyle=U(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=l.lineCap.replace("butt","flat"),i.joinstyle=l.lineJoin):i&&(h.removeChild(i),e._stroke=null),l.fill?(s||(s=e._fill=gr("fill")),h.appendChild(s),s.color=l.fillColor||l.color,s.opacity=l.fillOpacity):s&&(h.removeChild(s),e._fill=null)},_updateCircle:function(e){var i=e._point.round(),s=Math.round(e._radius),l=Math.round(e._radiusY||s);this._setPath(e,e._empty()?"M0 0":"AL "+i.x+","+i.y+" "+s+","+l+" 0,"+65535*360)},_setPath:function(e,i){e._path.v=i},_bringToFront:function(e){fn(e._container)},_bringToBack:function(e){hn(e._container)}},hs=v.vml?gr:R,vr=zn.extend({_initContainer:function(){this._container=hs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){rt(this._container),st(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zn.prototype._update.call(this);var e=this._bounds,i=e.getSize(),s=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,s.setAttribute("width",i.x),s.setAttribute("height",i.y)),pt(s,e.min),s.setAttribute("viewBox",[e.min.x,e.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(e){var i=e._path=hs("path");e.options.className&&Ae(i,e.options.className),e.options.interactive&&Ae(i,"leaflet-interactive"),this._updateStyle(e),this._layers[d(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){rt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[d(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var i=e._path,s=e.options;i&&(s.stroke?(i.setAttribute("stroke",s.color),i.setAttribute("stroke-opacity",s.opacity),i.setAttribute("stroke-width",s.weight),i.setAttribute("stroke-linecap",s.lineCap),i.setAttribute("stroke-linejoin",s.lineJoin),s.dashArray?i.setAttribute("stroke-dasharray",s.dashArray):i.removeAttribute("stroke-dasharray"),s.dashOffset?i.setAttribute("stroke-dashoffset",s.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),s.fill?(i.setAttribute("fill",s.fillColor||s.color),i.setAttribute("fill-opacity",s.fillOpacity),i.setAttribute("fill-rule",s.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(e,i){this._setPath(e,F(e._parts,i))},_updateCircle:function(e){var i=e._point,s=Math.max(Math.round(e._radius),1),l=Math.max(Math.round(e._radiusY),1)||s,h="a"+s+","+l+" 0 1,0 ",m=e._empty()?"M0 0":"M"+(i.x-s)+","+i.y+h+s*2+",0 "+h+-s*2+",0 ";this._setPath(e,m)},_setPath:function(e,i){e._path.setAttribute("d",i)},_bringToFront:function(e){fn(e._path)},_bringToBack:function(e){hn(e._path)}});v.vml&&vr.include(ld);function dc(e){return v.svg||v.vml?new vr(e):null}qe.include({getRenderer:function(e){var i=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var i=this._paneRenderers[e];return i===void 0&&(i=this._createRenderer({pane:e}),this._paneRenderers[e]=i),i},_createRenderer:function(e){return this.options.preferCanvas&&hc(e)||dc(e)}});var pc=Fi.extend({initialize:function(e,i){Fi.prototype.initialize.call(this,this._boundsToLatLngs(e),i)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=y(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function cd(e,i){return new pc(e,i)}vr.create=hs,vr.pointsToPath=F,Dn.geometryToLayer=ss,Dn.coordsToLatLng=Do,Dn.coordsToLatLngs=os,Dn.latLngToCoords=zo,Dn.latLngsToCoords=as,Dn.getFeature=Zi,Dn.asFeature=ls,qe.mergeOptions({boxZoom:!0});var mc=Sn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){st(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){rt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),cr(),wo(),this._startPoint=this._map.mouseEventToContainerPoint(e),Re(document,{contextmenu:_i,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=Ue("div","leaflet-zoom-box",this._container),Ae(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var i=new k(this._point,this._startPoint),s=i.getSize();pt(this._box,i.min),this._box.style.width=s.x+"px",this._box.style.height=s.y+"px"},_finish:function(){this._moved&&(rt(this._box),nt(this._container,"leaflet-crosshair")),ur(),bo(),st(document,{contextmenu:_i,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var i=new D(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});qe.addInitHook("addHandler","boxZoom",mc),qe.mergeOptions({doubleClickZoom:!0});var _c=Sn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var i=this._map,s=i.getZoom(),l=i.options.zoomDelta,h=e.originalEvent.shiftKey?s-l:s+l;i.options.doubleClickZoom==="center"?i.setZoom(h):i.setZoomAround(e.containerPoint,h)}});qe.addInitHook("addHandler","doubleClickZoom",_c),qe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var gc=Sn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new qn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}Ae(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){nt(this._map._container,"leaflet-grab"),nt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=y(this._map.options.maxBounds);this._offsetLimit=K(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var i=this._lastTime=+new Date,s=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(s),this._times.push(i),this._prunePositions(i)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,i){return e-(e-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;e.x<i.min.x&&(e.x=this._viscousLimit(e.x,i.min.x)),e.y<i.min.y&&(e.y=this._viscousLimit(e.y,i.min.y)),e.x>i.max.x&&(e.x=this._viscousLimit(e.x,i.max.x)),e.y>i.max.y&&(e.y=this._viscousLimit(e.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,i=Math.round(e/2),s=this._initialWorldOffset,l=this._draggable._newPos.x,h=(l-i+s)%e+i-s,m=(l+i+s)%e-i-s,S=Math.abs(h+s)<Math.abs(m+s)?h:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=S},_onDragEnd:function(e){var i=this._map,s=i.options,l=!s.inertia||e.noInertia||this._times.length<2;if(i.fire("dragend",e),l)i.fire("moveend");else{this._prunePositions(+new Date);var h=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,S=s.easeLinearity,j=h.multiplyBy(S/m),H=j.distanceTo([0,0]),Q=Math.min(s.inertiaMaxSpeed,H),ue=j.multiplyBy(Q/H),Te=Q/(s.inertiaDeceleration*S),Be=ue.multiplyBy(-Te/2).round();!Be.x&&!Be.y?i.fire("moveend"):(Be=i._limitOffset(Be,i.options.maxBounds),we(function(){i.panBy(Be,{duration:Te,easeLinearity:S,noMoveStart:!0,animate:!0})}))}}});qe.addInitHook("addHandler","dragging",gc),qe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var vc=Sn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Re(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),st(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,i=document.documentElement,s=e.scrollTop||i.scrollTop,l=e.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(l,s)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var i=this._panKeys={},s=this.keyCodes,l,h;for(l=0,h=s.left.length;l<h;l++)i[s.left[l]]=[-1*e,0];for(l=0,h=s.right.length;l<h;l++)i[s.right[l]]=[e,0];for(l=0,h=s.down.length;l<h;l++)i[s.down[l]]=[0,e];for(l=0,h=s.up.length;l<h;l++)i[s.up[l]]=[0,-1*e]},_setZoomDelta:function(e){var i=this._zoomKeys={},s=this.keyCodes,l,h;for(l=0,h=s.zoomIn.length;l<h;l++)i[s.zoomIn[l]]=e;for(l=0,h=s.zoomOut.length;l<h;l++)i[s.zoomOut[l]]=-e},_addHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){st(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var i=e.keyCode,s=this._map,l;if(i in this._panKeys){if(!s._panAnim||!s._panAnim._inProgress)if(l=this._panKeys[i],e.shiftKey&&(l=q(l).multiplyBy(3)),s.options.maxBounds&&(l=s._limitOffset(q(l),s.options.maxBounds)),s.options.worldCopyJump){var h=s.wrapLatLng(s.unproject(s.project(s.getCenter()).add(l)));s.panTo(h)}else s.panBy(l)}else if(i in this._zoomKeys)s.setZoom(s.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&s._popup&&s._popup.options.closeOnEscapeKey)s.closePopup();else return;_i(e)}}});qe.addInitHook("addHandler","keyboard",vc),qe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var yc=Sn.extend({addHooks:function(){Re(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){st(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var i=Vl(e),s=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var l=Math.max(s-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),l),_i(e)},_performZoom:function(){var e=this._map,i=e.getZoom(),s=this._map.options.zoomSnap||0;e._stop();var l=this._delta/(this._map.options.wheelPxPerZoomLevel*4),h=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,m=s?Math.ceil(h/s)*s:h,S=e._limitZoom(i+(this._delta>0?m:-m))-i;this._delta=0,this._startTime=null,S&&(e.options.scrollWheelZoom==="center"?e.setZoom(i+S):e.setZoomAround(this._lastMousePos,i+S))}});qe.addInitHook("addHandler","scrollWheelZoom",yc);var ud=600;qe.mergeOptions({tapHold:v.touchNative&&v.safari&&v.mobile,tapTolerance:15});var wc=Sn.extend({addHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){st(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var i=e.touches[0];this._startPos=this._newPos=new le(i.clientX,i.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(Re(document,"touchend",Lt),Re(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),ud),Re(document,"touchend touchcancel contextmenu",this._cancel,this),Re(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){st(document,"touchend",Lt),st(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),st(document,"touchend touchcancel contextmenu",this._cancel,this),st(document,"touchmove",this._onMove,this)},_onMove:function(e){var i=e.touches[0];this._newPos=new le(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,i){var s=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});s._simulated=!0,i.target.dispatchEvent(s)}});qe.addInitHook("addHandler","tapHold",wc),qe.mergeOptions({touchZoom:v.touch,bounceAtZoomLimits:!0});var bc=Sn.extend({addHooks:function(){Ae(this._map._container,"leaflet-touch-zoom"),Re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){nt(this._map._container,"leaflet-touch-zoom"),st(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var i=this._map;if(!(!e.touches||e.touches.length!==2||i._animatingZoom||this._zooming)){var s=i.mouseEventToContainerPoint(e.touches[0]),l=i.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(s.add(l)._divideBy(2))),this._startDist=s.distanceTo(l),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),Re(document,"touchmove",this._onTouchMove,this),Re(document,"touchend touchcancel",this._onTouchEnd,this),Lt(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var i=this._map,s=i.mouseEventToContainerPoint(e.touches[0]),l=i.mouseEventToContainerPoint(e.touches[1]),h=s.distanceTo(l)/this._startDist;if(this._zoom=i.getScaleZoom(h,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&h<1||this._zoom>i.getMaxZoom()&&h>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,h===1)return}else{var m=s._add(l)._divideBy(2)._subtract(this._centerPoint);if(h===1&&m.x===0&&m.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),ne(this._animRequest);var S=u(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=we(S,this,!0),Lt(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ne(this._animRequest),st(document,"touchmove",this._onTouchMove,this),st(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});qe.addInitHook("addHandler","touchZoom",bc),qe.BoxZoom=mc,qe.DoubleClickZoom=_c,qe.Drag=gc,qe.Keyboard=vc,qe.ScrollWheelZoom=yc,qe.TapHold=wc,qe.TouchZoom=bc,r.Bounds=k,r.Browser=v,r.CRS=se,r.Canvas=fc,r.Circle=No,r.CircleMarker=rs,r.Class=be,r.Control=dn,r.DivIcon=lc,r.DivOverlay=En,r.DomEvent=Lh,r.DomUtil=Th,r.Draggable=qn,r.Evented=De,r.FeatureGroup=Mn,r.GeoJSON=Dn,r.GridLayer=_r,r.Handler=Sn,r.Icon=Bi,r.ImageOverlay=cs,r.LatLng=P,r.LatLngBounds=D,r.Layer=pn,r.LayerGroup=ji,r.LineUtil=Fh,r.Map=qe,r.Marker=is,r.Mixin=Mh,r.Path=Kn,r.Point=le,r.PolyUtil=Nh,r.Polygon=Fi,r.Polyline=Nn,r.Popup=us,r.PosAnimation=Hl,r.Projection=Zh,r.Rectangle=pc,r.Renderer=zn,r.SVG=vr,r.SVGOverlay=ac,r.TileLayer=Vi,r.Tooltip=fs,r.Transformation=M,r.Util=Se,r.VideoOverlay=oc,r.bind=u,r.bounds=K,r.canvas=hc,r.circle=Jh,r.circleMarker=Gh,r.control=dr,r.divIcon=sd,r.extend=a,r.featureGroup=qh,r.geoJSON=sc,r.geoJson=Qh,r.gridLayer=od,r.icon=Kh,r.imageOverlay=ed,r.latLng=N,r.latLngBounds=y,r.layerGroup=Uh,r.map=xh,r.marker=Wh,r.point=q,r.polygon=Xh,r.polyline=Yh,r.popup=id,r.rectangle=cd,r.setOptions=C,r.stamp=d,r.svg=dc,r.svgOverlay=nd,r.tileLayer=cc,r.tooltip=rd,r.transformation=z,r.version=o,r.videoOverlay=td;var fd=window.L;r.noConflict=function(){return window.L=fd,this},window.L=r})})(xa,xa.exports);var r0=xa.exports;const na=qf(r0),s0=an({__name:"LeafletMap",props:{resourcesPrefetch:{},locationsPrefetch:{},idReferences:{}},setup(t){const n=Et(!1),r=fi(),o=t,a=Et([]);a.value=o.resourcesPrefetch.map(p=>{var _;return{resource:p,coordinates:((_=o.locationsPrefetch.find(w=>w.resourceinstance_id===p.resourceinstanceid))==null?void 0:_.data[o.idReferences.coordinatesNodeId])??void 0}});const c=Et(null);let u;const f=new Map,d=p=>{const _=na.map(p).setView([41.87213786,-87.62576558],13);return u=_,na.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(_),a.value.forEach(w=>{var $;if(w.coordinates){const x=(($=w.coordinates)==null?void 0:$.features[0].geometry.coordinates)??void 0;if(x){const O=na.marker([x[1],x[0]]);O.bindPopup(`<b>${w.resource.descriptors.en.name}</b>`),O.on("click",()=>{r.$patch({resourceId:w.resource.resourceinstanceid})}),f.set(w.resource.resourceinstanceid,O),O.addTo(_)}}}),u};return Ka(()=>{c.value&&(u=d(c.value))}),Xi(()=>r.resourceId,async p=>{var _;p&&(f.get(p)?(_=f.get(p))==null||_.openPopup():u==null||u.closePopup())},{immediate:!0}),(p,_)=>(xe(),Je(_t,null,[Le("div",{class:"expand-map-button",onClick:_[0]||(_[0]=w=>{n.value=!n.value})}," Explore the artwork geographically "),Le("div",{class:vn(n.value?"map-container-expanded":"map-container-collapsed")},[Le("div",{id:"map",ref_key:"mapElement",ref:c},null,512)],2)],64))}}),o0=In(s0,[["__scopeId","data-v-196963f7"]]),a0=an({__name:"ResourcePanelProvider",setup(t){const n=fi(),r=Et(),o=Et();async function a(){if(!n.resourceId)return;const u=new URL(`http://localhost:8002/resources/${n.resourceId}`),f=new URLSearchParams({format:"json"});u.search=f.toString();const p=await(await fetch(u.toString())).json();r.value=p}async function c(){if(!n.resourceId)return;const u=new URL(`http://localhost:8002/resource/related/${n.resourceId}`),f=await fetch(u.toString()).then(d=>d.json());o.value=f.related_resources.related_resources}return Xi(()=>n.resourceId,async u=>{u&&(a(),c())},{immediate:!0}),(u,f)=>(xe(),jt(ro,null,{default:Kt(()=>[r.value?xn(u.$slots,"default",{key:0,resource:r.value,resourceRelations:o.value}):Nt("",!0)]),_:3}))}}),l0={},c0=t=>(Ua("data-v-56c2463b"),t=t(),qa(),t),u0={class:"resource-detail-header"},f0={class:"resource-detail-header-label"},h0={class:"resource-detail-header-title"},d0={key:0,class:"resource-detail-more-by-artist"},p0={class:"resource-detail-metadata"},m0=c0(()=>Le("div",{class:"resource-detail-metadata-title"},"Arches metadata",-1)),_0={class:"resource-detail-metadata-content"};function g0(t,n){return xe(),Je(_t,null,[Le("div",u0,[Le("div",f0,[xn(t.$slots,"header-label",{},void 0,!0)]),Le("div",h0,[xn(t.$slots,"header-title",{},void 0,!0)])]),xn(t.$slots,"items",{},void 0,!0),t.$slots["more-by-artist"]?(xe(),Je("div",d0,[xn(t.$slots,"more-by-artist",{},void 0,!0)])):Nt("",!0),Le("div",p0,[m0,Le("div",_0,[xn(t.$slots,"metadata",{},void 0,!0)])])],64)}const v0=In(l0,[["render",g0],["__scopeId","data-v-56c2463b"]]),y0={class:"resource-detail-item"},w0={class:"resource-detail-item-header"},b0={key:0,class:"resource-detail-item-header-title"},P0={key:1,class:"resource-detail-item-header-byline"},$0={class:"resource-detail-item-image"},S0=["src"],E0=["src"],T0={key:2,class:"resource-detail-item-credit"},C0={key:0,class:"resource-detail-item-description"},L0=an({__name:"ResourceDetailItem",props:{imageUrl:{}},setup(t){const r=t,o=r.imageUrl?"http://localhost:8002"+r.imageUrl:void 0;return(a,c)=>(xe(),Je("div",y0,[Le("div",w0,[a.$slots["item-header-title"]?(xe(),Je("div",b0,[xn(a.$slots,"item-header-title",{},void 0,!0)])):Nt("",!0),a.$slots["item-header-byline"]?(xe(),Je("div",P0,[xn(a.$slots,"item-header-byline",{},void 0,!0)])):Nt("",!0)]),Le("div",$0,[Pe(o)?(xe(),Je("img",{key:0,loading:"lazy",src:Pe(o),alt:"resource image"},null,8,S0)):(xe(),Je("img",{key:1,src:Pe(!0)?"/archesdataviewer/noimage.png":"/noimage.png",alt:"no image available",loading:"lazy"},null,8,E0)),a.$slots["item-credit"]?(xe(),Je("div",T0,[xn(a.$slots,"item-credit",{},void 0,!0)])):Nt("",!0)]),a.$slots["item-description"]?(xe(),Je("div",C0,[xn(a.$slots,"item-description",{},void 0,!0)])):Nt("",!0)]))}}),x0=In(L0,[["__scopeId","data-v-1500dde2"]]),O0={key:0},I0={key:1},Ph=an({__name:"ArtworkDetailItem",props:{artwork:{},artworkId:{},panelResourceType:{},resourceRelations:{},idReferences:{}},setup(t){const n=t,r=fi(),{graphIdToNameTable:o}=n.idReferences,a=d=>{r.$patch({resourceId:d})},c=n.resourceRelations.find(d=>o[d.graph_id]==="Photographer"),u=n.resourceRelations.find(d=>o[d.graph_id]==="Structure"),f=n.resourceRelations.find(d=>o[d.graph_id]==="Artist");return(d,p)=>{var _;return n.panelResourceType!==void 0?(xe(),jt(x0,{key:0,"image-url":(_=n.artwork.Photograph)==null?void 0:_.Image},Pf({_:2},[n.panelResourceType!==Pe(On).ARTWORK?{name:"item-header-title",fn:Kt(()=>[Le("p",null,[Le("span",{class:"resource-link",onClick:p[0]||(p[0]=w=>a(n.artworkId))},qt(d.artwork.Title),1)])]),key:"0"}:void 0,Pe(f)&&Pe(u)?{name:"item-header-byline",fn:Kt(()=>[Le("p",null,[n.panelResourceType!==Pe(On).ARTIST?(xe(),Je("span",O0,[ki("by "),Le("span",{class:"resource-link",onClick:p[1]||(p[1]=w=>a(Pe(f).resourceinstanceid))},qt(Pe(f).displayname),1)])):Nt("",!0),n.panelResourceType!==Pe(On).STRUCTURE?(xe(),Je("span",I0,[ki(" at "),Le("span",{class:"resource-link",onClick:p[2]||(p[2]=w=>a(Pe(u).resourceinstanceid))},qt(Pe(u).displayname),1)])):Nt("",!0)])]),key:"1"}:void 0,Pe(c)&&n.panelResourceType!==Pe(On).PHOTOGRAPHER?{name:"item-credit",fn:Kt(()=>[Le("p",null,[ki(" Photographer "),Le("span",{class:"resource-link",onClick:p[3]||(p[3]=w=>a(Pe(c).resourceinstanceid))},qt(Pe(c).displayname),1)])]),key:"2"}:void 0,n.artwork.Description&&n.panelResourceType===Pe(On).ARTWORK?{name:"item-description",fn:Kt(()=>[Le("p",null,qt(n.artwork.Description),1)]),key:"3"}:void 0]),1032,["image-url"])):Nt("",!0)}}}),ia=an({__name:"RelatedArtworkDetailItem",props:{relatedArtwork:{},idReferences:{},panelResourceType:{}},setup(t){const n=t,{graphIdToNameTable:r}=n.idReferences,o=Et(),a=Et();async function c(){const f=new URL(`http://localhost:8002/resources/${n.relatedArtwork.resourceinstanceid}`),d=new URLSearchParams({format:"json"});f.search=d.toString();const _=await(await fetch(f.toString())).json();o.value=_}async function u(){const f=new URL(`http://localhost:8002/resource/related/${n.relatedArtwork.resourceinstanceid}`),d=await fetch(f.toString()).then(p=>p.json());a.value=d.related_resources.related_resources}return c(),u(),(f,d)=>{var p;return Pe(La)((p=o.value)==null?void 0:p.resource)&&Pe(r)[o.value.graph_id]==="Artwork"&&a.value&&o.value!==void 0?(xe(),jt(Ph,{key:0,artwork:o.value.resource,"artwork-id":o.value.resourceinstanceid,"resource-relations":a.value,"id-references":n.idReferences,"panel-resource-type":n.panelResourceType},null,8,["artwork","artwork-id","resource-relations","id-references","panel-resource-type"])):Nt("",!0)}}}),k0=["src"],A0=["src"],R0=an({__name:"MoreArtworksByArtistItem",props:{artwork:{},imageTileData:{}},setup(t){const n=fi(),r=t;console.log(r.artwork);const o=!0,a=r.imageTileData?"http://localhost:8002"+r.imageTileData[0].url:void 0,c=u=>{n.$patch({resourceId:u})};return(u,f)=>(xe(),Je("div",{onClick:f[0]||(f[0]=d=>c(r.artwork.resourceinstanceid))},[Pe(a)?(xe(),Je("img",{key:0,class:vn(`more-artwork-image ${Pe(n).resourceId===r.artwork.resourceinstanceid?"blocked":""}`),loading:"lazy",src:Pe(a),alt:"thumbnail image"},null,10,k0)):(xe(),Je("img",{key:1,class:vn(`more-artwork-image ${Pe(n).resourceId===r.artwork.resourceinstanceid?"blocked":""}`),src:Pe(o)?"/archesdataviewer/noimage.png":"/noimage.png",alt:"no image available",loading:"lazy"},null,10,A0))]))}}),M0=In(R0,[["__scopeId","data-v-51cd90fe"]]),N0={key:0,class:"more-artworks-by-artist-title"},D0={key:1,class:"more-artworks-by-artist-gallery"},z0=an({__name:"MoreArtworksByArtist",props:{resource:{},resourcesPrefetch:{},resourceRelations:{},idReferences:{},resourceRelationsPrefetch:{},imagesPrefetch:{}},setup(t){const n=t,r=fi(),o=n.resourceRelations.find(u=>n.idReferences.graphIdToNameTable[u.graph_id]==="Artist"),a=o?Gy(o,n.resourcesPrefetch,n.resourceRelationsPrefetch,n.idReferences):void 0,c=u=>{r.$patch({resourceId:u})};return(u,f)=>(xe(),Je(_t,null,[Pe(o)?(xe(),Je("div",N0,[ki(" More artwork by "),Le("span",{class:"resource-link",onClick:f[0]||(f[0]=d=>c(Pe(o).resourceinstanceid))},qt(Pe(o).displayname),1)])):Nt("",!0),Pe(a)?(xe(),Je("div",D0,[(xe(!0),Je(_t,null,Tr(Pe(a),d=>(xe(),jt(M0,{key:d.resourceinstanceid,artwork:d,"image-tile-data":Pe(bh)(d,n.imagesPrefetch,n.resourceRelationsPrefetch,n.idReferences)},null,8,["artwork","image-tile-data"]))),128))])):Nt("",!0)],64))}}),j0=In(z0,[["__scopeId","data-v-b0c09933"]]),B0={key:0,class:"resource-detail"},F0=an({__name:"ResourcePanel",props:{resource:{},resourceRelations:{},resourceRelationsPrefetch:{},imagesPrefetch:{},idReferences:{},resourcesPrefetch:{}},setup(t){const n=fi(),r=t,{graphIdToNameTable:o}=r.idReferences,a=()=>{n.$patch({resourceId:void 0})};return(c,u)=>r.resource?(xe(),Je("div",B0,[Le("div",{class:"resource-detail-back-button",onClick:a},"Back to search"),Tt(v0,null,Pf({"header-label":Kt(()=>[ki(qt(Pe(o)[r.resource.graph_id]),1)]),"header-title":Kt(()=>[ki(qt(r.resource.displayname??""),1)]),items:Kt(()=>[Pe(La)(r.resource.resource)&&Pe(o)[r.resource.graph_id]==="Artwork"?(xe(),jt(Ph,{key:0,artwork:r.resource.resource,"artwork-id":r.resource.resourceinstanceid,"resource-relations":r.resourceRelations,"id-references":r.idReferences,"panel-resource-type":Pe(On).ARTWORK},null,8,["artwork","artwork-id","resource-relations","id-references","panel-resource-type"])):Pe(Zy)(r.resource.resource)&&Pe(o)[r.resource.graph_id]==="Artist"?(xe(!0),Je(_t,{key:1},Tr(c.resourceRelations.filter(f=>Pe(o)[f.graph_id]==="Artwork"),f=>(xe(),jt(ia,{key:f.graph_id,"related-artwork":f,"id-references":r.idReferences,"panel-resource-type":Pe(On).ARTIST},null,8,["related-artwork","id-references","panel-resource-type"]))),128)):Pe(Wy)(r.resource.resource)&&Pe(o)[r.resource.graph_id]==="Structure"?(xe(!0),Je(_t,{key:2},Tr(c.resourceRelations.filter(f=>Pe(o)[f.graph_id]==="Artwork"),f=>(xe(),jt(ia,{key:f.resourceinstanceid,"related-artwork":f,"id-references":r.idReferences,"panel-resource-type":Pe(On).STRUCTURE},null,8,["related-artwork","id-references","panel-resource-type"]))),128)):Pe(qy)(r.resource.resource)&&Pe(o)[r.resource.graph_id]==="Photographer"?(xe(!0),Je(_t,{key:3},Tr(c.resourceRelations.filter(f=>Pe(o)[f.graph_id]==="Artwork"),f=>(xe(),jt(ia,{key:f.root_ontology_class,"related-artwork":f,"id-references":r.idReferences,"panel-resource-type":Pe(On).PHOTOGRAPHER},null,8,["related-artwork","id-references","panel-resource-type"]))),128)):Nt("",!0)]),metadata:Kt(()=>[Le("div",null,"Graph ID: "+qt(r.resource.graph_id),1),Le("div",null,"Resource Instance ID: "+qt(r.resource.resourceinstanceid),1)]),_:2},[Pe(La)(r.resource.resource)&&Pe(o)[r.resource.graph_id]==="Artwork"?{name:"more-by-artist",fn:Kt(()=>[Tt(j0,{resource:r.resource,"resource-relations":c.resourceRelations,"resource-relations-prefetch":r.resourceRelationsPrefetch,"resources-prefetch":r.resourcesPrefetch,"images-prefetch":r.imagesPrefetch,"id-references":r.idReferences},null,8,["resource","resource-relations","resource-relations-prefetch","resources-prefetch","images-prefetch","id-references"])]),key:"0"}:void 0]),1024)])):Nt("",!0)}}),Z0=In(F0,[["__scopeId","data-v-2077af6f"]]),$h=t=>(Ua("data-v-02cef5c2"),t=t(),qa(),t),V0={class:"home"},H0=$h(()=>Le("div",{class:"welcome"},[Le("h2",null,"Wabash Arts Corridor"),Le("p",null," In 2013, Columbia College Chicago launched the Wabash Arts Corridor to immerse students in the creative spirit by using urban spaces and reclaimable resources to revitalize and transform the South Loop business district into one of the city’s major cultural assets. The heart of WAC is Wabash Avenue from Van Buren to Roosevelt and is framed to the east by Michigan Avenue and to the west by State Street. The corridor is regarded as an “living urban canvas” due to its ever-growing number of large-scale mural installations and collaborative projects. ")],-1)),U0={id:"map-container"},q0={key:1,class:"map-placeholder"},K0={id:"search-list-container"},W0=$h(()=>Le("div",{class:"footer"},[Le("div",{class:"footer-blurb"},[Le("h2",null,"About / Credit"),Le("p",null," This site is a project of XYZ and ABC in association with DEF. All artwork is courtesy of the respective artist. You can email contact@example.org to suggest changes or pat our collective back. ")])],-1)),G0=an({__name:"HomePage",props:{idReferences:{},imagesPrefetch:{},locationsPrefetch:{},resourceRelationsPrefetch:{},resourcesPrefetch:{},loading:{type:Boolean}},setup(t){const n=fi(),r=t;return(o,a)=>(xe(),Je("div",V0,[H0,Le("div",U0,[r.resourcesPrefetch&&r.idReferences&&r.locationsPrefetch?(xe(),jt(o0,{key:0,"resources-prefetch":r.resourcesPrefetch,"id-references":r.idReferences,"locations-prefetch":r.locationsPrefetch},null,8,["resources-prefetch","id-references","locations-prefetch"])):(xe(),Je("div",q0,"Loading Map..."))]),Le("div",K0,[Pe(n).resourceId===void 0&&r.resourcesPrefetch&&r.resourceRelationsPrefetch&&r.idReferences&&r.imagesPrefetch?(xe(),jt(ro,{key:0},{default:Kt(()=>[Tt(i0,{"resources-prefetch":r.resourcesPrefetch,"resource-relations-prefetch":r.resourceRelationsPrefetch,"id-references":r.idReferences,"images-prefetch":r.imagesPrefetch},null,8,["resources-prefetch","resource-relations-prefetch","id-references","images-prefetch"])]),_:1})):(xe(),jt(a0,{key:1},{default:Kt(({resource:c,resourceRelations:u})=>[r.resourceRelationsPrefetch&&r.idReferences&&r.imagesPrefetch&&r.resourcesPrefetch&&u&&c?(xe(),jt(Z0,{key:0,resource:c,"resource-relations":u,"id-references":r.idReferences,"resource-relations-prefetch":r.resourceRelationsPrefetch,"images-prefetch":r.imagesPrefetch,"resources-prefetch":r.resourcesPrefetch},null,8,["resource","resource-relations","id-references","resource-relations-prefetch","images-prefetch","resources-prefetch"])):Nt("",!0)]),_:1}))]),W0]))}}),J0=In(G0,[["__scopeId","data-v-02cef5c2"]]),Y0=an({__name:"App",setup(t){const n=Et(void 0),r=Et(void 0),o=Et(void 0),a=Et(void 0),c=Et(void 0),u=Et(!0);async function f(){try{const d=new URL("http://localhost:8002/archesdataviewer/prefetch"),_=await(await fetch(d.toString())).json();n.value=_.idReferences,r.value=_.images,o.value=_.locations,a.value=_.resourceRelations,c.value=_.resources}catch(d){console.error("Failed to fetch prefetch data:",d)}finally{u.value=!1}}return f(),(d,p)=>(xe(),Je("main",null,[Tt(J0,{"id-references":n.value,"images-prefetch":r.value,"locations-prefetch":o.value,"resource-relations-prefetch":a.value,"resources-prefetch":c.value,loading:u.value},null,8,["id-references","images-prefetch","locations-prefetch","resource-relations-prefetch","resources-prefetch","loading"])]))}}),X0=In(Y0,[["__scopeId","data-v-2ef08ad8"]]),Q0=Xm(),Sh=Wm(X0);Sh.use(Q0);Sh.mount("#app");
